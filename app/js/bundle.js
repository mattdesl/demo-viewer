!function t(e,r,i){function n(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return n(r?r:t)},l,l.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e){var r="@font-face {\n  font-family: 'Aileron';\n  src: url('fonts/Aileron-Bold.eot');\n  src: local('â˜º'), url('fonts/Aileron-Bold.woff') format('woff'), url('fonts/Aileron-Bold.ttf') format('truetype'), url('fonts/Aileron-Bold.svg') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n@font-face {\n  font-family: 'Vollkorn';\n  font-weight: normal;\n  src: url(fonts/Vollkorn-Regular.ttf);\n}\n@font-face {\n  font-family: 'Vollkorn';\n  font-weight: bold;\n  src: url(fonts/Vollkorn-Bold.ttf);\n}\n.info {\n  max-width: 400px;\n  text-align: left;\n  background: #ffffff;\n  padding: 5px 40px 5px 10px;\n  position: relative;\n  left: 0;\n  top: 10px;\n  overflow: hidden;\n  margin: auto;\n  display: inline-block;\n}\n.footer {\n  font-size: 14px;\n  font-family: 'Aileron';\n  font-weight: bold;\n  color: #c5cccd;\n  position: absolute;\n  bottom: 20px;\n  overflow: hidden;\n  text-align: left;\n  display: inline-block;\n  left: 20px;\n  line-height: 25px;\n  margin: auto;\n  width: 60px;\n  height: 20px;\n  background: #ffffff;\n}\n.footer > span {\n  display: inline-block;\n  position: relative;\n}\na,\na:visited,\na:active {\n  color: #797979;\n  text-decoration: none;\n  outline: 0;\n  position: relative;\n  display: inline-block;\n  -webkit-transition: opacity 0.5s ease;\n  -moz-transition: opacity 0.5s ease;\n  -ms-transition: opacity 0.5s ease;\n  -o-transition: opacity 0.5s ease;\n}\na::after,\na:visited::after,\na:active::after {\n  position: absolute;\n  bottom: 2px;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background: #c5cccd;\n  content: ' ';\n  opacity: 0.5;\n  -webkit-transition: all 200ms cubic-bezier(0.19, 1, 0.22, 1);\n  -moz-transition: all 200ms cubic-bezier(0.19, 1, 0.22, 1);\n  -ms-transition: all 200ms cubic-bezier(0.19, 1, 0.22, 1);\n  -o-transition: all 200ms cubic-bezier(0.19, 1, 0.22, 1);\n}\na:hover,\na:visited:hover,\na:active:hover {\n  color: #919191;\n}\na:hover::after,\na:visited:hover::after,\na:active:hover::after {\n  opacity: 1.0;\n  height: 4.5px;\n  bottom: -1px;\n}\nbody {\n  font-family: 'Vollkorn';\n  font-weight: normal;\n  margin: 0;\n  overflow: hidden;\n}\n.arrow-left,\n.arrow-right {\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  cursor: pointer;\n  -webkit-transition: opacity 0.5s ease;\n  -moz-transition: opacity 0.5s ease;\n  -ms-transition: opacity 0.5s ease;\n  -o-transition: opacity 0.5s ease;\n}\n.arrow-left {\n  left: 40px;\n  width: 0;\n  height: 0;\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid transparent;\n  border-right: 20px solid #ffffff;\n}\n.arrow-right {\n  right: 40px;\n  width: 0;\n  height: 0;\n  border-top: 20px solid transparent;\n  border-bottom: 20px solid transparent;\n  border-left: 20px solid #ffffff;\n}\n.disabled {\n  cursor: auto;\n  opacity: 0.35;\n}\n.main-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 20px;\n  width: 100%;\n  height: 100%;\n}\nheader {\n  font-family: 'Aileron';\n  font-weight: bold;\n  color: #c5cccd;\n  font-size: 20px;\n  margin-bottom: 10px;\n}\np {\n  -webkit-font-smoothing: antialiased;\n  margin: 0;\n  font-size: 14px;\n  color: #303030;\n}\n.border {\n  width: 100%;\n  box-sizing: border-box;\n  height: 100%;\n  border: 0px solid white;\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n";t("lessify")(r),e.exports=r},{lessify:286}],2:[function(t){t("./app/less/index.less");var e=t("./lib/app");t("domready")(function(){var r=e({views:t("./lib/views")});document.body.appendChild(r.element),r.make()})},{"./app/less/index.less":1,"./lib/app":4,"./lib/views":12,domready:72}],3:[function(t,e){function r(t,e,r,i){return i=i||{},new n(function(n){i.onComplete=n,t(e,r,i)})}var i=t("gsap"),n=t("bluebird"),o=r.bind(null,i.to);e.exports=o,e.exports.to=o,e.exports.from=r.bind(null,i.from),e.exports.set=i.set,e.exports.fromTo=function(t,e,r,o){return o=o||{},new n(function(n){o.onComplete=n,i.fromTo(t,e,r,o)})}},{bluebird:20,gsap:109}],4:[function(t,e){function r(t){if(!(this instanceof r))return new r(t);if(t=t||{},this.gl=n(),!this.gl)throw"no WebGL available";h.call(this),s.call(this,this.render.bind(this),a({context:this.gl},t)),this.canvas.setAttribute("class","main-canvas"),this.element=c('<div class="main">'),this.element.appendChild(this.canvas),this.views=t.views||[]}function i(t){"function"==typeof t.render&&t.render(this)}var n=t("webgl-context"),o=t("mixes"),s=t("canvas-app"),a=t("xtend"),u=(t("./gl-scissor"),t("transitions")),l=(t("bluebird"),t("inherits")),c=t("domify"),h=t("events").EventEmitter,f=t("gl-clear")({color:[1,1,1,1]}),p=window.devicePixelRatio||1;e.exports=r,l(r,s),o(r,h.prototype),o(r,{make:function(){var t=u.all(this.views,this);return t.create().then(this.start.bind(this)).then(t.show)},render:function(t,e,r,n){this.deltaTime=Math.min(30,n),f(this.gl),this.views.forEach(i,this)},deviceWidth:{get:function(){return this.width*p}},deviceHeight:{get:function(){return this.height*p}}})},{"./gl-scissor":11,bluebird:20,"canvas-app":53,domify:71,events:336,"gl-clear":74,inherits:120,mixes:287,transitions:291,"webgl-context":331,xtend:332}],5:[function(t,e){function r(t){return this instanceof r?(n.call(this),this.current=null,this.currentIndex=0,void(this.views=t)):new r(t)}function i(t){this.current=t}var n=t("events").EventEmitter,o=t("inherits"),s=t("transitions");e.exports=r,o(r,n),r.prototype.set=function(t,e){var r=this.current;this.currentIndex=0|t;var n=this.views[t];if(r!==n){this.emit("change",n,this.currentIndex,this.views);var o=s(r||{},e),a=s(n||{},e);return o.hide().then(o.dispose).then(i.bind(this,n)).then(a.create).then(a.show)}},r.prototype.next=function(t){this.currentIndex<this.views.length-1&&this.currentIndex++,this.set(this.currentIndex,t)},r.prototype.previous=function(t){this.currentIndex>0&&this.currentIndex--,this.set(this.currentIndex,t)}},{events:336,inherits:120,transitions:291}],6:[function(t,e){function r(t,e){return{id:t,create:function(r){this.element=s(e()),r.element.appendChild(this.element),u.hide(this.element),console.log(this.id,"create"),this.scale={value:0},this._setup(r,t)},_setup:function(t,e){"icosphere"===e?this.sphere=f(t.app.gl,{outerColor:[0,0,0,.03],innerColor:[.1,.1,.1,.04],strokeColor:[.1,.1,.1,.5]}):"particles"===e&&(this.particles=p(t.app.gl,{count:50,noiseScale:.5,speed:.3,driftSpeed:.03,width:t.app.width,height:t.app.height,color:[1,1,1,.65],scale:0}))},render:function(t){var e=t.app,r=e.width,i=e.height,n=e.deltaTime;if(this.sphere){var o=[this.scale.value,this.scale.value,this.scale.value];this.sphere.innerScale=o,this.sphere.outerScale=o,this.sphere.draw(r,i,n)}this.particles&&(this.particles.scale=3.5*this.scale.value,this.particles.draw(r,i,n))},dispose:function(){console.log(this.id,"dispose"),a(this.element),this.sphere&&this.sphere.dispose(),this.particles&&this.particles.dispose()},show:function(){console.log(this.id,"show"),u(this.element,"display","inline-block");var t=[this.element,l("p",this.element),l("header",this.element)];return n.all([h(t,{from:-400,delay:.2,ease:"easeOutQuint"}),o(this.scale,1,{value:1,ease:"easeOutQuart"})])},hide:function(){return console.log(this.id,"hide"),n.all([h(this.element,{offset:-300,ease:"easeInQuint"}),o(this.scale,.5,{value:0,ease:"easeOutQuint"})])}}}var i=t("object-map-to-array"),n=t("bluebird"),o=t("../animate"),s=t("hyperglue"),a=t("../dom-remove"),u=(t("domify"),t("dom-style")),u=t("dom-style"),l=t("dom-select"),c={icosphere:t("/projects/demo-viewer/lib/content/templates/icosphere.hbs"),particles:t("/projects/demo-viewer/lib/content/templates/particles.hbs")},h=t("../fx/slide"),f=t("keytime-canvas-playground/ico/spinning-sphere"),p=t("keytime-canvas-playground/ico/particles");e.exports=i(c,function(t,e){return r(e,t)})},{"../animate":3,"../dom-remove":9,"../fx/slide":10,"/projects/demo-viewer/lib/content/templates/icosphere.hbs":7,"/projects/demo-viewer/lib/content/templates/particles.hbs":8,bluebird:20,"dom-select":65,"dom-style":67,domify:71,hyperglue:118,"keytime-canvas-playground/ico/particles":121,"keytime-canvas-playground/ico/spinning-sphere":122,"object-map-to-array":289}],7:[function(t,e){var r=t("hbsfy/runtime");e.exports=r.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="info">\n	<header>icosphere</header>\n	<p>\n	two <a target="_blank" href="https://www.npmjs.org/package/icosphere">icospheres</a>. one is a <a target="_blank" href="https://www.npmjs.org/package/gl-wireframe">wireframe</a>, the other a line loop\n	</p>\n</div>'},useData:!0})},{"hbsfy/runtime":117}],8:[function(t,e){var r=t("hbsfy/runtime");e.exports=r.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="info">\n	<header>particles</header>\n	<p>\n	indexed quads batched with a soft circle shader, using <a href="https://www.npmjs.org/package/simplex-noise" target="_blank">simplex noise</a> for motion\n	</p>\n</div>'},useData:!0})},{"hbsfy/runtime":117}],9:[function(t,e){e.exports=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}},{}],10:[function(t,e){var r=t("../animate"),i=t("bluebird"),n=t("as-number"),o=t("xtend");e.exports=function(t,e){e=e||{},e.stagger=n(e.stagger,.15),e.duration=n(e.duration,1),e.delay=e.delay||0;var s=e.offset||0,a=e.direction||[0,1],u={x:s*a[0],y:s*a[1]};return t=Array.isArray(t)?t:[t],"number"==typeof e.from&&t.forEach(function(t){var i={x:e.from*a[0],y:e.from*a[1]};r.set(t,i)}),i.all(t.map(function(t){var i=o(u,{delay:e.delay,ease:e.ease});return e.delay+=e.stagger,r(t,e.duration,i)}))}},{"../animate":3,"as-number":17,bluebird:20,xtend:332}],11:[function(t,e){e.exports.bind=function(t,e,r,i,n){t.enable(t.SCISSOR_TEST),t.scissor(e,r,i,n)},e.exports.unbind=function(t){t.disable(t.SCISSOR_TEST)}},{}],12:[function(t,e){var r=t("./content");e.exports=[t("./views/background"),t("./views/content")(r),t("./views/arrows"),t("./views/footer")]},{"./content":6,"./views/arrows":13,"./views/background":14,"./views/content":15,"./views/footer":16}],13:[function(t,e){var r=t("bluebird"),i=t("../animate"),n=t("dom-events"),o=t("dom-classes"),s=t("domify");e.exports={create:function(t){this.arrows=["left","right"].map(function(e){var r=s('<div class="arrow-'+e+'">');return n.on(r,"click",function(r){t.emit("arrow-"+e,r)}),t.element.appendChild(r),r}),t.on("change-content",function(t,e,r){this.arrows.forEach(function(t){o.remove(t,"disabled")}),0===e?o.add(this.arrows[0],"disabled"):e===r.length-1&&o.add(this.arrows[1],"disabled")}.bind(this))},show:function(){var t=.65,e=.75;return r.all([i.fromTo(this.arrows[0],e,{x:-100},{ease:"easeOutQuint",delay:t,x:0}),i.fromTo(this.arrows[1],e,{x:100},{ease:"easeOutQuint",delay:t+.1,x:0})])}}},{"../animate":3,bluebird:20,"dom-classes":58,"dom-events":60,domify:71}],14:[function(t,e){var r=t("gl-vignette-background"),i=t("bluebird"),n=t("../gl-scissor"),o=t("../animate"),s={aspect:1,color1:[.95,.95,.95],color2:[60/255,76/255,88/255],smoothing:[-.5,1],noiseAlpha:.12,offset:[-.05,-.15]};e.exports={create:function(t){this.size={x:0,y:1},this.quad=r(t.gl,s)},show:function(){return i.all([o(this.size,1,{delay:.15,ease:"easeOutQuint",x:1})])},dispose:function(){this.quad.dispose()},render:function(t){var e=t.width,r=t.height,i=1.05*Math.max(e,r),o=t.deviceHeight*this.size.y;n.bind(t.gl,0,t.deviceHeight-o,t.deviceWidth*this.size.x,o),this.quad.style({scale:[1/e*i,1/r*i]}),this.quad.draw(t.gl),n.unbind(t.gl)}}},{"../animate":3,"../gl-scissor":11,bluebird:20,"gl-vignette-background":76}],15:[function(t,e){var r=t("bluebird"),i=(t("../animate"),t("transitions"),t("domify")),n=t("../dom-remove"),o=(t("dom-classes"),t("../carousel"));e.exports=function(t){return{create:function(e){this.element=i('<div class="main-content">'),this.app=e,e.element.appendChild(this.element);var r=o(t);e.on("arrow-left",r.previous.bind(r,this)),e.on("arrow-right",r.next.bind(r,this)),r.on("change",e.emit.bind(e,"change-content")),this.carousel=r,this.views=t},dispose:function(){n(this.element)},render:function(){this.carousel.current&&this.carousel.current.render(this)},show:function(){return r.delay(850).then(function(){this.carousel.set(0,this)}.bind(this))}}}},{"../animate":3,"../carousel":5,"../dom-remove":9,bluebird:20,"dom-classes":58,domify:71,transitions:291}],16:[function(t,e){var r=t("bluebird"),i=t("../animate"),n=t("domify"),o=t("dom-select"),s=t("../fx/slide");e.exports={create:function(t){this.element=n('<div class="footer"><span>footer</span></div>'),this.border=n('<div class="border">'),t.element.appendChild(this.element),t.element.appendChild(this.border)},show:function(){var t=o("span",this.element);return r.all([s([this.element,t],{from:100,delay:.8,stagger:.5,ease:"easeOutQuint"}),i(this.border,1,{delay:.4,ease:"easeOutQuint",borderWidth:20})])}}},{"../animate":3,"../fx/slide":10,bluebird:20,"dom-select":65,domify:71}],17:[function(t,e){e.exports=function(t,e){return"number"==typeof t?t:"number"==typeof e?e:0}},{}],18:[function(t,e){"use strict";e.exports=function(t){function e(t){var e=new r(t),i=e.promise();return i.isRejected()?i:(e.setHowMany(1),e.setUnwrap(),e.init(),i)}var r=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],19:[function(t,e){(function(r){"use strict";function i(){this._isTickUsed=!1,this._schedule=n,this._length=0,this._lateBuffer=new o(16),this._functionBuffer=new o(65536);var t=this;this.consumeFunctionBuffer=function(){t._consumeFunctionBuffer()}}var n=t("./schedule.js"),o=t("./queue.js"),s=t("./util.js").errorObj,a=t("./util.js").tryCatch1,u="undefined"!=typeof r?r:void 0;i.prototype.haveItemsQueued=function(){return this._length>0},i.prototype.invokeLater=function(t,e,r){void 0===u||null==u.domain||t.domain||(t=u.domain.bind(t)),this._lateBuffer.push(t,e,r),this._queueTick()},i.prototype.invoke=function(t,e,r){void 0===u||null==u.domain||t.domain||(t=u.domain.bind(t));var i=this._functionBuffer;i.push(t,e,r),this._length=i.length(),this._queueTick()},i.prototype._consumeFunctionBuffer=function(){for(var t=this._functionBuffer;t.length()>0;){var e=t.shift(),r=t.shift(),i=t.shift();e.call(r,i)}this._reset(),this._consumeLateBuffer()},i.prototype._consumeLateBuffer=function(){for(var t=this._lateBuffer;t.length()>0;){var e=t.shift(),r=t.shift(),i=t.shift(),n=a(e,r,i);if(n===s){if(this._queueTick(),null==e.domain)throw n.e;e.domain.emit("error",n.e)}}},i.prototype._queueTick=function(){this._isTickUsed||(this._schedule(this.consumeFunctionBuffer),this._isTickUsed=!0)},i.prototype._reset=function(){this._isTickUsed=!1,this._length=0},e.exports=new i}).call(this,t("Gd+qZh"))},{"./queue.js":42,"./schedule.js":45,"./util.js":52,"Gd+qZh":338}],20:[function(t,e){"use strict";var r=t("./promise.js")();e.exports=r},{"./promise.js":37}],21:[function(t,e){"use strict";var r=Object.create;if(r){var i=r(null),n=r(null);i[" size"]=n[" size"]=0}e.exports=function(e){function r(t){return new Function("obj","                                             \n        'use strict'                                                         \n        var len = this.length;                                               \n        switch(len) {                                                        \n            case 1: return obj.methodName(this[0]);                          \n            case 2: return obj.methodName(this[0], this[1]);                 \n            case 3: return obj.methodName(this[0], this[1], this[2]);        \n            case 0: return obj.methodName();                                 \n            default: return obj.methodName.apply(obj, this);                 \n        }                                                                    \n        ".replace(/methodName/g,t))}function o(t){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",t))}function s(t,e,r){var i=r[t];if("function"!=typeof i){if(!d(t))return null;if(i=e(t),r[t]=i,r[" size"]++,r[" size"]>512){for(var n=Object.keys(r),o=0;256>o;++o)delete r[n[o]];r[" size"]=n.length-256}}return i}function a(t){return s(t,r,i)}function u(t){return s(t,o,n)}function l(t){return t[this.pop()].apply(t,this)}function c(t){return t[this]}function h(t){return t[this]}var f=t("./util.js"),p=f.canEvaluate,d=f.isIdentifier;e.prototype.call=function(t){for(var e=arguments.length,r=new Array(e-1),i=1;e>i;++i)r[i-1]=arguments[i];if(p){var n=a(t);if(null!==n)return this._then(n,void 0,void 0,r,void 0)}return r.push(t),this._then(l,void 0,void 0,r,void 0)},e.prototype.get=function(t){var e,r="number"==typeof t;if(r)e=h;else if(p){var i=u(t);e=null!==i?i:c}else e=c;return this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":52}],22:[function(t,e){"use strict";e.exports=function(e,r){var i=t("./errors.js"),n=i.canAttach,o=t("./async.js"),s=i.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,r=this;void 0!==(e=r._cancellationParent)&&e.isCancellable();)r=e;r._attachExtraTrace(t),r._rejectUnchecked(t)},e.prototype.cancel=function(t){return this.isCancellable()?(t=void 0!==t?n(t)?t:new Error(t+""):new s,o.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=new e(r);return t._propagateFrom(this,6),t._follow(this),t._unsetCancellable(),t},e.prototype.fork=function(t,e,r){var i=this._then(t,e,r,void 0,void 0);return i._setCancellable(),i._cancellationParent=void 0,i}}},{"./async.js":19,"./errors.js":27}],23:[function(t,e){"use strict";e.exports=function(){function e(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t.toString();var i=/\[object [a-zA-Z0-9$_]+\]/;if(i.test(e))try{var n=JSON.stringify(t);e=n}catch(o){}0===e.length&&(e="(empty array)")}return"(<"+r(e)+">, no stack trace)"}function r(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function i(t,e){this.captureStackTrace(i,e)}var n=t("./util.js").inherits,o=t("./es5.js").defineProperty,s=new RegExp("\\b(?:[a-zA-Z0-9.]+\\$_\\w+|tryCatch(?:1|2|3|4|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),a=null,u=null;n(i,Error),i.prototype.captureStackTrace=function(t,e){l(this,t,e)},i.possiblyUnhandledRejection=function(t){if("object"==typeof console){var e;if("object"==typeof t||"function"==typeof t){var r=t.stack;e="Possibly unhandled "+u(r,t)}else e="Possibly unhandled "+String(t);"function"==typeof console.error||"object"==typeof console.error?console.error(e):("function"==typeof console.log||"object"==typeof console.log)&&console.log(e)}},i.combine=function(t,e){for(var r=t.length-1,i=e.length-1;i>=0;--i){var n=e[i];if(t[r]!==n)break;t.pop(),r--}t.push("From previous event:");for(var o=t.concat(e),u=[],i=0,l=o.length;l>i;++i)s.test(o[i])&&a.test(o[i])||i>0&&!a.test(o[i])&&"From previous event:"!==o[i]||u.push(o[i]);return u},i.protectErrorMessageNewlines=function(t){for(var e=0;e<t.length&&!a.test(t[e]);++e);if(!(1>=e)){for(var r=[],i=0;e>i;++i)r.push(t.shift());t.unshift(r.join("\x00"))}},i.isSupported=function(){return"function"==typeof l};var l=function c(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){a=/^\s*at\s*/,u=function(t,r){return"string"==typeof t?t:void 0!==r.name&&void 0!==r.message?r.name+". "+r.message:e(r)};var t=Error.captureStackTrace;return function(e,r){t(e,r)}}var r=new Error;if("string"==typeof r.stack&&"function"==typeof"".startsWith&&r.stack.startsWith("stackDetection@")&&"stackDetection"===c.name){o(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),a=/@/;var i=/[@\n]/;return u=function(t,r){return"string"==typeof t?r.name+". "+r.message+"\n"+t:void 0!==r.name&&void 0!==r.message?r.name+". "+r.message:e(r)},function(t){for(var e=(new Error).stack,r=e.split(i),n=r.length,o="",s=0;n>s;s+=2)o+=r[s],o+="@",o+=r[s+1],o+="\n";t.stack=o}}return u=function(t,r){return"string"==typeof t?t:"object"!=typeof r&&"function"!=typeof r||void 0===r.name||void 0===r.message?e(r):r.name+". "+r.message},null}();return i}},{"./es5.js":29,"./util.js":52}],24:[function(t,e){"use strict";e.exports=function(e){function r(t,e,r){this._instances=t,this._callback=e,this._promise=r}function i(t,e){var r={},i=s(t,r,e);if(i===a)return i;var n=u(r);return n.length?(a.e=new l("Catch filter must inherit from Error or be a simple predicate function"),a):i}var n=t("./util.js"),o=t("./errors.js"),s=n.tryCatch1,a=n.errorObj,u=t("./es5.js").keys,l=o.TypeError;return r.prototype.doFilter=function(t){for(var r=this._callback,n=this._promise,u=n._boundTo,l=0,c=this._instances.length;c>l;++l){var h=this._instances[l],f=h===Error||null!=h&&h.prototype instanceof Error;if(f&&t instanceof h){var p=s(r,u,t);return p===a?(e.e=p.e,e):p}if("function"==typeof h&&!f){var d=i(h,t);if(d===a){var _=o.canAttach(a.e)?a.e:new Error(a.e+"");this._promise._attachExtraTrace(_),t=a.e;break}if(d){var p=s(r,u,t);return p===a?(e.e=p.e,e):p}}}return e.e=t,e},r}},{"./errors.js":27,"./es5.js":29,"./util.js":52}],25:[function(t,e){"use strict";var r=t("./util.js"),i=r.isPrimitive,n=r.wrapsPrimitiveReceiver;e.exports=function(t){var e=function(){return this},r=function(){throw this},o=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype["return"]=t.prototype.thenReturn=function(t){return n&&i(t)?this._then(o(t,2),void 0,void 0,void 0,void 0):this._then(e,void 0,void 0,t,void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return n&&i(t)?this._then(o(t,1),void 0,void 0,void 0,void 0):this._then(r,void 0,void 0,t,void 0)}}},{"./util.js":52}],26:[function(t,e){"use strict";e.exports=function(t,e){var r=t.reduce;t.prototype.each=function(t){return r(this,t,null,e)},t.each=function(t,i){return r(t,i,null,e)}}},{}],27:[function(t,e){"use strict";function r(t){try{p(t,"isOperational",!0)}catch(e){}}function i(t){return null==t?!1:t instanceof a||t.isOperational===!0}function n(t){return t instanceof Error}function o(t){return n(t)}function s(t,e){function r(i){return this instanceof r?(this.message="string"==typeof i?i:e,this.name=t,void(Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(i)}return f(r,Error),r}function a(t){this.name="OperationalError",this.message=t,this.cause=t,this.isOperational=!0,t instanceof Error?(this.message=t.message,this.stack=t.stack):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var u,l,c=t("./es5.js").freeze,h=t("./util.js"),f=h.inherits,p=h.notEnumerableProp,d=s("CancellationError","cancellation error"),_=s("TimeoutError","timeout error"),v=s("AggregateError","aggregate error");try{u=TypeError,l=RangeError}catch(g){u=s("TypeError","type error"),l=s("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<m.length;++y)"function"==typeof Array.prototype[m[y]]&&(v.prototype[m[y]]=Array.prototype[m[y]]);v.prototype.length=0,v.prototype.isOperational=!0;var b=0;v.prototype.toString=function(){var t=Array(4*b+1).join(" "),e="\n"+t+"AggregateError of:\n";b++,t=Array(4*b+1).join(" ");for(var r=0;r<this.length;++r){for(var i=this[r]===this?"[Circular AggregateError]":this[r]+"",n=i.split("\n"),o=0;o<n.length;++o)n[o]=t+n[o];i=n.join("\n"),e+=i+"\n"}return b--,e},f(a,Error);var w="__BluebirdErrorTypes__",x=Error[w];x||(x=c({CancellationError:d,TimeoutError:_,OperationalError:a,RejectionError:a,AggregateError:v}),p(Error,w,x)),e.exports={Error:Error,TypeError:u,RangeError:l,CancellationError:x.CancellationError,OperationalError:x.OperationalError,TimeoutError:x.TimeoutError,AggregateError:x.AggregateError,originatesFromRejection:i,markAsOriginatingFromRejection:r,canAttach:o}},{"./es5.js":29,"./util.js":52}],28:[function(t,e){"use strict";e.exports=function(e){function r(t){var r=new i(t),n=e.rejected(r),o=n._peekContext();return null!=o&&o._attachExtraTrace(r),n}var i=t("./errors.js").TypeError;return r}},{"./errors.js":27}],29:[function(t,e){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r};else{var i={}.hasOwnProperty,n={}.toString,o={}.constructor.prototype,s=function(t){var e=[];for(var r in t)i.call(t,r)&&e.push(r);return e},a=function(t,e,r){return t[e]=r.value,t},u=function(t){return t},l=function(t){try{return Object(t).constructor.prototype}catch(e){return o}},c=function(t){try{return"[object Array]"===n.call(t)}catch(e){return!1}};e.exports={isArray:c,keys:s,defineProperty:a,freeze:u,getPrototypeOf:l,isES5:r}}},{}],30:[function(t,e){"use strict";e.exports=function(t,e){var r=t.map;t.prototype.filter=function(t,i){return r(this,t,i,e)},t.filter=function(t,i,n){return r(t,i,n,e)}}},{}],31:[function(t,e){"use strict";e.exports=function(e,r,i){function n(){return this}function o(){throw this}function s(t){return function(){return t}}function a(t){return function(){throw t}}function u(t,e,r){var i;return i=f&&p(e)?r?s(e):a(e):r?n:o,t._then(i,d,void 0,e,void 0)}function l(t){var n=this.promise,o=this.handler,s=n._isBound()?o.call(n._boundTo):o();if(void 0!==s){var a=i(s,void 0);if(a instanceof e)return u(a,t,n.isFulfilled())}return n.isRejected()?(r.e=t,r):t}function c(t){var r=this.promise,n=this.handler,o=r._isBound()?n.call(r._boundTo,t):n(t);if(void 0!==o){var s=i(o,void 0);if(s instanceof e)return u(s,t,!0)}return t}var h=t("./util.js"),f=h.wrapsPrimitiveReceiver,p=h.isPrimitive,d=h.thrower;e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var r={promise:this,handler:t};return this._then(e?l:c,e?l:void 0,void 0,r,void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":52}],32:[function(t,e){"use strict";e.exports=function(e,r,i,n){function o(t,r){for(var i=h,s=e,a=r.length,u=0;a>u;++u){var l=f(r[u],void 0,t);if(l===i)return s.reject(i.e);var c=n(l,o);if(c instanceof s)return c}return null}function s(t,r,n){var o=this._promise=new e(i);o._setTrace(void 0),this._generatorFunction=t,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(p):p}var a=t("./errors.js"),u=a.TypeError,l=t("./util.js").deprecated,c=t("./util.js"),h=c.errorObj,f=c.tryCatch1,p=[];s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},s.prototype._continue=function(t){if(t===h){this._generator=void 0;var r=a.canAttach(t.e)?t.e:new Error(t.e+"");return this._promise._attachExtraTrace(r),void this._promise._reject(t.e,r)}var i=t.value;if(t.done===!0)this._generator=void 0,this._promise._tryFollow(i)||this._promise._fulfill(i);else{var s=n(i,void 0);if(!(s instanceof e)&&(s=o(s,this._yieldHandlers),null===s))return void this._throw(new u("A value was yielded that could not be treated as a promise"));s._then(this._next,this._throw,void 0,this,null)}},s.prototype._throw=function(t){a.canAttach(t)&&this._promise._attachExtraTrace(t),this._continue(f(this._generator["throw"],this._generator,t))},s.prototype._next=function(t){this._continue(f(this._generator.next,this._generator,t))},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function");var r=Object(e).yieldHandler,i=s;return function(){var e=t.apply(this,arguments),n=new i(void 0,void 0,r);return n._generator=e,n._next(void 0),n.promise()}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("fn must be a function");p.push(t)},e.spawn=function(t){if(l("Promise.spawn is deprecated. Use Promise.coroutine instead."),"function"!=typeof t)return r("generatorFunction must be a function");var i=new s(t,this),n=i.promise();return i._run(e.spawn),n}}},{"./errors.js":27,"./util.js":52}],33:[function(t,e){"use strict";e.exports=function(e,r,i,n){var o=t("./util.js"),s=o.canEvaluate,a=o.tryCatch1,u=o.errorObj;if(s){for(var l=function(t){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,t))},c=function(t){for(var e=[],r=1;t>=r;++r)e.push("holder.p"+r);return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,e.join(", ")))},h=[],f=[void 0],p=1;5>=p;++p)h.push(l(p)),f.push(c(p));var d=function(t,e){this.p1=this.p2=this.p3=this.p4=this.p5=null,this.fn=e,this.total=t,this.now=0};d.prototype.callers=f,d.prototype.checkFulfillment=function(t){var e=this.now;e++;var r=this.total;if(e>=r){var i=this.callers[r],n=a(i,void 0,this);n===u?t._rejectUnchecked(n.e):t._tryFollow(n)||t._fulfillUnchecked(n)}else this.now=e}}e.join=function(){var t,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(t=arguments[o],6>o&&s)){var a=new e(n);a._setTrace(void 0);for(var u=new d(o,t),l=a._reject,c=h,f=0;o>f;++f){var p=i(arguments[f],void 0);p instanceof e?p.isPending()?p._then(c[f],l,void 0,a,u):p.isFulfilled()?c[f].call(a,p._settledValue,u):(a._reject(p._settledValue),p._unsetRejectionIsUnhandled()):c[f].call(a,p,u)}return a}for(var _=arguments.length,v=new Array(_),g=0;_>g;++g)v[g]=arguments[g];var a=new r(v).promise();return void 0!==t?a.spread(t):a}}},{"./util.js":52}],34:[function(t,e){"use strict";e.exports=function(e,r,i,n,o){function s(t,e,r,i){this.constructor$(t),this._callback=e,this._preservedValues=i===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=r>=1?[]:f,this._init$(void 0,-2)}function a(t,e,r,i){var n="object"==typeof r&&null!==r?r.concurrency:0;return n="number"==typeof n&&isFinite(n)&&n>=1?n:0,new s(t,e,n,i)}var u=t("./util.js"),l=u.tryCatch3,c=u.errorObj,h={},f=[];u.inherits(s,r),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,r){var i=this._values;if(null!==i){var o=this.length(),s=this._preservedValues,a=this._limit;if(i[r]===h){if(i[r]=t,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return i[r]=t,void this._queue.push(r);null!==s&&(s[r]=t);var u=this._callback,f=this._promise._boundTo,p=l(u,f,t,r,o);if(p===c)return this._reject(p.e);var d=n(p,void 0);if(d instanceof e){if(d.isPending())return a>=1&&this._inFlight++,i[r]=h,d._proxyPromiseArray(this,r);if(!d.isFulfilled())return d._unsetRejectionIsUnhandled(),this._reject(d.reason());p=d.value()}i[r]=p}var _=++this._totalResolved;_>=o&&(null!==s?this._filter(i,s):this._resolve(i))}},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,r=this._values;t.length>0&&this._inFlight<e;){var i=t.pop();
this._promiseFulfilled(r[i],i)}},s.prototype._filter=function(t,e){for(var r=e.length,i=new Array(r),n=0,o=0;r>o;++o)t[o]&&(i[n++]=e[o]);i.length=n,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?i("fn must be a function"):a(this,t,e,null).promise()},e.map=function(t,e,r,n){return"function"!=typeof e?i("fn must be a function"):a(t,e,r,n).promise()}}},{"./util.js":52}],35:[function(t,e){"use strict";e.exports=function(e){function r(t){throw t}function i(t,e){if(!s.isArray(t))return n(t,e);var i=s.tryCatchApply(this,[null].concat(t),e);i===c&&a.invokeLater(r,void 0,i.e)}function n(t,e){var i=this,n=void 0===t?l(i,e,null):u(i,e,null,t);n===c&&a.invokeLater(r,void 0,n.e)}function o(t,e){var i=this,n=l(i,e,t);n===c&&a.invokeLater(r,void 0,n.e)}var s=t("./util.js"),a=t("./async.js"),u=s.tryCatch2,l=s.tryCatch1,c=s.errorObj;e.prototype.nodeify=function(t,e){if("function"==typeof t){var r=n;void 0!==e&&Object(e).spread&&(r=i),this._then(r,o,void 0,t,this._boundTo)}return this}}},{"./async.js":19,"./util.js":52}],36:[function(t,e){"use strict";e.exports=function(e,r){var i=t("./util.js"),n=t("./async.js"),o=t("./errors.js"),s=i.tryCatch1,a=i.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._progressUnchecked(t)},e.prototype._clearFirstHandlerData$Base=e.prototype._clearFirstHandlerData,e.prototype._clearFirstHandlerData=function(){this._clearFirstHandlerData$Base(),this._progressHandler0=void 0},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var r=t.value,i=t.handler,n=t.promise,u=t.receiver,l=s(i,u,r);if(l===a){if(null!=l.e&&"StopProgressPropagation"!==l.e.name){var c=o.canAttach(l.e)?l.e:new Error(l.e+"");n._attachExtraTrace(c),n._progress(l.e)}}else l instanceof e?l._then(n._progress,null,null,n,void 0):n._progress(l)},e.prototype._progressUnchecked=function(t){if(this.isPending())for(var i=this._length(),o=this._progress,s=0;i>s;s++){var a=this._progressHandlerAt(s),u=this._promiseAt(s);if(u instanceof e)"function"==typeof a?n.invoke(this._doProgressWith,this,{handler:a,promise:u,receiver:this._receiverAt(s),value:t}):n.invoke(o,u,t);else{var l=this._receiverAt(s);"function"==typeof a?a.call(l,t,u):l instanceof e&&l._isProxied()?l._progressUnchecked(t):l instanceof r&&l._promiseProgressed(t,u)}}}}},{"./async.js":19,"./errors.js":27,"./util.js":52}],37:[function(t,e){(function(r){"use strict";function i(t){try{Promise===t&&(Promise=n)}catch(e){}return t}var n;"undefined"!=typeof Promise&&(n=Promise),e.exports=function(){function e(t){if("function"!=typeof t)throw new x("the promise constructor requires a resolver function");if(this.constructor!==e)throw new x("the promise constructor cannot be invoked directly");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,t!==u&&this._resolveFromResolver(t)}function n(t){return t[0]}var o=t("./util.js"),s=t("./async.js"),a=t("./errors.js"),u=function(){},l={},c={e:null},h=t("./thenables.js")(e,u),f=t("./promise_array.js")(e,u,h),p=t("./captured_trace.js")(),d=t("./catch_filter.js")(c),_=t("./promise_resolver.js"),v=o.isArray,g=o.errorObj,m=o.tryCatch1,y=o.tryCatch2,b=o.tryCatchApply,w=a.RangeError,x=a.TypeError,j=a.CancellationError,T=a.TimeoutError,A=a.OperationalError,E=a.originatesFromRejection,P=a.markAsOriginatingFromRejection,R=a.canAttach,k=o.thrower,S=t("./errors_api_rejection")(e),F=function(){return new x("circular promise resolution chain")};e.prototype.bind=function(t){var r=h(t,void 0),i=new e(u);if(r instanceof e){var o=r.then(function(t){i._setBoundTo(t)}),s=e.all([this,o]).then(n);i._follow(s)}else i._follow(this),i._setBoundTo(t);return i._propagateFrom(this,3),i},e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype["catch"]=function(t){var r=arguments.length;if(r>1){var i,n=new Array(r-1),o=0;for(i=0;r-1>i;++i){var s=arguments[i];if("function"!=typeof s){var a=new x("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(a),e.reject(a)}n[o++]=s}n.length=o,t=arguments[i],this._resetTrace();var u=new d(n,t,this);return this._then(void 0,u.doFilter,void 0,u,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},e.prototype.then=function(t,e,r){return this._then(t,e,r,void 0,void 0)},e.prototype.done=function(t,e,r){var i=this._then(t,e,r,void 0,void 0);i._setIsFinal()},e.prototype.spread=function(t,e){return this._then(t,e,void 0,l,void 0)},e.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},e.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this._settledValue,t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this._settledValue,t.isRejected=!0),t},e.prototype.all=function(){return new f(this).promise()},e.is=function(t){return t instanceof e},e.all=function(t){return new f(t).promise()},e.prototype.error=function(t){return this.caught(E,t)},e.prototype._resolveFromSyncValue=function(t){if(t===g)this._cleanValues(),this._setRejected(),this._settledValue=t.e,this._ensurePossibleRejectionHandled();else{var r=h(t,void 0);r instanceof e?this._follow(r):(this._cleanValues(),this._setFulfilled(),this._settledValue=t)}},e.method=function(t){if("function"!=typeof t)throw new x("fn must be a function");return function(){var r;switch(arguments.length){case 0:r=m(t,this,void 0);break;case 1:r=m(t,this,arguments[0]);break;case 2:r=y(t,this,arguments[0],arguments[1]);break;default:for(var i=arguments.length,n=new Array(i),o=0;i>o;++o)n[o]=arguments[o];r=b(t,n,this)}var s=new e(u);return s._setTrace(void 0),s._resolveFromSyncValue(r),s}},e.attempt=e["try"]=function(t,r,i){if("function"!=typeof t)return S("fn must be a function");var n=v(r)?b(t,r,i):m(t,i,r),o=new e(u);return o._setTrace(void 0),o._resolveFromSyncValue(n),o},e.defer=e.pending=function(){var t=new e(u);return t._setTrace(void 0),new _(t)},e.bind=function(t){var r=h(t,void 0),i=new e(u);if(i._setTrace(void 0),r instanceof e){var n=r.then(function(t){i._setBoundTo(t)});i._follow(n)}else i._setBoundTo(t),i._setFulfilled();return i},e.cast=function(t){var r=h(t,void 0);if(!(r instanceof e)){var i=r;r=new e(u),r._setTrace(void 0),r._setFulfilled(),r._cleanValues(),r._settledValue=i}return r},e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(t){var r=new e(u);if(r._setTrace(void 0),P(t),r._cleanValues(),r._setRejected(),r._settledValue=t,!R(t)){var i=new Error(t+"");r._setCarriedStackTrace(i)}return r._ensurePossibleRejectionHandled(),r},e.onPossiblyUnhandledRejection=function(t){p.possiblyUnhandledRejection="function"==typeof t?t:void 0};var C;e.onUnhandledRejectionHandled=function(t){C="function"==typeof t?t:void 0};var O=!1||!("undefined"==typeof r||"string"!=typeof r.execPath||"object"!=typeof r.env||!r.env.BLUEBIRD_DEBUG&&"development"!==r.env.NODE_ENV);e.longStackTraces=function(){if(s.haveItemsQueued()&&O===!1)throw new Error("cannot enable long stack traces after promises have been created");O=p.isSupported()},e.hasLongStackTraces=function(){return O&&p.isSupported()},e.prototype._then=function(t,r,i,n,o){var a=void 0!==o,l=a?o:new e(u);if(!a){if(O){var c=this._peekContext()===this._traceParent;l._traceParent=c?this._traceParent:this}l._propagateFrom(this,7)}var h=this._addCallbacks(t,r,i,l,n);return this.isResolved()&&s.invoke(this._queueSettleAt,this,h),l},e.prototype._length=function(){return 262143&this._bitField},e.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},e.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},e.prototype._setLength=function(t){this._bitField=-262144&this._bitField|262143&t},e.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},e.prototype._setRejected=function(){this._bitField=134217728|this._bitField},e.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},e.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},e.prototype._isFinal=function(){return(33554432&this._bitField)>0},e.prototype._cancellable=function(){return(67108864&this._bitField)>0},e.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},e.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},e.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},e.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},e.prototype._unsetCarriedStackTrace=function(){this._bitField=-1048577&this._bitField,this._fulfillmentHandler0=void 0},e.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},e.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},e.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[(t<<2)+t-5+4];return this._isBound()&&void 0===e?this._boundTo:e},e.prototype._promiseAt=function(t){return 0===t?this._promise0:this[(t<<2)+t-5+3]},e.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[(t<<2)+t-5+0]},e.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[(t<<2)+t-5+1]},e.prototype._addCallbacks=function(t,e,r,i,n){var o=this._length();if(o>=262138&&(o=0,this._setLength(0)),0===o)this._promise0=i,void 0!==n&&(this._receiver0=n),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=t),"function"==typeof e&&(this._rejectionHandler0=e),"function"==typeof r&&(this._progressHandler0=r);else{var s=(o<<2)+o-5;this[s+3]=i,this[s+4]=n,this[s+0]="function"==typeof t?t:void 0,this[s+1]="function"==typeof e?e:void 0,this[s+2]="function"==typeof r?r:void 0}return this._setLength(o+1),o},e.prototype._setProxyHandlers=function(t,e){var r=this._length();if(r>=262138&&(r=0,this._setLength(0)),0===r)this._promise0=e,this._receiver0=t;else{var i=(r<<2)+r-5;this[i+3]=e,this[i+4]=t,this[i+0]=this[i+1]=this[i+2]=void 0}this._setLength(r+1)},e.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},e.prototype._proxyPromise=function(t){t._setProxied(),this._setProxyHandlers(t,-15)},e.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=8388608|this._bitField,this._boundTo=t):this._bitField=-8388609&this._bitField},e.prototype._isBound=function(){return 8388608===(8388608&this._bitField)},e.prototype._resolveFromResolver=function(t){function e(t){i._tryFollow(t)||i._fulfill(t)}function r(t){var e=R(t)?t:new Error(t+"");i._attachExtraTrace(e),P(t),i._reject(t,e===t?void 0:e)}var i=this;this._setTrace(void 0),this._pushContext();var n=y(t,void 0,e,r);if(this._popContext(),void 0!==n&&n===g){var o=n.e,s=R(o)?o:new Error(o+"");i._reject(o,s)}},e.prototype._spreadSlowCase=function(t,e,r,i){var n=new f(r).promise(),o=n._then(function(){return t.apply(i,arguments)},void 0,void 0,l,void 0);e._follow(o)},e.prototype._callSpread=function(t,r,i){var n=this._boundTo;if(v(i))for(var o=0,s=i.length;s>o;++o)if(h(i[o],void 0)instanceof e)return void this._spreadSlowCase(t,r,i,n);return r._pushContext(),b(t,i,n)},e.prototype._callHandler=function(t,e,r,i){var n;return e!==l||this.isRejected()?(r._pushContext(),n=m(t,e,i)):n=this._callSpread(t,r,i),r._popContext(),n},e.prototype._settlePromiseFromHandler=function(t,r,i,n){if(!(n instanceof e))return void t.call(r,i,n);var o=this._callHandler(t,r,n,i);if(!n._isFollowing())if(o===g||o===n||o===c){var s=o===n?F():o.e,a=R(s)?s:new Error(s+"");o!==c&&n._attachExtraTrace(a),n._rejectUnchecked(s,a)}else{var u=h(o,n);if(u instanceof e){if(u.isRejected()&&!u._isCarryingStackTrace()&&!R(u._settledValue)){var a=new Error(u._settledValue+"");n._attachExtraTrace(a),u._setCarriedStackTrace(a)}n._follow(u),n._propagateFrom(u,1)}else n._fulfillUnchecked(o)}},e.prototype._follow=function(t){this._setFollowing(),t.isPending()?(this._propagateFrom(t,1),t._proxyPromise(this)):t.isFulfilled()?this._fulfillUnchecked(t._settledValue):this._rejectUnchecked(t._settledValue,t._getCarriedStackTrace()),t._isRejectionUnhandled()&&t._unsetRejectionIsUnhandled(),O&&null==t._traceParent&&(t._traceParent=this)},e.prototype._tryFollow=function(t){if(this._isFollowingOrFulfilledOrRejected()||t===this)return!1;var r=h(t,void 0);return r instanceof e?(this._follow(r),!0):!1},e.prototype._resetTrace=function(){O&&(this._trace=new p(void 0===this._peekContext()))},e.prototype._setTrace=function(t){if(O){var e=this._peekContext();this._traceParent=e;var r=void 0===e;this._trace=void 0!==t&&t._traceParent===e?t._trace:new p(r)}return this},e.prototype._attachExtraTrace=function(t){if(O){var e=this,r=t.stack;r="string"==typeof r?r.split("\n"):[],p.protectErrorMessageNewlines(r);for(var i=1,n=1;null!=e&&null!=e._trace;)r=p.combine(r,e._trace.stack.split("\n")),e=e._traceParent,n++;var o=Error.stackTraceLimit||10,s=(o+i)*n,a=r.length;a>s&&(r.length=s),a>0&&(r[0]=r[0].split("\x00").join("\n")),t.stack=r.length<=i?"(No stack trace)":r.join("\n")}},e.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},e.prototype._propagateFrom=function(t,e){(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&this._setBoundTo(t._boundTo),(2&e)>0&&this._setTrace(t)},e.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},e.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},e.prototype._settlePromiseAt=function(t){var r=this.isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),i=this._settledValue,n=this._receiverAt(t),o=this._promiseAt(t);if("function"==typeof r)this._settlePromiseFromHandler(r,n,i,o);else{var s=!1,a=this.isFulfilled();void 0!==n&&(n instanceof e&&n._isProxied()?(n._unsetProxied(),a?n._fulfillUnchecked(i):n._rejectUnchecked(i,this._getCarriedStackTrace()),s=!0):n instanceof f&&(a?n._promiseFulfilled(i,o):n._promiseRejected(i,o),s=!0)),s||(a?o._fulfill(i):o._reject(i,this._getCarriedStackTrace()))}t>=4&&this._queueGC()},e.prototype._isProxied=function(){return 4194304===(4194304&this._bitField)},e.prototype._setProxied=function(){this._bitField=4194304|this._bitField},e.prototype._unsetProxied=function(){this._bitField=-4194305&this._bitField},e.prototype._isGcQueued=function(){return-1073741824===(-1073741824&this._bitField)},e.prototype._setGcQueued=function(){this._bitField=-1073741824|this._bitField},e.prototype._unsetGcQueued=function(){this._bitField=1073741823&this._bitField},e.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),s.invokeLater(this._gc,this,void 0))},e.prototype._gc=function(){for(var t=5*this._length()-5,e=0;t>e;e++)delete this[e];this._clearFirstHandlerData(),this._setLength(0),this._unsetGcQueued()},e.prototype._clearFirstHandlerData=function(){this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0},e.prototype._queueSettleAt=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),s.invoke(this._settlePromiseAt,this,t)},e.prototype._fulfillUnchecked=function(t){if(this.isPending()){if(t===this){var e=F();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._cleanValues(),this._setFulfilled(),this._settledValue=t;var r=this._length();r>0&&s.invoke(this._settlePromises,this,r)}},e.prototype._rejectUncheckedCheckError=function(t){var e=R(t)?t:new Error(t+"");this._rejectUnchecked(t,e===t?void 0:e)},e.prototype._rejectUnchecked=function(t,e){if(this.isPending()){if(t===this){var r=F();return this._attachExtraTrace(r),this._rejectUnchecked(r)}if(this._cleanValues(),this._setRejected(),this._settledValue=t,this._isFinal())return void s.invokeLater(k,void 0,void 0===e?t:e);var i=this._length();void 0!==e&&this._setCarriedStackTrace(e),i>0?s.invoke(this._rejectPromises,this,null):this._ensurePossibleRejectionHandled()}},e.prototype._rejectPromises=function(){this._settlePromises(),this._unsetCarriedStackTrace()},e.prototype._settlePromises=function(){for(var t=this._length(),e=0;t>e;e++)this._settlePromiseAt(e)},e.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),void 0!==p.possiblyUnhandledRejection&&s.invokeLater(this._notifyUnhandledRejection,this,void 0)},e.prototype._notifyUnhandledRejectionIsHandled=function(){"function"==typeof C&&s.invokeLater(C,void 0,this)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue,e=this._getCarriedStackTrace();this._setUnhandledRejectionIsNotified(),void 0!==e&&(this._unsetCarriedStackTrace(),t=e),"function"==typeof p.possiblyUnhandledRejection&&p.possiblyUnhandledRejection(t,this)}};var I=[];return e.prototype._peekContext=function(){var t=I.length-1;return t>=0?I[t]:void 0},e.prototype._pushContext=function(){O&&I.push(this)},e.prototype._popContext=function(){O&&I.pop()},e.noConflict=function(){return i(e)},e.setScheduler=function(t){if("function"!=typeof t)throw new x("fn must be a function");s._schedule=t},p.isSupported()||(e.longStackTraces=function(){},O=!1),e._makeSelfResolutionError=F,t("./finally.js")(e,c,h),t("./direct_resolve.js")(e),t("./synchronous_inspection.js")(e),t("./join.js")(e,f,h,u),e.RangeError=w,e.CancellationError=j,e.TimeoutError=T,e.TypeError=x,e.OperationalError=A,e.RejectionError=A,e.AggregateError=a.AggregateError,o.toFastProperties(e),o.toFastProperties(e.prototype),e.Promise=e,t("./timers.js")(e,u,h),t("./race.js")(e,u,h),t("./call_get.js")(e),t("./generators.js")(e,S,u,h),t("./map.js")(e,f,S,h,u),t("./nodeify.js")(e),t("./promisify.js")(e,u),t("./props.js")(e,f,h),t("./reduce.js")(e,f,S,h,u),t("./settle.js")(e,f),t("./some.js")(e,f,S),t("./progress.js")(e,f),t("./cancel.js")(e,u),t("./filter.js")(e,u),t("./any.js")(e,f),t("./each.js")(e,u),t("./using.js")(e,S,h),e.prototype=e.prototype,e}}).call(this,t("Gd+qZh"))},{"./any.js":18,"./async.js":19,"./call_get.js":21,"./cancel.js":22,"./captured_trace.js":23,"./catch_filter.js":24,"./direct_resolve.js":25,"./each.js":26,"./errors.js":27,"./errors_api_rejection":28,"./filter.js":30,"./finally.js":31,"./generators.js":32,"./join.js":33,"./map.js":34,"./nodeify.js":35,"./progress.js":36,"./promise_array.js":38,"./promise_resolver.js":39,"./promisify.js":40,"./props.js":41,"./race.js":43,"./reduce.js":44,"./settle.js":46,"./some.js":47,"./synchronous_inspection.js":48,"./thenables.js":49,"./timers.js":50,"./using.js":51,"./util.js":52,"Gd+qZh":338}],38:[function(t,e){"use strict";e.exports=function(e,r,i){function n(t){switch(t){case-1:return void 0;case-2:return[];case-3:return{}}}function o(t){var i=this._promise=new e(r),n=void 0;t instanceof e&&(n=t,i._propagateFrom(n,5)),i._setTrace(n),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var s=t("./errors.js").canAttach,a=t("./util.js"),u=a.isArray;return o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(t,r){var o=i(this._values,void 0);if(o instanceof e){if(this._values=o,o._setBoundTo(this._promise._boundTo),!o.isFulfilled())return o.isPending()?void o._then(l,this._reject,void 0,this,r):(o._unsetRejectionIsUnhandled(),void this._reject(o._settledValue));if(o=o._settledValue,!u(o)){var s=new e.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(s)}}else if(!u(o)){var s=new e.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(s)}if(0===o.length)return void(-5===r?this._resolveEmptyArray():this._resolve(n(r)));for(var a=this.getActualLength(o.length),c=a,h=this.shouldCopyValues()?new Array(a):this._values,f=!1,p=0;a>p;++p){var d=i(o[p],void 0);d instanceof e?d.isPending()?d._proxyPromiseArray(this,p):(d._unsetRejectionIsUnhandled(),f=!0):f=!0,h[p]=d}this._values=h,this._length=c,f&&this._scanDirectValues(a)},o.prototype._settlePromiseAt=function(t){var r=this._values[t];r instanceof e?r.isFulfilled()?this._promiseFulfilled(r._settledValue,t):r.isRejected()&&this._promiseRejected(r._settledValue,t):this._promiseFulfilled(r,t)},o.prototype._scanDirectValues=function(t){for(var e=0;t>e&&!this._isResolved();++e)this._settlePromiseAt(e)},o.prototype._isResolved=function(){return null===this._values},o.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},o.prototype.__hardReject__=o.prototype._reject=function(t){this._values=null;var e=s(t)?t:new Error(t+"");this._promise._attachExtraTrace(e),this._promise._reject(t,e)},o.prototype._promiseProgressed=function(t,e){this._isResolved()||this._promise._progress({index:e,value:t})},o.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){this._values[e]=t;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)}},o.prototype._promiseRejected=function(t){this._isResolved()||(this._totalResolved++,this._reject(t))},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./errors.js":27,"./util.js":52}],39:[function(t,e){"use strict";function r(t){return t instanceof Error&&p.getPrototypeOf(t)===Error.prototype}function i(t){var e;return e=r(t)?new c(t):t,u.markAsOriginatingFromRejection(e),e}function n(t){function e(e,r){if(null!==t){if(e){var n=i(a(e));t._attachExtraTrace(n),t._reject(n)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),u=1;o>u;++u)s[u-1]=arguments[u];t._fulfill(s)}else t._fulfill(r);t=null}}return e}var o,s=t("./util.js"),a=s.maybeWrapAsError,u=t("./errors.js"),l=u.TimeoutError,c=u.OperationalError,h=t("./async.js"),f=s.haveGetters,p=t("./es5.js");if(o=f?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=n(t),this.callback=this.asCallback},f){var d={get:function(){return n(this.promise)}};p.defineProperty(o.prototype,"asCallback",d),p.defineProperty(o.prototype,"callback",d)}o._nodebackForPromise=n,o.prototype.toString=function(){return"[object PromiseResolver]"},o.prototype.resolve=o.prototype.fulfill=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var e=this.promise;e._tryFollow(t)||h.invoke(e._fulfill,e,t)},o.prototype.reject=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");var e=this.promise;u.markAsOriginatingFromRejection(t);var r=u.canAttach(t)?t:new Error(t+"");e._attachExtraTrace(r),h.invoke(e._reject,e,t),r!==t&&h.invoke(this._setCarriedStackTrace,this,r)},o.prototype.progress=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.");h.invoke(this.promise._progress,this.promise,t)},o.prototype.cancel=function(){h.invoke(this.promise.cancel,this.promise,void 0)},o.prototype.timeout=function(){this.reject(new l("timeout"))},o.prototype.isResolved=function(){return this.promise.isResolved()},o.prototype.toJSON=function(){return this.promise.toJSON()},o.prototype._setCarriedStackTrace=function(t){this.promise.isRejected()&&this.promise._setCarriedStackTrace(t)},e.exports=o},{"./async.js":19,"./errors.js":27,"./es5.js":29,"./util.js":52}],40:[function(t,e){"use strict";e.exports=function(e,r){function i(t){return t.replace(/([$])/,"\\$")}function n(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,r){var i=m.getDataPropertyOrDefault(t,e+r,E);return i?n(i):!1}function s(t,e,r){for(var i=0;i<t.length;i+=2){var n=t[i];if(r.test(n))for(var o=n.replace(r,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new j("Cannot promisify an API that has normal methods with '"+e+"'-suffix")}}function a(t,e,r,i){for(var a=m.inheritedDataKeys(t),u=[],l=0;l<a.length;++l){var c=a[l],h=t[c];"function"!=typeof h||n(h)||o(t,c,e)||!i(c,h,t)||u.push(c,h)}return s(u,e,r),u}function u(t){for(var e=[t],r=Math.max(0,t-1-5),i=t-1;i>=r;--i)i!==t&&e.push(i);for(var i=t+1;5>=i;++i)e.push(i);return e}function l(t){return m.filledRange(t,"arguments[","]")}function c(t){return m.filledRange(t,"_arg","")}function h(t){return"number"==typeof t.length?Math.max(Math.min(t.length,1024),0):0}function f(t){return m.isIdentifier(t)?"."+t:"['"+t.replace(/(['\\])/g,"\\$1")+"']"}function p(t,i,n,o,s){function a(e){var r,n=l(e).join(", "),o=e>0?", ":"";return r="string"==typeof t?"                                                          \n                this.method(args, fn);                                       \n                break;                                                       \n            ".replace(".method",f(t)):i===g?"                                                         \n                callback.call(this, args, fn);                               \n                break;                                                       \n            ":void 0!==i?"                                                         \n                callback.call(receiver, args, fn);                           \n                break;                                                       \n            ":"                                                         \n                callback(args, fn);                                          \n                break;                                                       \n            ",r.replace("args",n).replace(", ",o)}function p(){for(var e="",r=0;r<_.length;++r)e+="case "+_[r]+":"+a(_[r]);var n;return n="string"==typeof t?"                                                  \n                this.property.apply(this, args);                             \n            ".replace(".property",f(t)):i===g?"                                                  \n                callback.apply(this, args);                                  \n            ":"                                                  \n                callback.apply(receiver, args);                              \n            ",e+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = fn;                                                    \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",n)}var d=Math.max(0,h(o)-1),_=u(d),v="string"==typeof n&&m.isIdentifier(n)?n+s:"promisified";return new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","                                         \n        var ret = function FunctionName(Parameters) {                        \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._setTrace(void 0);                                       \n            var fn = nodebackForPromise(promise);                            \n            try {                                                            \n                switch(len) {                                                \n                    [CodeForSwitchCase]                                      \n                }                                                            \n            } catch (e) {                                                    \n                var wrapped = maybeWrapAsError(e);                           \n                promise._attachExtraTrace(wrapped);                          \n                promise._reject(wrapped);                                    \n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        ret.__isPromisified__ = true;                                        \n        return ret;                                                          \n        ".replace("FunctionName",v).replace("Parameters",c(d)).replace("[CodeForSwitchCase]",p()))(e,t,i,b,w,y,r)}function d(t,i){function n(){var n=i;i===g&&(n=this),"string"==typeof t&&(t=n[t]);var o=new e(r);o._setTrace(void 0);var s=y(o);try{t.apply(n,b(arguments,s))}catch(a){var u=w(a);o._attachExtraTrace(u),o._reject(u)}return o}return n.__isPromisified__=!0,n}function _(t,e,r,n){for(var o=new RegExp(i(e)+"$"),s=a(t,e,o,r),u=0,l=s.length;l>u;u+=2){var c=s[u],h=s[u+1],f=c+e;t[f]=n===P?P(c,g,c,h,e):n(h)}return m.toFastProperties(t),t}function v(t,e){return P(t,e,void 0,t)}var g={},m=t("./util.js"),y=t("./promise_resolver.js")._nodebackForPromise,b=m.withAppended,w=m.maybeWrapAsError,x=m.canEvaluate,j=t("./errors").TypeError,T="Async",A=function(t,e){return m.isIdentifier(t)&&"_"!==t.charAt(0)&&!m.isClass(e)},E={__isPromisified__:!0},P=x?p:d;e.promisify=function(t,e){if("function"!=typeof t)throw new j("fn must be a function");return n(t)?t:v(t,arguments.length<2?g:e)},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new j("the target of promisifyAll must be an object or a function");e=Object(e);var r=e.suffix;"string"!=typeof r&&(r=T);var i=e.filter;"function"!=typeof i&&(i=A);var n=e.promisifier;if("function"!=typeof n&&(n=P),!m.isIdentifier(r))throw new RangeError("suffix must be a valid identifier");for(var o=m.inheritedDataKeys(t,{includeHidden:!0}),s=0;s<o.length;++s){var a=t[o[s]];"constructor"!==o[s]&&m.isClass(a)&&(_(a.prototype,r,i,n),_(a,r,i,n))}return _(t,r,i,n)}}},{"./errors":27,"./promise_resolver.js":39,"./util.js":52}],41:[function(t,e){"use strict";e.exports=function(e,r,i){function n(t){for(var e=l.keys(t),r=e.length,i=new Array(2*r),n=0;r>n;++n){var o=e[n];i[n]=t[o],i[n+r]=o}this.constructor$(i)}function o(t){var r,o=i(t,void 0);return u(o)?(r=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new n(o).promise(),o instanceof e&&r._propagateFrom(o,4),r):a("cannot await properties of a non-object")}var s=t("./util.js"),a=t("./errors_api_rejection")(e),u=s.isObject,l=t("./es5.js");s.inherits(n,r),n.prototype._init=function(){this._init$(void 0,-3)},n.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){this._values[e]=t;var r=++this._totalResolved;if(r>=this._length){for(var i={},n=this.length(),o=0,s=this.length();s>o;++o)i[this._values[o+n]]=this._values[o];
this._resolve(i)}}},n.prototype._promiseProgressed=function(t,e){this._isResolved()||this._promise._progress({key:this._values[e+this.length()],value:t})},n.prototype.shouldCopyValues=function(){return!1},n.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return o(this)},e.props=function(t){return o(t)}}},{"./errors_api_rejection":28,"./es5.js":29,"./util.js":52}],42:[function(t,e){"use strict";function r(t,e,r,i,n){for(var o=0;n>o;++o)r[o+i]=t[o+e]}function i(t){this._capacity=t,this._length=0,this._front=0,this._makeCapacity()}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var r=this._front+e&this._capacity-1;this[r]=t,this._length=e+1},i.prototype.push=function(t,e,r){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(r);var n=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[n+0&o]=t,this[n+1&o]=e,this[n+2&o]=r,this._length=i},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._makeCapacity=function(){for(var t=this._capacity,e=0;t>e;++e)this[e]=void 0},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<3)},i.prototype._resizeTo=function(t){var e=this._front,i=this._capacity,n=new Array(i),o=this.length();if(r(this,0,n,0,i),this._capacity=t,this._makeCapacity(),this._front=0,i>=e+o)r(n,e,this,0,o);else{var s=o-(e+o&i-1);r(n,e,this,0,s),r(n,0,this,s,o-s)}},e.exports=i},{}],43:[function(t,e){"use strict";e.exports=function(e,r,i){function n(t,n){var l=i(t,void 0);if(l instanceof e)return a(l);if(!s(t))return o("expecting an array, a promise or a thenable");var c=new e(r);void 0!==n?c._propagateFrom(n,7):c._setTrace(void 0);for(var h=c._fulfill,f=c._reject,p=0,d=t.length;d>p;++p){var _=t[p];(void 0!==_||u.call(t,p))&&e.cast(_)._then(h,f,void 0,c,null)}return c}var o=t("./errors_api_rejection.js")(e),s=t("./util.js").isArray,a=function(t){return t.then(function(e){return n(e,t)})},u={}.hasOwnProperty;e.race=function(t){return n(t,void 0)},e.prototype.race=function(){return n(this,void 0)}}},{"./errors_api_rejection.js":28,"./util.js":52}],44:[function(t,e){"use strict";e.exports=function(e,r,i,n,o){function s(t,r,i,s){this.constructor$(t),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===i,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var a=n(i,void 0),u=!1,l=a instanceof e;l&&(a.isPending()?a._proxyPromiseArray(this,-1):a.isFulfilled()?(i=a.value(),this._gotAccum=!0):(a._unsetRejectionIsUnhandled(),this._reject(a.reason()),u=!0)),l||this._zerothIsAccum||(this._gotAccum=!0),this._callback=r,this._accum=i,u||this._init$(void 0,-5)}function a(t,e,r,n){if("function"!=typeof e)return i("fn must be a function");var o=new s(t,e,r,n);return o.promise()}var u=t("./util.js"),l=u.tryCatch4,c=u.tryCatch3,h=u.errorObj;u.inherits(s,r),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(t,r){var i=this._values;if(null!==i){var o,s=this.length(),a=this._preservedValues,u=null!==a,f=this._gotAccum,p=this._valuesPhase;if(!p)for(p=this._valuesPhase=Array(s),o=0;s>o;++o)p[o]=0;if(o=p[r],0===r&&this._zerothIsAccum?(f||(this._accum=t,this._gotAccum=f=!0),p[r]=0===o?1:2):-1===r?f||(this._accum=t,this._gotAccum=f=!0):0===o?p[r]=1:(p[r]=2,f&&(this._accum=t)),f){for(var d,_=this._callback,v=this._promise._boundTo,g=this._reducingIndex;s>g;++g)if(o=p[g],2!==o){if(1!==o)return;if(t=i[g],t instanceof e){if(!t.isFulfilled())return t.isPending()?void 0:(t._unsetRejectionIsUnhandled(),this._reject(t.reason()));t=t._settledValue}if(u?(a.push(t),d=c(_,v,t,g,s)):d=l(_,v,this._accum,t,g,s),d===h)return this._reject(d.e);var m=n(d,void 0);if(m instanceof e){if(m.isPending())return p[g]=4,m._proxyPromiseArray(this,g);if(!m.isFulfilled())return m._unsetRejectionIsUnhandled(),this._reject(m.reason());d=m.value()}this._reducingIndex=g+1,this._accum=d}else this._reducingIndex=g+1;this._reducingIndex<s||this._resolve(u?a:this._accum)}}},e.prototype.reduce=function(t,e){return a(this,t,e,null)},e.reduce=function(t,e,r,i){return a(t,e,r,i)}}},{"./util.js":52}],45:[function(t,e){(function(t){"use strict";var r,i;if("object"==typeof t&&"string"==typeof t.version)r=function(e){t.nextTick(e)};else if("undefined"!=typeof MutationObserver&&(i=MutationObserver)||"undefined"!=typeof WebKitMutationObserver&&(i=WebKitMutationObserver))r=function(){var t=document.createElement("div"),e=void 0,r=new i(function(){var t=e;e=void 0,t()});return r.observe(t,{attributes:!0}),function(r){e=r,t.classList.toggle("foo")}}();else{if("undefined"==typeof setTimeout)throw new Error("no async scheduler available");r=function(t){setTimeout(t,0)}}e.exports=r}).call(this,t("Gd+qZh"))},{"Gd+qZh":338}],46:[function(t,e){"use strict";e.exports=function(e,r){function i(t){this.constructor$(t)}var n=e.PromiseInspection,o=t("./util.js");o.inherits(i,r),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)},i.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){var r=new n;r._bitField=268435456,r._settledValue=t,this._promiseResolved(e,r)}},i.prototype._promiseRejected=function(t,e){if(!this._isResolved()){var r=new n;r._bitField=134217728,r._settledValue=t,this._promiseResolved(e,r)}},e.settle=function(t){return new i(t).promise()},e.prototype.settle=function(){return new i(this).promise()}}},{"./util.js":52}],47:[function(t,e){"use strict";e.exports=function(e,r,i){function n(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return i("expecting a positive integer");var r=new n(t),o=r.promise();return o.isRejected()?o:(r.setHowMany(e),r.init(),o)}var s=t("./util.js"),a=t("./errors.js").RangeError,u=t("./errors.js").AggregateError,l=s.isArray;s.inherits(n,r),n.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=l(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},n.prototype.init=function(){this._initialized=!0,this._init()},n.prototype.setUnwrap=function(){this._unwrap=!0},n.prototype.howMany=function(){return this._howMany},n.prototype.setHowMany=function(t){this._isResolved()||(this._howMany=t)},n.prototype._promiseFulfilled=function(t){this._isResolved()||(this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values)))},n.prototype._promiseRejected=function(t){if(!this._isResolved()&&(this._addRejected(t),this.howMany()>this._canPossiblyFulfill())){for(var e=new u,r=this.length();r<this._values.length;++r)e.push(this._values[r]);this._reject(e)}},n.prototype._fulfilled=function(){return this._totalResolved},n.prototype._rejected=function(){return this._values.length-this.length()},n.prototype._addRejected=function(t){this._values.push(t)},n.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},n.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},n.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},n.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=n}},{"./errors.js":27,"./util.js":52}],48:[function(t,e){"use strict";e.exports=function(t){function e(t){void 0!==t?(this._bitField=t._bitField,this._settledValue=t.isResolved()?t._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}e.prototype.isFulfilled=t.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype.isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype.isPending=function(){return 0===(402653184&this._bitField)},e.prototype.value=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue},e.prototype.error=e.prototype.reason=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise");return this._settledValue},e.prototype.isResolved=t.prototype.isResolved=function(){return(402653184&this._bitField)>0},t.PromiseInspection=e}},{}],49:[function(t,e){"use strict";e.exports=function(e,r){function i(t){try{return t.then}catch(e){return l.e=e,l}}function n(t,n){if(c(t)){if(t instanceof e)return t;if(o(t)){var a=new e(r);return a._setTrace(void 0),t._then(a._fulfillUnchecked,a._rejectUncheckedCheckError,a._progressUnchecked,a,null),a._setFollowing(),a}var h=i(t);if(h===l)return void 0!==n&&u(h.e)&&n._attachExtraTrace(h.e),e.reject(h.e);if("function"==typeof h)return s(t,h,n)}return t}function o(t){return h.call(t,"_promise0")}function s(t,r,i){function n(r){if(!l){if(l=!0,t===r){var n=e._makeSelfResolutionError();return void 0!==i&&i._attachExtraTrace(n),void a.promise._reject(n,void 0)}a.resolve(r)}}function o(t){if(!l){l=!0;var e=u(t)?t:new Error(t+"");void 0!==i&&i._attachExtraTrace(e),a.promise._reject(t,e)}}function s(t){if(!l){var e=a.promise;"function"==typeof e._progress&&e._progress(t)}}var a=e.defer(),l=!1;try{r.call(t,n,o,s)}catch(c){if(!l){l=!0;var h=u(c)?c:new Error(c+"");void 0!==i&&i._attachExtraTrace(h),a.promise._reject(c,h)}}return a.promise}var a=t("./util.js"),u=t("./errors.js").canAttach,l=a.errorObj,c=a.isObject,h={}.hasOwnProperty;return n}},{"./errors.js":27,"./util.js":52}],50:[function(t,e){"use strict";var r=function(t,e){var r=arguments.length,i=arguments[2],n=arguments[3],o=r>=5?arguments[4]:void 0;setTimeout(function(){t(i,n,o)},0|e)};e.exports=function(e,i,n){var o=(t("./util.js"),t("./errors.js")),s=(t("./errors_api_rejection")(e),e.TimeoutError),a=function(t,e,r){if(t.isPending()){"string"!=typeof e&&(e="operation timed out after "+r+" ms");var i=new s(e);o.markAsOriginatingFromRejection(i),t._attachExtraTrace(i),t._cancel(i)}},u=function(t,e){e._fulfill(t)},l=e.delay=function(t,o){void 0===o&&(o=t,t=void 0),o=+o;var s=n(t,void 0),a=new e(i);return s instanceof e?(a._propagateFrom(s,7),a._follow(s),a.then(function(t){return e.delay(t,o)})):(a._setTrace(void 0),r(u,o,t,a),a)};e.prototype.delay=function(t){return l(this,t)},e.prototype.timeout=function(t,n){t=+t;var o=new e(i);return o._propagateFrom(this,7),o._follow(this),r(a,t,o,n,t),o.cancellable()}}},{"./errors.js":27,"./errors_api_rejection":28,"./util.js":52}],51:[function(t,e){"use strict";e.exports=function(e,r,i){function n(t){for(var r=t.length,i=0;r>i;++i){var n=t[i];if(n.isRejected())return e.reject(n.error());t[i]=n.value()}return t}function o(t){setTimeout(function(){throw t},0)}function s(t){var e=i(t,void 0);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function a(t,r){function n(){if(a>=u)return l.resolve();var c=s(t[a++]);if(c instanceof e&&c._isDisposable()){try{c=i(c._getDisposer().tryDispose(r),void 0)}catch(h){return o(h)}if(c instanceof e)return c._then(n,o,null,null,null)}n()}var a=0,u=t.length,l=e.defer();return n(),l.promise}function u(t){var e=new d;return e._settledValue=t,e._bitField=268435456,a(this,e).thenReturn(t)}function l(t){var e=new d;return e._settledValue=t,e._bitField=134217728,a(this,e).thenThrow(t)}function c(t,e){this._data=t,this._promise=e}function h(t,e){this.constructor$(t,e)}var f=t("./errors.js").TypeError,p=t("./util.js").inherits,d=e.PromiseInspection;c.prototype.data=function(){return this._data},c.prototype.promise=function(){return this._promise},c.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},c.prototype.tryDispose=function(t){var e=this.resource(),r=null!==e?this.doDispose(e,t):null;return this._promise._unsetDisposable(),this._data=this._promise=null,r},c.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},p(h,c),h.prototype.doDispose=function(t,e){var r=this.data();return r.call(t,t,e)},e.using=function(){var t=arguments.length;if(2>t)return r("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return r("fn must be a function");t--;for(var o=new Array(t),s=0;t>s;++s){var a=arguments[s];if(c.isDisposer(a)){var h=a;a=a.promise(),a._setDisposable(h)}o[s]=a}return e.settle(o).then(n).spread(i)._then(u,l,void 0,o,void 0)},e.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new h(t,this);throw new f}}},{"./errors.js":27,"./util.js":52}],52:[function(t,e,r){"use strict";function i(t,e,r){try{return t.call(e,r)}catch(i){return j.e=i,j}}function n(t,e,r,i){try{return t.call(e,r,i)}catch(n){return j.e=n,j}}function o(t,e,r,i,n){try{return t.call(e,r,i,n)}catch(o){return j.e=o,j}}function s(t,e,r,i,n,o){try{return t.call(e,r,i,n,o)}catch(s){return j.e=s,j}}function a(t,e,r){try{return t.apply(r,e)}catch(i){return j.e=i,j}}function u(t){return"string"==typeof t?t:""+t}function l(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function c(t){return!l(t)}function h(t){return l(t)?new Error(u(t)):t}function f(t,e){var r,i=t.length,n=new Array(i+1);for(r=0;i>r;++r)n[r]=t[r];return n[r]=e,n}function p(t,e,r){if(!b.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:r:void 0}function d(t,e,r){if(l(t))return t;var i={value:r,configurable:!0,enumerable:!1,writable:!0};return b.defineProperty(t,e,i),t}function _(t){throw t}function v(t){try{if("function"==typeof t){var e=b.keys(t.prototype);return e.length>0&&!(1===e.length&&"constructor"===e[0])}return!1}catch(r){return!1}}function g(t){function e(){}return e.prototype=t,e}function m(t){return P.test(t)}function y(t,e,r){for(var i=new Array(t),n=0;t>n;++n)i[n]=e+n+r;return i}var b=t("./es5.js"),w=function(){try{var t={};return b.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(e){return!1}}(),x="undefined"==typeof navigator,j={e:{}},T=function(t,e){function r(){this.constructor=t,this.constructor$=e;for(var r in e.prototype)i.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}var i={}.hasOwnProperty;return r.prototype=e.prototype,t.prototype=new r,t.prototype},A=function(){return"string"!==this}.call("string"),E=function(){return b.isES5?function(t,e){for(var r=[],i=Object.create(null),n=Object(e).includeHidden?Object.getOwnPropertyNames:Object.keys;null!=t;){var o;try{o=n(t)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var l=Object.getOwnPropertyDescriptor(t,u);null!=l&&null==l.get&&null==l.set&&r.push(u)}}t=b.getPrototypeOf(t)}return r}:function(t){var e=[];for(var r in t)e.push(r);return e}}(),P=/^[a-z$_][a-z$_0-9]*$/i,R={isClass:v,isIdentifier:m,inheritedDataKeys:E,getDataPropertyOrDefault:p,thrower:_,isArray:b.isArray,haveGetters:w,notEnumerableProp:d,isPrimitive:l,isObject:c,canEvaluate:x,errorObj:j,tryCatch1:i,tryCatch2:n,tryCatch3:o,tryCatch4:s,tryCatchApply:a,inherits:T,withAppended:f,asString:u,maybeWrapAsError:h,wrapsPrimitiveReceiver:A,toFastProperties:g,filledRange:y};e.exports=R},{"./es5.js":29}],53:[function(t,e){function r(t){var e="undefined"!=typeof CanvasRenderingContext2D&&t instanceof CanvasRenderingContext2D;return t&&(e||n(t))}function i(t,e){if(!(this instanceof i))return new i(t,e);"object"==typeof t&&t&&(e=t,t=null),t="function"==typeof t?t:e.onRender,e=e||{},e.retina="boolean"==typeof e.retina?e.retina:!0;var u="number"==typeof e.width,l="number"==typeof e.height;(u||l)&&(e.ignoreResize=!0),e.width=u?e.width:window.innerWidth,e.height=l?e.height:window.innerHeight;var c,h,f=e.retina?window.devicePixelRatio||1:1,p=e.contextAttributes||{};if(this.isWebGL=!1,r(e.context)&&(h=e.context,c=h.canvas),c||(c=e.canvas||document.createElement("canvas")),c.width=e.width*f,c.height=e.height*f,!h)if("webgl"===e.context||"experimental-webgl"===e.context){if(h=o({canvas:c,attributes:p}),!h)throw"WebGL Context Not Supported -- try enabling it or using a different browser"}else h=c.getContext(e.context||"2d",p);this.isWebGL=n(h),e.retina&&(c.style.width=e.width+"px",c.style.height=e.height+"px"),this.running=!1,this.width=e.width,this.height=e.height,this.canvas=c,this.context=h,this.onResize=e.onResize,this._DPR=f,this._retina=e.retina,this._once=e.once,this._ignoreResize=e.ignoreResize,this._lastFrame=null,this._then=Date.now(),this.fps=60,this._frames=0,this._prevTime=this._then,this._ignoreResize||(e.resizeDebounce="number"==typeof e.resizeDebounce?e.resizeDebounce:50,a(window,"resize",s(function(){this.resize(window.innerWidth,window.innerHeight)}.bind(this),e.resizeDebounce,!1)),a(window,"orientationchange",function(){this.resize(window.innerWidth,window.innerHeight)}.bind(this))),this.onRender="function"==typeof t?t.bind(this):function(){},this.renderOnce=function(){var t=Date.now(),e=t-this._then;this._frames++,t>this._prevTime+1e3&&(this.fps=Math.round(1e3*this._frames/(t-this._prevTime)),this._prevTime=t,this._frames=0),this.isWebGL?this.context.viewport(0,0,this.width*this._DPR,this.height*this._DPR):(this.context.save(),this.context.scale(this._DPR,this._DPR)),this.onRender(this.context,this.width,this.height,e),this.isWebGL||this.context.restore(),this._then=t},this._renderHandler=function(){this.running&&(this._once||(this._lastFrame=requestAnimationFrame(this._renderHandler)),this.renderOnce())}.bind(this),"function"==typeof e.onReady&&e.onReady.call(this,h,this.width,this.height)}var n=t("is-webgl-context"),o=t("webgl-context"),s=t("debounce"),a=t("add-event-listener");Object.defineProperty(i.prototype,"retinaEnabled",{set:function(t){this._retina=t,this._DPR=this._retina?window.devicePixelRatio||1:1,this.resize(this.width,this.height)},get:function(){return this._retina}}),i.prototype.resetFPS=function(){this._frames=0,this._prevTime=Date.now(),this._then=this._prevTime,this.fps=60},i.prototype.start=function(){this.running||(this._lastFrame&&cancelAnimationFrame(this._lastFrame),this.resetFPS(),this.running=!0,this._lastFrame=requestAnimationFrame(this._renderHandler))},i.prototype.stop=function(){this._lastFrame&&(cancelAnimationFrame(this._lastFrame),this._lastFrame=null),this.running=!1},i.prototype.resize=function(t,e){var r=this.canvas;this.width=t,this.height=e,r.width=this.width*this._DPR,r.height=this.height*this._DPR,this._retina&&(r.style.width=this.width+"px",r.style.height=this.height+"px"),this._once&&requestAnimationFrame(this._renderHandler),"function"==typeof this.onResize&&this.onResize(this.width,this.height)},e.exports=i},{"add-event-listener":54,debounce:55,"is-webgl-context":57,"webgl-context":331}],54:[function(t,e){function r(t,e,r,i){return u=u||(document.addEventListener?{add:n,rm:o}:{add:s,rm:a}),u.add(t,e,r,i)}function i(t,e,r,i){return u=u||(document.addEventListener?{add:n,rm:o}:{add:s,rm:a}),u.rm(t,e,r,i)}function n(t,e,r,i){t.addEventListener(e,r,i)}function o(t,e,r,i){t.removeEventListener(e,r,i)}function s(t,e,r,i){if(i)throw new Error("cannot useCapture in oldIE");t.attachEvent("on"+e,r)}function a(t,e,r){t.detachEvent("on"+e,r)}r.removeEventListener=i,r.addEventListener=r,e.exports=r;var u=null},{}],55:[function(t,e){var r=t("date-now");e.exports=function(t,e,i){function n(){var c=r()-u;e>c&&c>0?o=setTimeout(n,e-c):(o=null,i||(l=t.apply(a,s),o||(a=s=null)))}var o,s,a,u,l;return null==e&&(e=100),function(){a=this,s=arguments,u=r();var c=i&&!o;return o||(o=setTimeout(n,e)),c&&(l=t.apply(a,s),a=s=null),l}}},{"date-now":56}],56:[function(t,e){function r(){return(new Date).getTime()}e.exports=Date.now||r},{}],57:[function(t,e){e.exports=function(t){if(!t)return!1;var e=t;return"undefined"!=typeof t.rawgl&&(e=t.rawgl),"undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext?!0:!1}},{}],58:[function(t,e){function r(t){if(t.classList)return t.classList;var e=t.className.replace(/^\s+|\s+$/g,""),r=e.split(l);return""===r[0]&&r.shift(),r}function i(t,e){if(t.classList)return void t.classList.add(e);var i=r(t),n=u(i,e);~n||i.push(e),t.className=i.join(" ")}function n(t,e){return t.classList?t.classList.contains(e):!!~u(r(t),e)}function o(t,e){if("[object RegExp]"==c.call(e))return s(t,e);if(t.classList)return void t.classList.remove(e);var i=r(t),n=u(i,e);~n&&i.splice(n,1),t.className=i.join(" ")}function s(t,e){for(var i=Array.prototype.slice.call(r(t)),n=0;n<i.length;n++)e.test(i[n])&&o(t,i[n])}function a(t,e){return t.classList?t.classList.toggle(e):void(n(t,e)?o(t,e):i(t,e))}var u=t("indexof"),l=/\s+/,c=Object.prototype.toString;e.exports=r,e.exports.add=i,e.exports.contains=n,e.exports.has=n,e.exports.toggle=a,e.exports.remove=o,e.exports.removeMatching=s},{indexof:59}],59:[function(t,e){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},{}],60:[function(t,e){var r=t("synthetic-dom-events"),i=function(t,e,r,i){return t.addEventListener(e,r,i||!1)},n=function(t,e,r,i){return t.removeEventListener(e,r,i||!1)},o=function(t,e,r,o){function s(i){n(t,e,s,o),r(i)}i(t,e,s,o)},s=function(t,e,i){var n=r(e,i);t.dispatchEvent(n)};document.addEventListener||(i=function(t,e,r){return t.attachEvent("on"+e,r)}),document.removeEventListener||(n=function(t,e,r){return t.detachEvent("on"+e,r)}),document.dispatchEvent||(s=function(t,e,i){var n=r(e,i);return t.fireEvent("on"+n.type,n)}),e.exports={on:i,off:n,once:o,emit:s}},{"synthetic-dom-events":61}],61:[function(t,e){function r(t,e){return(t.ctrlKey!=(e.ctrlKey||!1)||t.altKey!=(e.altKey||!1)||t.shiftKey!=(e.shiftKey||!1)||t.metaKey!=(e.metaKey||!1)||t.keyCode!=(e.keyCode||0)||t.charCode!=(e.charCode||0))&&(t=document.createEvent("Event"),t.initEvent(e.type,e.bubbles,e.cancelable),t.ctrlKey=e.ctrlKey||!1,t.altKey=e.altKey||!1,t.shiftKey=e.shiftKey||!1,t.metaKey=e.metaKey||!1,t.keyCode=e.keyCode||0,t.charCode=e.charCode||0),t}var i=document||{},n=(i.documentElement||{},!0);try{i.createEvent("KeyEvents")}catch(o){n=!1}var s=function(t,e){e=e||{};var o=c(t),s=o;"KeyboardEvent"===o&&n&&(o="KeyEvents",s="KeyEvent");var a=i.createEvent(o),l="init"+s,h="function"==typeof a[l]?l:"initEvent",f=u[h],p=[],d={};e.type=t;for(var _=0;_<f.length;++_){var v=f[_],g=e[v];void 0===g&&(g=a[v]),d[v]=!0,p.push(g)}a[h].apply(a,p),"KeyboardEvent"===o&&(a=r(a,e));for(var v in e)d[v]||(a[v]=e[v]);return a},a=function(t,e){e=e||{};var r=i.createEventObject();r.type=t;for(var n in e)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports=i.createEvent?s:a;var u=t("./init.json"),l=t("./types.json"),c=function(){var t={};for(var e in l)for(var r=l[e],i=0;i<r.length;i++)t[r[i]]=e;return function(e){return t[e]||"Event"}}()},{"./init.json":62,"./types.json":63}],62:[function(t,e){e.exports={initEvent:["type","bubbles","cancelable"],initUIEvent:["type","bubbles","cancelable","view","detail"],initMouseEvent:["type","bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],initMutationEvent:["type","bubbles","cancelable","relatedNode","prevValue","newValue","attrName","attrChange"],initKeyboardEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],initKeyEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"]}},{}],63:[function(t,e){e.exports={MouseEvent:["click","mousedown","mouseup","mouseover","mousemove","mouseout"],KeyboardEvent:["keydown","keyup","keypress"],MutationEvent:["DOMSubtreeModified","DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMAttrModified","DOMCharacterDataModified"],HTMLEvents:["load","unload","abort","error","select","change","submit","reset","focus","blur","resize","scroll"],UIEvent:["DOMFocusIn","DOMFocusOut","DOMActivate"]}},{}],64:[function(t,e){function r(t,e){return n(t,e)}function i(t,e){return r(t,e)[0]}var n=t("qwery");e.exports={one:i,all:r}},{qwery:66}],65:[function(t,e){function r(t,e){return e||(e=document),e.querySelector?e.querySelector(t):n.one(t,e)}function i(t,e){return e||(e=document),e.querySelectorAll?e.querySelectorAll(t):n.all(t,e)}var n=t("./fallback");e.exports=r,e.exports.all=i},{"./fallback":64}],66:[function(t,e){!function(t,r,i){"undefined"!=typeof e&&e.exports?e.exports=i():"function"==typeof define&&define.amd?define(i):r[t]=i()}("qwery",this,function(){function t(){this.c={}}function e(t){return W.g(t)||W.s(t,"(^|\\s+)"+t+"(\\s+|$)",1)}function r(t,e){for(var r=0,i=t.length;i>r;r++)e(t[r])}function i(t){for(var e=[],r=0,i=t.length;i>r;++r)_(t[r])?e=e.concat(t[r]):e[e.length]=t[r];return e}function n(t){for(var e=0,r=t.length,i=[];r>e;e++)i[e]=t[e];return i}function o(t){for(;(t=t.previousSibling)&&1!=t[R];);return t}function s(t){return t.match(Y)}function a(t,r,i,n,o,s,a,u,c,h,f){var p,d,_,v,g;if(1!==this[R])return!1;if(r&&"*"!==r&&this[P]&&this[P].toLowerCase()!==r)return!1;if(i&&(d=i.match(k))&&d[1]!==this.id)return!1;if(i&&(g=i.match(S)))for(p=g.length;p--;)if(!e(g[p].slice(1)).test(this.className))return!1;if(c&&m.pseudos[c]&&!m.pseudos[c](this,f))return!1;if(n&&!a){v=this.attributes;for(_ in v)if(Object.prototype.hasOwnProperty.call(v,_)&&(v[_].name||_)==o)return this}return n&&!l(s,J(this,o)||"",a)?!1:this}function u(t){return $.g(t)||$.s(t,t.replace(L,"\\$1"))}function l(t,e,r){switch(t){case"=":return e==r;case"^=":return e.match(Z.g("^="+r)||Z.s("^="+r,"^"+u(r),1));case"$=":return e.match(Z.g("$="+r)||Z.s("$="+r,u(r)+"$",1));case"*=":return e.match(Z.g(r)||Z.s(r,u(r),1));case"~=":return e.match(Z.g("~="+r)||Z.s("~="+r,"(?:^|\\s+)"+u(r)+"(?:\\s+|$)",1));case"|=":return e.match(Z.g("|="+r)||Z.s("|="+r,"^"+u(r)+"(-|$)",1))}return 0}function c(t,e){var i,n,o,u,l,c,h,p=[],d=[],_=e,v=K.g(t)||K.s(t,t.split(X)),m=t.match(q);if(!v.length)return p;if(u=(v=v.slice(0)).pop(),v.length&&(o=v[v.length-1].match(F))&&(_=g(e,o[1])),!_)return p;for(c=s(u),l=_!==e&&9!==_[R]&&m&&/^[+~]$/.test(m[m.length-1])?function(t){for(;_=_.nextSibling;)1==_[R]&&(c[1]?c[1]==_[P].toLowerCase():1)&&(t[t.length]=_);return t}([]):_[T](c[1]||"*"),i=0,n=l.length;n>i;i++)(h=a.apply(l[i],c))&&(p[p.length]=h);return v.length?(r(p,function(t){f(t,v,m)&&(d[d.length]=t)}),d):p}function h(t,e,r){if(p(e))return t==e;if(_(e))return!!~i(e).indexOf(t);for(var n,o,u=e.split(",");e=u.pop();)if(n=K.g(e)||K.s(e,e.split(X)),o=e.match(q),n=n.slice(0),a.apply(t,s(n.pop()))&&(!n.length||f(t,n,o,r)))return!0;return!1}function f(t,e,r,i){function n(t,i,u){for(;u=G[r[i]](u,t);)if(p(u)&&a.apply(u,s(e[i]))){if(!i)return u;if(o=n(u,i-1,u))return o}}var o;return(o=n(t,e.length-1,t))&&(!i||Q(o,i))}function p(t,e){return t&&"object"==typeof t&&(e=t[R])&&(1==e||9==e)}function d(t){var e,r,i=[];t:for(e=0;e<t.length;++e){for(r=0;r<i.length;++r)if(i[r]==t[e])continue t;i[i.length]=t[e]}return i}function _(t){return"object"==typeof t&&isFinite(t.length)}function v(t){return t?"string"==typeof t?m(t)[0]:!t[R]&&_(t)?t[0]:t:w}function g(t,e,r){return 9===t[R]?t.getElementById(e):t.ownerDocument&&((r=t.ownerDocument.getElementById(e))&&Q(r,t)&&r||!Q(t,t.ownerDocument)&&b('[id="'+e+'"]',t)[0])}function m(t,e){var r,o,s=v(e);if(!s||!t)return[];if(t===window||p(t))return!e||t!==window&&p(s)&&Q(t,s)?[t]:[];if(t&&_(t))return i(t);if(r=t.match(H)){if(r[1])return(o=g(s,r[1]))?[o]:[];if(r[2])return n(s[T](r[2]));if(te&&r[3])return n(s[j](r[3]))}return b(t,s)}function y(t,e){return function(r){var i,n;return M.test(r)?void(9!==t[R]&&((n=i=t.getAttribute("id"))||t.setAttribute("id",n="__qwerymeupscotty"),r='[id="'+n+'"]'+r,e(t.parentNode||t,r,!0),i||t.removeAttribute("id"))):void(r.length&&e(t,r,!1))}}var b,w=document,x=w.documentElement,j="getElementsByClassName",T="getElementsByTagName",A="querySelectorAll",E="useNativeQSA",P="tagName",R="nodeType",k=/#([\w\-]+)/,S=/\.[\w\-]+/g,F=/^#([\w\-]+)$/,C=/^\.([\w\-]+)$/,O=/^([\w\-]+)$/,I=/^([\w]+)?\.([\w\-]+)$/,M=/(^|,)\s*[>~+]/,U=/^\s+|\s*([,\s\+\~>]|$)\s*/g,D=/[\s\>\+\~]/,N=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,L=/([.*+?\^=!:${}()|\[\]\/\\])/g,B=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,V=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,z=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,H=new RegExp(F.source+"|"+O.source+"|"+C.source),q=new RegExp("("+D.source+")"+N.source,"g"),X=new RegExp(D.source+N.source),Y=new RegExp(B.source+"("+V.source+")?("+z.source+")?"),G={" ":function(t){return t&&t!==x&&t.parentNode},">":function(t,e){return t&&t.parentNode==e.parentNode&&t.parentNode},"~":function(t){return t&&t.previousSibling},"+":function(t,e,r,i){return t?(r=o(t))&&(i=o(e))&&r==i&&r:!1}};t.prototype={g:function(t){return this.c[t]||void 0},s:function(t,e,r){return e=r?new RegExp(e):e,this.c[t]=e}};var W=new t,$=new t,Z=new t,K=new t,Q="compareDocumentPosition"in x?function(t,e){return 16==(16&e.compareDocumentPosition(t))}:"contains"in x?function(t,e){return e=9===e[R]||e==window?x:e,e!==t&&e.contains(t)}:function(t,e){for(;t=t.parentNode;)if(t===e)return 1;return 0},J=function(){var t=w.createElement("p");return(t.innerHTML='<a href="#x">x</a>')&&"#x"!=t.firstChild.getAttribute("href")?function(t,e){return"class"===e?t.className:"href"===e||"src"===e?t.getAttribute(e,2):t.getAttribute(e)}:function(t,e){return t.getAttribute(e)}}(),te=!!w[j],ee=w.querySelector&&w[A],re=function(t,e){var i,o,s=[];try{return 9!==e[R]&&M.test(t)?(r(i=t.split(","),y(e,function(t,e){o=t[A](e),1==o.length?s[s.length]=o.item(0):o.length&&(s=s.concat(n(o)))})),i.length>1&&s.length>1?d(s):s):n(e[A](t))}catch(a){}return ie(t,e)},ie=function(t,i){var n,o,s,a,u,l,h=[];if(t=t.replace(U,"$1"),o=t.match(I)){for(u=e(o[2]),n=i[T](o[1]||"*"),s=0,a=n.length;a>s;s++)u.test(n[s].className)&&(h[h.length]=n[s]);return h}return r(l=t.split(","),y(i,function(t,e,r){for(u=c(e,t),s=0,a=u.length;a>s;s++)(9===t[R]||r||Q(u[s],i))&&(h[h.length]=u[s])})),l.length>1&&h.length>1?d(h):h},ne=function(t){"undefined"!=typeof t[E]&&(b=t[E]&&ee?re:ie)};return ne({useNativeQSA:!0}),m.configure=ne,m.uniq=d,m.is=h,m.pseudos={},m})},{}],67:[function(t,e){function r(t,e){var r;for(r in e)n(t,r,e[r])}function i(t,e){return function(r,i){o(r,t,arguments.length>1?i:e)}}function n(t,e,r){t.style[s("float"==e?"cssFloat":e)]=r}function o(t){return 3==arguments.length?n(t,arguments[1],arguments[2]):r(t,arguments[1])}var s=t("to-camel-case");e.exports=o,e.exports.hide=i("display","none"),e.exports.show=i("display","initial")},{"to-camel-case":68}],68:[function(t,e){function r(t){return i(t).replace(/\s(\w)/g,function(t,e){return e.toUpperCase()})}var i=t("to-space-case");e.exports=r},{"to-space-case":69}],69:[function(t,e){function r(t){return i(t).replace(/[\W_]+(.|$)/g,function(t,e){return e?" "+e:""})}var i=t("to-no-case");e.exports=r},{"to-no-case":70}],70:[function(t,e){function r(t){return o.test(t)?t.toLowerCase():(a.test(t)&&(t=i(t)),s.test(t)&&(t=n(t)),t.toLowerCase())}function i(t){return t.replace(u,function(t,e){return e?" "+e:""})}function n(t){return t.replace(l,function(t,e,r){return e+" "+r.toLowerCase().split("").join(" ")
})}e.exports=r;var o=/\s/,s=/[a-z][A-Z]/,a=/[\W_]/,u=/[\W_]+(.|$)/g,l=/(.)([A-Z]+)/g},{}],71:[function(t,e){function r(t,e){if("string"!=typeof t)throw new TypeError("String expected");e||(e=document);var r=/<([\w:]+)/.exec(t);if(!r)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var i=r[1];if("body"==i){var n=e.createElement("html");return n.innerHTML=t,n.removeChild(n.lastChild)}var s=o[i]||o._default,a=s[0],u=s[1],l=s[2],n=e.createElement("div");for(n.innerHTML=u+t+l;a--;)n=n.lastChild;if(n.firstChild==n.lastChild)return n.removeChild(n.firstChild);for(var c=e.createDocumentFragment();n.firstChild;)c.appendChild(n.removeChild(n.firstChild));return c}e.exports=r;var i=document.createElement("div");i.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var n=!i.getElementsByTagName("link").length;i=void 0;var o={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:n?[1,"X<div>","</div>"]:[0,"",""]};o.td=o.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],o.option=o.optgroup=[1,'<select multiple="multiple">',"</select>"],o.thead=o.tbody=o.colgroup=o.caption=o.tfoot=[1,"<table>","</table>"],o.text=o.circle=o.ellipse=o.line=o.path=o.polygon=o.polyline=o.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],72:[function(t,e){!function(t,r){"undefined"!=typeof e?e.exports=r():"function"==typeof define&&"object"==typeof define.amd?define(r):this[t]=r()}("domready",function(){var t,e=[],r=document,i=r.documentElement.doScroll,n="DOMContentLoaded",o=(i?/^loaded|^c/:/^loaded|^i|^c/).test(r.readyState);return o||r.addEventListener(n,t=function(){for(r.removeEventListener(n,t),o=1;t=e.shift();)t()}),function(t){o?t():e.push(t)}})},{}],73:[function(t,e){function r(t){return{color:n(t.color,[0,0,0,1]),depth:i(t.depth,1),stencil:i(t.stencil,!1)}}function i(t,e){return t===!1?!1:"undefined"==typeof t?e:t+0}function n(t,e){return t===!1?!1:Array.isArray(t)?t||e:e}e.exports=r},{}],74:[function(t,e){function r(t){t=i(t||{});var e=t.stencil,r=t.color,n=t.depth;return function(t){var i=0;return r!==!1&&(t.clearColor(r[0],r[1],r[2],r[3]),i|=t.COLOR_BUFFER_BIT),n!==!1&&(t.clearDepth(n),i|=t.DEPTH_BUFFER_BIT),e!==!1&&(t.clearStencil(e),i|=t.STENCIL_BUFFER_BIT),t.clear(i),t}}var i=t("./defaults");e.exports=r},{"./defaults":73}],75:[function(t,e){function r(t){var e=s.indexOf(t);return-1!==e?e:0===t.indexOf(a)?3|parseInt(t.substring(a.length),10):void 0}function i(t){t.location=r(t.name)}var n=t("gl-shader-core"),o=t("deepcopy"),s=["position","normal","color"],a="texcoord";e.exports=function(t){return function(e){var r=o(t);return r.attributes.forEach(i),n(e,r.vertex,r.fragment,r.uniforms,r.attributes)}}},{deepcopy:77,"gl-shader-core":105}],76:[function(t,e){function r(t,e){if(!(this instanceof r))return new r(t,e);i.call(this,t),e=e||{},this.gl=t;var n=e.shader;n||(this.defaultShader=o(t)),this.shader=n||this.defaultShader;var u=s(a());this.style({aspect:t.canvas.width/t.canvas.height,smoothing:[-.4,.8],noiseAlpha:.04,coloredNoise:!0,offset:[0,0],color1:[1,1,1],color2:[0,0,0],scale:[1,1],projection:u,view:u,model:u}),e&&this.style(e)}var i=(t("glslify"),t("gl-quad")),n=t("inherits"),o=t("./create-shader")(t("glslify/simple-adapter.js")("\n#define GLSLIFY 1\n\nattribute vec4 position;\nattribute vec2 uv;\nuniform mat4 projection;\nuniform mat4 view;\nuniform mat4 model;\nvarying vec2 vUv;\nvoid main() {\n  gl_Position = projection * view * model * position;\n  vUv = uv;\n}","\n#define GLSLIFY 1\n\n#ifdef GL_ES\n\nprecision mediump float;\n#endif\n\nvarying vec2 vUv;\nhighp float a_x_random(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt = dot(co.xy, vec2(a, b));\n  highp float sn = mod(dt, 3.14);\n  return fract(sin(sn) * c);\n}\nuniform float aspect;\nuniform vec2 scale;\nuniform vec2 offset;\nuniform bool coloredNoise;\nuniform vec2 smoothing;\nuniform float noiseAlpha;\nuniform vec3 color1;\nuniform vec3 color2;\nvec3 BlendOverlay(vec3 base, vec3 blend) {\n  return vec3(base.r < 0.5 ? (2.0 * base.r * blend.r) : (1.0 - 2.0 * (1.0 - base.r) * (1.0 - blend.r)), base.g < 0.5 ? (2.0 * base.g * blend.g) : (1.0 - 2.0 * (1.0 - base.g) * (1.0 - blend.g)), base.b < 0.5 ? (2.0 * base.b * blend.b) : (1.0 - 2.0 * (1.0 - base.b) * (1.0 - blend.b)));\n}\nvoid main() {\n  vec2 pos = vUv;\n  pos -= 0.5;\n  pos.x *= aspect;\n  pos /= scale;\n  pos -= offset;\n  float dist = length(pos);\n  dist = smoothstep(smoothing.x, smoothing.y, 1. - dist);\n  vec4 color = vec4(1.0);\n  color.rgb = mix(color2, color1, dist);\n  if(noiseAlpha > 0.0) {\n    vec3 noise = coloredNoise ? vec3(a_x_random(vUv * 1.5), a_x_random(vUv * 2.5), a_x_random(vUv)) : vec3(a_x_random(vUv));\n    color.rgb = mix(color.rgb, BlendOverlay(color.rgb, noise), noiseAlpha);\n  }\n  gl_FragColor = color;\n}",[{name:"projection",type:"mat4"},{name:"view",type:"mat4"},{name:"model",type:"mat4"},{name:"aspect",type:"float"},{name:"scale",type:"vec2"},{name:"offset",type:"vec2"},{name:"coloredNoise",type:"bool"},{name:"smoothing",type:"vec2"},{name:"noiseAlpha",type:"float"},{name:"color1",type:"vec3"},{name:"color2",type:"vec3"}],[{name:"position",type:"vec4"},{name:"uv",type:"vec2"}])),s=t("gl-mat4/identity"),a=t("gl-mat4/create");n(r,i),r.prototype.style=function(t){if(t){this.shader.bind();var e=this.shader.uniforms;for(var r in t)t.hasOwnProperty(r)&&(t[r]||"number"==typeof t[r])&&(e[r]=t[r])}},r.prototype.draw=function(){i.prototype.draw.call(this,this.shader)},r.prototype.dispose=function(){this.defaultShader&&(this.defaultShader.dispose(),this.defaultShader=void 0),i.prototype.dispose.call(this)},e.exports=r},{"./create-shader":75,"gl-mat4/create":79,"gl-mat4/identity":80,"gl-quad":81,glslify:106,"glslify/simple-adapter.js":107,inherits:108}],77:[function(t,e){e.exports=t("./lib/deepcopy")},{"./lib/deepcopy":78}],78:[function(t,e){!function(){function r(t,e){var r,i;if(!n.isArray(t))throw new TypeError("parameter type is not an Array");for(r=0,i=t.length;i>r;++r)if(t[r]===e)return r;return-1}function i(t){function e(t,i,s,a){var u,l,c,h,f,p,d,_;if(null===t||"object"!=typeof t)return t;if(n.isDate(t))return new Date(Number(t));if(n.isRegExp(t))return new RegExp(t.source,String(t).slice(t.source.length+2));for(u=o(t),l=0,c=u.length;c>l;++l)h=u[l],f=t[h],null!==f&&"object"==typeof f&&(p=r(s,f),-1===p?(d=n.isArray(f)?[]:{},s.push(f),a.push(d)):_=a[p]),i[h]=_||e(f,d,s,a),p=d=_=null;return i}var i=n.isArray(t)?[]:{},s=[t],a=[i];return e(t,i,s,a)}var n="undefined"!=typeof e?t("util"):function(){function t(t){return"object"==typeof t&&"[object Array]"===i.call(t)}function e(t){return"object"==typeof t&&"[object Date]"===i.call(t)}function r(t){return"object"==typeof t&&"[object RegExp]"===i.call(t)}var i=Object.prototype.toString;return{isArray:Array.isArray||t,isDate:e,isRegExp:r}}(),o=Object.keys||function(t){var e,r=[];if(null===t||"object"!=typeof t)throw new TypeError("parameter type is not an Object");for(e in t)t.hasOwnProperty(e)&&r.push(e);return r};"undefined"!=typeof e?e.exports=i:this.deepcopy=i}()},{util:340}],79:[function(t,e){function r(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],80:[function(t,e){function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],81:[function(t,e){function r(t){return this instanceof r?(this.gl=t,this.vertices=i(t,new Float32Array([-1,-1,-1,1,1,1,1,-1]),t.ARRAY_BUFFER,t.STATIC_DRAW),this.texcoords=i(t,new Float32Array([0,1,0,0,1,0,1,1]),t.ARRAY_BUFFER,t.STATIC_DRAW),this.elements=i(t,new Uint16Array([0,1,2,0,2,3]),t.ELEMENT_ARRAY_BUFFER,t.STATIC_DRAW),void(this.vao=n(t,[{buffer:this.vertices,size:2,noramlized:!1},{buffer:this.texcoords,size:2,normalized:!1}],this.elements))):new r(t)}var i=t("gl-buffer"),n=t("gl-vao");r.prototype.draw=function(t){t&&t.bind(),this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,6),this.vao.unbind()},r.prototype.dispose=function(){this.vertices.dispose(),this.texcoords.dispose(),this.elements.dispose(),this.vao.dispose(),this.gl=null},e.exports=r},{"gl-buffer":82,"gl-vao":100}],82:[function(t,e){"use strict";function r(t,e,r,i,n){this.gl=t,this.type=e,this.handle=r,this.length=i,this.usage=n}function i(t,e,r,i,n,o){var s=n.length*n.BYTES_PER_ELEMENT;if(0>o)return t.bufferData(e,n,i),s;if(s+o>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,n),r}function n(t,e){for(var r=a.malloc(t.length,e),i=t.length,n=0;i>n;++n)r[n]=t[n];return r}function o(t,e){for(var r=1,i=e.length-1;i>=0;--i){if(e[i]!==r)return!1;r*=t[i]}return!0}function s(t,e,i,n){if(c(t),i=i||t.ARRAY_BUFFER,n=n||t.DYNAMIC_DRAW,i!==t.ARRAY_BUFFER&&i!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(n!==t.DYNAMIC_DRAW&&n!==t.STATIC_DRAW&&n!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var o=t.createBuffer(),s=new r(t,i,o,0,n);return s.update(e),s}var a=t("typedarray-pool"),u=t("ndarray-ops"),l=t("ndarray"),c=t("webglew"),h=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],f=r.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.dispose=function(){this.gl.deleteBuffer(this.handle)},f.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&"undefined"!=typeof t.shape){var r=t.dtype;if(h.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var s=c(this.gl),f=s.OES_element_index_uint;r=f&&"uint16"!==r?"uint32":"uint16"}if(r===t.dtype&&o(t.shape,t.stride))this.length=0===t.offset&&t.data.length===t.shape[0]?i(this.gl,this.type,this.length,this.usage,t.data,e):i(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var p=a.malloc(t.size,r),d=l(p,t.shape);u.assign(d,t),this.length=0>e?i(this.gl,this.type,this.length,this.usage,p,e):i(this.gl,this.type,this.length,this.usage,p.subarray(0,t.size),e),a.free(p)}}else if(Array.isArray(t)){var _;_=this.type===this.gl.ELEMENT_ARRAY_BUFFER?n(t,"uint16"):n(t,"float32"),this.length=0>e?i(this.gl,this.type,this.length,this.usage,_,e):i(this.gl,this.type,this.length,this.usage,_.subarray(0,t.length),e),a.free(_)}else if("object"==typeof t&&"number"==typeof t.length)this.length=i(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t=0|t,0>=t&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=s},{ndarray:88,"ndarray-ops":83,"typedarray-pool":92,webglew:94}],83:[function(t,e,r){"use strict";function i(t){if(!t)return a;for(var e=0;e<t.args.length;++e){var r=t.args[e];t.args[e]=0===e?{name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function n(t){return s({args:t.args,pre:i(t.pre),body:i(t.body),post:i(t.proc),funcName:t.funcName})}function o(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);var i=new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""));return i(n(t))}var s=t("cwise-compiler"),a={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var e=u[t];r[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),r[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in l){var e=l[t];r[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),r[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var e=c[t];r[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var h=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<h.length;++t){var e=h[t];r[e]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),r[e+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var e=f[t];r[e]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),r[e+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),r[e+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var e=p[t];r[e+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),r[e+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),r[e+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),r[e+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}}(),r.any=s({args:["array"],pre:a,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=s({args:["array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=s({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=s({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=s({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=s({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=s({args:["array","array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":84}],84:[function(t,e){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var e=new r;e.pre=t.pre,e.body=t.body,e.post=t.post;var i=t.args.slice(0);e.argTypes=i;for(var o=0;o<i.length;++o){var s=i[o];if("array"===s){if(e.arrayArgs.push(o),e.shimArgs.push("array"+o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===s)e.scalarArgs.push(o),e.shimArgs.push("scalar"+o);else if("index"===s){if(e.indexArgs.push(o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===s){if(e.shapeArgs.push(o),o<e.pre.args.length&&e.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<e.post.args.length&&e.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof s||!s.offset)throw new Error("cwise: Unknown argument type "+i[o]);e.argTypes[o]="offset",e.offsetArgs.push({array:s.array,offset:s.offset}),e.offsetArgIndex.push(o)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>i.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>i.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>i.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,n(e)}var n=t("./lib/thunk.js");e.exports=i},{"./lib/thunk.js":86}],85:[function(t,e){"use strict";function r(t,e,r){var i,n,o=t.length,s=e.arrayArgs.length,a=e.indexArgs.length>0,u=[],l=[],c=0,h=0;for(i=0;o>i;++i)l.push(["i",i,"=0"].join(""));for(n=0;s>n;++n)for(i=0;o>i;++i)h=c,c=t[i],l.push(0===i?["d",n,"s",i,"=t",n,"p",c].join(""):["d",n,"s",i,"=(t",n,"p",c,"-s",h,"*t",n,"p",h,")"].join(""));for(u.push("var "+l.join(",")),i=o-1;i>=0;--i)c=t[i],u.push(["for(i",i,"=0;i",i,"<s",c,";++i",i,"){"].join(""));for(u.push(r),i=0;o>i;++i){for(h=c,c=t[i],n=0;s>n;++n)u.push(["p",n,"+=d",n,"s",i].join(""));a&&(i>0&&u.push(["index[",h,"]-=s",h].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,i,n){for(var o=e.length,s=i.arrayArgs.length,a=i.blockSize,u=i.indexArgs.length>0,l=[],c=0;s>c;++c)l.push(["var offset",c,"=p",c].join(""));for(var c=t;o>c;++c)l.push(["for(var j"+c+"=SS[",e[c],"]|0;j",c,">0;){"].join("")),l.push(["if(j",c,"<",a,"){"].join("")),l.push(["s",e[c],"=j",c].join("")),l.push(["j",c,"=0"].join("")),l.push(["}else{s",e[c],"=",a].join("")),l.push(["j",c,"-=",a,"}"].join("")),u&&l.push(["index[",e[c],"]=j",c].join(""));for(var c=0;s>c;++c){for(var h=["offset"+c],f=t;o>f;++f)h.push(["j",f,"*t",c,"p",e[f]].join(""));l.push(["p",c,"=(",h.join("+"),")"].join(""))}l.push(r(e,i,n));for(var c=t;o>c;++c)l.push("}");return l.join("\n")}function n(t){for(var e=0,r=t[0].length;r>e;){for(var i=1;i<t.length;++i)if(t[i][e]!==t[0][e])return e;++e}return e}function o(t,e,r){for(var i=t.body,n=[],o=[],s=0;s<t.args.length;++s){var a=t.args[s];if(!(a.count<=0)){var u=new RegExp(a.name,"g"),l="",c=e.arrayArgs.indexOf(s);switch(e.argTypes[s]){case"offset":var h=e.offsetArgIndex.indexOf(s),f=e.offsetArgs[h];c=f.array,l="+q"+h;case"array":l="p"+c+l;var p="l"+s,d="a"+c;1===a.count?"generic"===r[c]?a.lvalue?(n.push(["var ",p,"=",d,".get(",l,")"].join("")),i=i.replace(u,p),o.push([d,".set(",l,",",p,")"].join(""))):i=i.replace(u,[d,".get(",l,")"].join("")):i=i.replace(u,[d,"[",l,"]"].join("")):"generic"===r[c]?(n.push(["var ",p,"=",d,".get(",l,")"].join("")),i=i.replace(u,p),a.lvalue&&o.push([d,".set(",l,",",p,")"].join(""))):(n.push(["var ",p,"=",d,"[",l,"]"].join("")),i=i.replace(u,p),a.lvalue&&o.push([d,"[",l,"]=",p].join("")));break;case"scalar":i=i.replace(u,"Y"+e.scalarArgs.indexOf(s));break;case"index":i=i.replace(u,"index");break;case"shape":i=i.replace(u,"shape")}}}return[n.join("\n"),i,o.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),r=!0,i=0;i<t.length;++i){var n=t[i],o=n.match(/\d+/);o=o?o[0]:"",e[i]=0===n.charAt(0)?"u"+n.charAt(1)+o:n.charAt(0)+o,i>0&&(r=r&&e[i]===e[i-1])}return r?e[0]:e.join("")}function a(t,e){for(var a=0|e[1].length,l=new Array(t.arrayArgs.length),c=new Array(t.arrayArgs.length),h=["SS"],f=["'use strict'"],p=[],d=0;a>d;++d)p.push(["s",d,"=SS[",d,"]"].join(""));for(var _=0;_<t.arrayArgs.length;++_){h.push("a"+_),h.push("t"+_),h.push("p"+_),c[_]=e[2*_],l[_]=e[2*_+1];for(var d=0;a>d;++d)p.push(["t",_,"p",d,"=t",_,"[",d,"]"].join(""))}for(var _=0;_<t.scalarArgs.length;++_)h.push("Y"+_);if(t.shapeArgs.length>0&&p.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var v=new Array(a),_=0;a>_;++_)v[_]="0";p.push(["index=[",v.join(","),"]"].join(""))}for(var _=0;_<t.offsetArgs.length;++_){for(var g=t.offsetArgs[_],m=[],d=0;d<g.offset.length;++d)0!==g.offset[d]&&m.push(1===g.offset[d]?["t",g.array,"p",d].join(""):[g.offset[d],"*t",g.array,"p",d].join(""));p.push(0===m.length?"q"+_+"=0":["q",_,"=",m.join("+")].join(""))}var y=u([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));p=p.concat(y),f.push("var "+p.join(","));for(var _=0;_<t.arrayArgs.length;++_)f.push("p"+_+"|=0");t.pre.body.length>3&&f.push(o(t.pre,t,c));var b=o(t.body,t,c),w=n(l);f.push(a>w?i(w,l[0],t,b):r(l[0],t,b)),t.post.body.length>3&&f.push(o(t.post,t,c)),t.debug&&console.log("Generated cwise routine for ",e,":\n\n",f.join("\n"));var x=[t.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",w,s(c)].join(""),j=new Function(["function ",x,"(",h.join(","),"){",f.join("\n"),"} return ",x].join(""));return j()}var u=t("uniq");e.exports=a},{uniq:87}],86:[function(t,e){"use strict";function r(t){var e=["'use strict'","var CACHED={}"],r=[],n=t.funcName+"_cwise_thunk";e.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],s=[],a=[["array",t.arrayArgs[0],".shape"].join("")],u=0;u<t.arrayArgs.length;++u){var l=t.arrayArgs[u];r.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),o.push("t"+l),o.push("r"+l),s.push("t"+l),s.push("r"+l+".join()"),a.push("array"+l+".data"),a.push("array"+l+".stride"),a.push("array"+l+".offset|0")}for(var u=0;u<t.scalarArgs.length;++u)a.push("scalar"+t.scalarArgs[u]);r.push(["type=[",s.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",a.join(","),")}"].join("")),t.debug&&console.log("Generated thunk:",e.join("\n"));var c=new Function("compile",e.join("\n"));return c(i.bind(void 0,t))}var i=t("./compile.js");e.exports=r},{"./compile.js":85}],87:[function(t,e){"use strict";function r(t,e){for(var r=1,i=t.length,n=t[0],o=t[0],s=1;i>s;++s)if(o=n,n=t[s],e(n,o)){if(s===r){r++;continue}t[r++]=n}return t.length=r,t}function i(t){for(var e=1,r=t.length,i=t[0],n=t[0],o=1;r>o;++o,n=i)if(n=i,i=t[o],i!==n){if(o===e){e++;continue}t[e++]=i}return t.length=e,t}function n(t,e,n){return 0===t.length?t:e?(n||t.sort(e),r(t,e)):(n||t.sort(),i(t))}e.exports=n},{}],88:[function(t,e){(function(r){function i(t,e){return t[0]-e[0]}function n(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(i);var n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=r[t][1];return n}function o(t,e){var r=["View",e,"d",t].join("");0>e&&(r="View_Nil"+t);var i="generic"===t;if(-1===e){var o="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",s=new Function(o);return s()}if(0===e){var o="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",s=new Function("TrivialArray",o);return s(f[t][0])}var o=["'use strict'"],a=u(e),c=a.map(function(t){return"i"+t}),h="this.offset+"+a.map(function(t){return"this._stride"+t+"*i"+t}).join("+");o.push("function "+r+"(a,"+a.map(function(t){return"b"+t}).join(",")+","+a.map(function(t){return"c"+t}).join(",")+",d){this.data=a");for(var p=0;e>p;++p)o.push("this._shape"+p+"=b"+p+"|0");for(var p=0;e>p;++p)o.push("this._stride"+p+"=c"+p+"|0");o.push("this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e);var d="VStride"+e+"d"+t,_="VShape"+e+"d"+t,v={stride:d,shape:_};for(var g in v){var m=v[g];o.push("function "+m+"(v) {this._v=v} var aproto="+m+".prototype","aproto.length="+e);for(var y=[],p=0;e>p;++p)y.push(["this._v._",g,p].join(""));o.push("aproto.toJSON=function "+m+"_toJSON(){return ["+y.join(",")+"]}","aproto.valueOf=aproto.toString=function "+m+"_toString(){return ["+y.join(",")+"].join()}");for(var p=0;e>p;++p)o.push("Object.defineProperty(aproto,"+p+",{get:function(){return this._v._"+g+p+"},set:function(v){return this._v._"+g+p+"=v|0},enumerable:true})");for(var p=0;p<l.length;++p)l[p]in Array.prototype&&o.push("aproto."+l[p]+"=Array.prototype."+l[p]);o.push(["Object.defineProperty(proto,'",g,"',{get:function ",m,"_get(){return new ",m,"(this)},set: function ",m,"_set(v){"].join(""));for(var p=0;e>p;++p)o.push("this._"+g+p+"=v["+p+"]|0");o.push("return v}})")}o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(t){return"this._shape"+t}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),4>e?(o.push("function "+r+"_order(){"),2===e?o.push("return (Math.abs(this._stride0)>Math.abs(this._stride1))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this._stride0),s1=Math.abs(this._stride1),s2=Math.abs(this._stride2);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),o.push(i?"return this.data.set("+h+",v)}":"return this.data["+h+"]=v}"),o.push("proto.get=function "+r+"_get("+c.join(",")+"){"),o.push(i?"return this.data.get("+h+")}":"return this.data["+h+"]}"),o.push("proto.index=function "+r+"_index(",c.join(),"){return "+h+"}"),o.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+a.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this._shape",t,":i",t,"|0"].join("")}).join(",")+","+a.map(function(t){return"this._stride"+t
}).join(",")+",this.offset)}");var b=a.map(function(t){return"a"+t+"=this._shape"+t}),w=a.map(function(t){return"c"+t+"=this._stride"+t});o.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+b.join(",")+","+w.join(","));for(var p=0;e>p;++p)o.push("if(typeof i"+p+"==='number'&&i"+p+">=0){d=i"+p+"|0;b+=c"+p+"*d;a"+p+"-=d}");o.push("return new "+r+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+a.map(function(t){return"a"+t+"=this._shape"+t}).join(",")+","+a.map(function(t){return"b"+t+"=this._stride"+t}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var p=0;e>p;++p)o.push("if(typeof i"+p+"==='number'){d=i"+p+"|0;if(d<0){c+=b"+p+"*(a"+p+"-1);a"+p+"=ceil(-a"+p+"/d)}else{a"+p+"=ceil(a"+p+"/d)}b"+p+"*=d}");o.push("return new "+r+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"b"+t}).join(",")+",c)}");for(var x=new Array(e),j=new Array(e),p=0;e>p;++p)x[p]="a[i"+p+"]",j[p]="b[i"+p+"]";o.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+x.join(",")+","+j.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var p=0;e>p;++p)o.push("if(typeof i"+p+"==='number'&&i"+p+">=0){c=(c+this._stride"+p+"*i"+p+")|0}else{a.push(this._shape"+p+");b.push(this._stride"+p+")}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(t){return"shape["+t+"]"}).join(",")+","+a.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var s=new Function("CTOR_LIST","ORDER",o.join("\n"));return s(f[t],n)}function s(t){if(h&&r.isBuffer(t))return"buffer";if(c)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function a(t,e,r,i){if(void 0===t){var n=f.array[0];return n([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===r){r=new Array(a);for(var u=a-1,l=1;u>=0;--u)r[u]=l,l*=e[u]}if(void 0===i){i=0;for(var u=0;a>u;++u)r[u]<0&&(i-=(e[u]-1)*r[u])}for(var c=s(t),h=f[c];h.length<=a+1;)h.push(o(c,h.length-1));var n=h[a+1];return n(t,e,r,i)}var u=t("iota-array"),l=["concat","join","slice","toString","indexOf","lastIndexOf","forEach","every","some","filter","map","reduce","reduceRight"],c="undefined"!=typeof Float64Array,h="undefined"!=typeof r,f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=a}).call(this,t("buffer").Buffer)},{buffer:333,"iota-array":89}],89:[function(t,e){"use strict";function r(t){for(var e=new Array(t),r=0;t>r;++r)e[r]=r;return e}e.exports=r},{}],90:[function(t,e,r){"use strict";"use restrict";function i(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var n=32;r.INT_BITS=n,r.INT_MAX=2147483647,r.INT_MIN=-1<<n-1,r.sign=function(t){return(t>0)-(0>t)},r.abs=function(t){var e=t>>n-1;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(e>t)},r.max=function(t,e){return t^(t^e)&-(e>t)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,e|=r,e|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},r.countTrailingZeros=i,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);!function(t){for(var e=0;256>e;++e){var r=e,i=e,n=7;for(r>>>=1;r;r>>>=1)i<<=1,i|=1&r,--n;t[e]=i<<n&255}}(o),r.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},r.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},r.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},r.interleave3=function(t,e,r){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|r<<2},r.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},{}],91:[function(t,e){"use strict";function r(t,e,i){var n=0|t[i];if(0>=n)return[];var o,s=new Array(n);if(i===t.length-1)for(o=0;n>o;++o)s[o]=e;else for(o=0;n>o;++o)s[o]=r(t,e,i+1);return s}function i(t,e){var r,i;for(r=new Array(t),i=0;t>i;++i)r[i]=e;return r}function n(t,e){switch("undefined"==typeof e&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"==typeof t.length)return r(t,e,0)}return[]}e.exports=n},{}],92:[function(t,e,r){(function(e,i){"use strict";function n(t){if(t){var e=t.length||t.byteLength,r=m.log2(e);x[r].push(t)}}function o(t){n(t.buffer)}function s(t){var t=m.nextPow2(t),e=m.log2(t),r=x[e];return r.length>0?r.pop():new ArrayBuffer(t)}function a(t){return new Uint8Array(s(t),0,t)}function u(t){return new Uint16Array(s(2*t),0,t)}function l(t){return new Uint32Array(s(4*t),0,t)}function c(t){return new Int8Array(s(t),0,t)}function h(t){return new Int16Array(s(2*t),0,t)}function f(t){return new Int32Array(s(4*t),0,t)}function p(t){return new Float32Array(s(4*t),0,t)}function d(t){return new Float64Array(s(8*t),0,t)}function _(t){return b?new Uint8ClampedArray(s(t),0,t):a(t)}function v(t){return new DataView(s(t),0,t)}function g(t){t=m.nextPow2(t);var e=m.log2(t),r=j[e];return r.length>0?r.pop():new i(t)}var m=t("bit-twiddle"),y=t("dup");e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:y([32,0]),UINT16:y([32,0]),UINT32:y([32,0]),INT8:y([32,0]),INT16:y([32,0]),INT32:y([32,0]),FLOAT:y([32,0]),DOUBLE:y([32,0]),DATA:y([32,0]),UINT8C:y([32,0]),BUFFER:y([32,0])});var b="undefined"!=typeof Uint8ClampedArray,w=e.__TYPEDARRAY_POOL;w.UINT8C||(w.UINT8C=y([32,0])),w.BUFFER||(w.BUFFER=y([32,0]));var x=w.DATA,j=w.BUFFER;r.free=function(t){if(i.isBuffer(t))j[m.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|m.log2(e);x[r].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=o,r.freeArrayBuffer=n,r.freeBuffer=function(t){j[m.log2(t.length)].push(t)},r.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return s(t);switch(e){case"uint8":return a(t);case"uint16":return u(t);case"uint32":return l(t);case"int8":return c(t);case"int16":return h(t);case"int32":return f(t);case"float":case"float32":return p(t);case"double":case"float64":return d(t);case"uint8_clamped":return _(t);case"buffer":return g(t);case"data":case"dataview":return v(t);default:return null}return null},r.mallocArrayBuffer=s,r.mallocUint8=a,r.mallocUint16=u,r.mallocUint32=l,r.mallocInt8=c,r.mallocInt16=h,r.mallocInt32=f,r.mallocFloat32=r.mallocFloat=p,r.mallocFloat64=r.mallocDouble=d,r.mallocUint8Clamped=_,r.mallocDataView=v,r.mallocBuffer=g,r.clearCache=function(){for(var t=0;32>t;++t)w.UINT8[t].length=0,w.UINT16[t].length=0,w.UINT32[t].length=0,w.INT8[t].length=0,w.INT16[t].length=0,w.INT32[t].length=0,w.FLOAT[t].length=0,w.DOUBLE[t].length=0,w.UINT8C[t].length=0,x[t].length=0,j[t].length=0}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"bit-twiddle":90,buffer:333,dup:91}],93:[function(t,e,r){void function(t,i,n){function o(t,e,r){return"function"==typeof e&&(r=e,e=s(r).replace(/_$/,"")),l(t,e,{configurable:!0,writable:!0,value:r})}function s(t){return"function"!=typeof t?"":"name"in t?t.name:c.call(t).match(p)[1]}function a(t){function e(e,i){return i||2===arguments.length?r.set(e,i):(i=r.get(e),i===n&&(i=t(e),r.set(e,i))),i}var r=new _;return t||(t=v),e}var u=Object.getOwnPropertyNames,l=Object.defineProperty,c=Function.prototype.toString,h=Object.create,f=Object.prototype.hasOwnProperty,p=/^\n?function\s?(\w*)?_?\(/,d=function(){function t(){var t=s(),i={};this.unlock=function(n){var o=c(n);if(f.call(o,t))return o[t](i);var s=h(null,e);return l(o,t,{value:new Function("s","l",r)(i,s)}),s}}var e={value:{writable:!0,value:n}},r="return function(k){if(k===s)return l}",i=h(null),s=function(){var t=Math.random().toString(36).slice(2);return t in i?s():i[t]=t},a=s(),c=function(t){if(f.call(t,a))return t[a];if(!Object.isExtensible(t))throw new TypeError("Object must be extensible");var e=h(null);return l(t,a,{value:e}),e};return o(Object,function(t){var e=u(t);return f.call(t,a)&&e.splice(e.indexOf(a),1),e}),o(t.prototype,function(t){return this.unlock(t).value}),o(t.prototype,function(t,e){this.unlock(t).value=e}),t}(),_=function(e){function r(e){return this===t||null==this||this===r.prototype?new r(e):(p(this,new d),void v(this,e))}function a(t){f(t);var e=_(this).get(t);return e===i?n:e}function u(t,e){f(t),_(this).set(t,e===n?i:e)}function l(t){return f(t),_(this).get(t)!==n}function c(t){f(t);var e=_(this),r=e.get(t)!==n;return e.set(t,n),r}function h(){return _(this),"[object WeakMap]"}var f=function(t){if(null==t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Invalid WeakMap key")},p=function(t,r){var i=e.unlock(t);if(i.value)throw new TypeError("Object is already a WeakMap");i.value=r},_=function(t){var r=e.unlock(t).value;if(!r)throw new TypeError("WeakMap is not generic");return r},v=function(t,e){null!==e&&"object"==typeof e&&"function"==typeof e.forEach&&e.forEach(function(r,i){r instanceof Array&&2===r.length&&u.call(t,e[i][0],e[i][1])})};try{var g=("return "+c).replace("e_","\\u0065"),m=new Function("unwrap","validate",g)(_,f)}catch(y){var m=c}var g=(""+Object).split("Object"),b=function(){return g[0]+s(this)+g[1]};o(b,b);var w={__proto__:[]}instanceof Array?function(t){t.__proto__=b}:function(t){o(t,b)};return w(r),[h,a,u,l,m].forEach(function(t){o(r.prototype,t),w(t)}),r}(new d),v=Object.create?function(){return Object.create(null)}:function(){return{}};"undefined"!=typeof e?e.exports=_:"undefined"!=typeof r?r.WeakMap=_:"WeakMap"in t||(t.WeakMap=_),_.createStorage=a,t.WeakMap&&(t.WeakMap.createStorage=a)}((0,eval)("this"))},{}],94:[function(t,e){"use strict";function r(t){return t.replace(/^[A-Z]+_/,"")}function i(t){var e=o.get(t);if(e)return e;for(var i={},n=t.getSupportedExtensions(),s=0;s<n.length;++s){var a=n[s];if(0!==a.indexOf("MOZ_")){var u=t.getExtension(n[s]);if(u)for(;;){i[a]=u;var l=r(a);if(l===a)break;a=l}}}return o.set(t,i),i}var n="undefined"==typeof WeakMap?t("weakmap"):WeakMap,o=new n;e.exports=i},{weakmap:93}],95:[function(t,e){"use strict";function r(t,e,r){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var i=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(r){if(r.length>i)throw new Error("gl-vao: Too many vertex attributes");for(var n=0;n<r.length;++n){var o=r[n];if(o.buffer){var s=o.buffer,a=o.size||4,u=o.type||t.FLOAT,l=!!o.normalized,c=o.stride||0,h=o.offset||0;s.bind(),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,a,u,l,c,h)}else{if("number"==typeof o)t.vertexAttrib1f(n,o);else if(1===o.length)t.vertexAttrib1f(n,o[0]);else if(2===o.length)t.vertexAttrib2f(n,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(n,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(n,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(n)}}for(;i>n;++n)t.disableVertexAttribArray(n)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var n=0;i>n;++n)t.disableVertexAttribArray(n)}}e.exports=r},{}],96:[function(t,e){"use strict";function r(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function i(t){return new r(t)}var n=t("./do-bind.js");r.prototype.bind=function(){n(this.gl,this._elements,this._attributes)},r.prototype.update=function(t,e,r){this._elements=e,this._attributes=t,this._elementsType=r||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(t,e,r){r=r||0;var i=this.gl;this._elements?i.drawElements(t,e,this._elementsType,r):i.drawArrays(t,r,e)},e.exports=i},{"./do-bind.js":95}],97:[function(t,e){"use strict";function r(t,e,r,i,n,o){this.location=t,this.dimension=e,this.a=r,this.b=i,this.c=n,this.d=o}function i(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function n(t,e){return new i(t,e,e.createVertexArrayOES())}var o=t("./do-bind.js");r.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(t,e,i){if(this.bind(),o(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var n=0;n<t.length;++n){var s=t[n];"number"==typeof s?this._attribs.push(new r(n,1,s)):Array.isArray(s)&&this._attribs.push(new r(n,s.length,s[0],s[1],s[2],s[3]))}this._useElements=!!e,this._elementsType=i||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(t,e,r){r=r||0;var i=this.gl;this._useElements?i.drawElements(t,e,this._elementsType,r):i.drawArrays(t,r,e)},e.exports=n},{"./do-bind.js":95}],98:[function(t,e){e.exports=t(93)},{}],99:[function(t,e){e.exports=t(94)},{weakmap:98}],100:[function(t,e){"use strict";function r(t,e,r,s){var a,u=i(t).OES_vertex_array_object;return a=u?n(t,u):o(t),a.update(e,r,s),a}var i=t("webglew"),n=t("./lib/vao-native.js"),o=t("./lib/vao-emulated.js");e.exports=r},{"./lib/vao-emulated.js":96,"./lib/vao-native.js":97,webglew:99}],101:[function(t,e){"use strict";function r(t,e,r,i,n,o,s){this._gl=t,this._program=e,this._location=r,this._dimension=i,this._name=n,this._constFunc=o,this._relink=s}function i(t,e,i,n,o,s,a){for(var u=["gl","v"],l=[],c=0;n>c;++c)u.push("x"+c),l.push("x"+c);u.push(["if(x0.length===void 0){return gl.vertexAttrib",n,"f(v,",l.join(),")}else{return gl.vertexAttrib",n,"fv(v,x0)}"].join(""));var h=Function.apply(void 0,u),f=new r(t,e,i,n,s,h,a);Object.defineProperty(o,s,{set:function(e){return t.disableVertexAttribArray(f._location),h(t,f._location,e),e},get:function(){return f},enumerable:!0})}function n(t,e,r,n){for(var o={},s=0,a=r.length;a>s;++s){var u=r[s],l=u.name,c=u.type,h=t.getAttribLocation(e,l);switch(c){case"bool":case"int":case"float":i(t,e,h,1,o,l,n);break;default:if(!(c.indexOf("vec")>=0))throw new Error("gl-shader: Unknown data type for attribute "+l+": "+c);var f=c.charCodeAt(c.length-1)-48;if(2>f||f>4)throw new Error("gl-shader: Invalid data type for attribute "+l+": "+c);i(t,e,h,f,o,l,n)}}return o}e.exports=n;var o=r.prototype;o.pointer=function(t,e,r,i){var n=this._gl;n.vertexAttribPointer(this._location,this._dimension,t||n.FLOAT,!!e,r||0,i||0),this._gl.enableVertexAttribArray(this._location)},Object.defineProperty(o,"location",{get:function(){return this._location},set:function(t){t!==this._location&&(this._location=t,this._gl.bindAttribLocation(this._program,t,this._name),this._gl.linkProgram(this._program),this._relink())}})},{}],102:[function(t,e){"use strict";function r(t){var e=new Function("y","return function(){return y}");return e(t)}function i(t,e,i,s){function a(r){var i=new Function("gl","prog","locations","return function(){return gl.getUniform(prog,locations["+r+"])}");return i(t,e,s)}function u(t,e,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var i=r.indexOf("vec");if(!(i>=0&&1>=i&&r.length===4+i)){if(0===r.indexOf("mat")&&4===r.length){var n=r.charCodeAt(r.length-1)-48;if(2>n||n>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+n+"fv(locations["+e+"],false,obj"+t+")"}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+r)}var n=r.charCodeAt(r.length-1)-48;if(2>n||n>4)throw new Error("gl-shader: Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+n+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+n+"fv(locations["+e+"],obj"+t+")";default:throw new Error("gl-shader: Unrecognized data type for vector "+name+": "+r)}}}function l(t,e){if("object"!=typeof e)return[[t,e]];var r=[];for(var i in e){var n=e[i],o=t;o+=parseInt(i)+""===i?"["+i+"]":"."+i,"object"==typeof n?r.push.apply(r,l(o,n)):r.push([o,n])}return r}function c(r){for(var n=["return function updateProperty(obj){"],o=l("",r),a=0;a<o.length;++a){var c=o[a],h=c[0],f=c[1];s[f]&&n.push(u(h,f,i[f].type))}n.push("return obj}");var p=new Function("gl","prog","locations",n.join("\n"));return p(t,e,s)}function h(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var e=t.indexOf("vec");if(e>=0&&1>=e&&t.length===4+e){var r=t.charCodeAt(t.length-1)-48;if(2>r||r>4)throw new Error("gl-shader: Invalid data type");return"b"===t.charAt(0)?n(r,!1):n(r)}if(0===t.indexOf("mat")&&4===t.length){var r=t.charCodeAt(t.length-1)-48;if(2>r||r>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+t);return n([r,r])}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+t)}}function f(t,e,n){if("object"==typeof n){var o=p(n);Object.defineProperty(t,e,{get:r(o),set:c(n),enumerable:!0,configurable:!1})}else s[n]?Object.defineProperty(t,e,{get:a(n),set:c(n),enumerable:!0,configurable:!1}):t[e]=h(i[n].type)}function p(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)f(e,r,t[r])}else{e={};for(var i in t)f(e,i,t[i])}return e}var d=o(i,!0);return{get:r(p(d)),set:c(d),enumerable:!0,configurable:!0}}var n=t("dup"),o=t("./reflect");e.exports=i},{"./reflect":103,dup:104}],103:[function(t,e){"use strict";function r(t,e){for(var r={},i=0;i<t.length;++i)for(var n=t[i].name,o=n.split("."),s=r,a=0;a<o.length;++a){var u=o[a].split("[");if(u.length>1){u[0]in s||(s[u[0]]=[]),s=s[u[0]];for(var l=1;l<u.length;++l){var c=parseInt(u[l]);l<u.length-1||a<o.length-1?(c in s||(s[c]=l<u.length-1?[]:{}),s=s[c]):s[c]=e?i:t[i].type}}else a<o.length-1?(u[0]in s||(s[u[0]]={}),s=s[u[0]]):s[u[0]]=e?i:t[i].type}return r}e.exports=r},{}],104:[function(t,e){e.exports=t(91)},{}],105:[function(t,e){"use strict";function r(t,e,r,i){this.gl=t,this.handle=e,this.attributes=null,this.uniforms=null,this.types=null,this.vertexShader=r,this.fragmentShader=i}function i(t,e,r,i){for(var n=0;n<i.length;++n)r[n]=t.getUniformLocation(e,i[n].name)}function n(t,e,i,n,o){var s=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(s,e),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(s);throw console.error("gl-shader: Error compling vertex shader:",a),new Error("gl-shader: Error compiling vertex shader:"+a)}var u=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(u,i),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(u);throw console.error("gl-shader: Error compiling fragment shader:",a),new Error("gl-shader: Error compiling fragment shader:"+a)}var l=t.createProgram();if(t.attachShader(l,u),t.attachShader(l,s),o.forEach(function(e){"number"==typeof e.location&&t.bindAttribLocation(l,e.location,e.name)}),t.linkProgram(l),!t.getProgramParameter(l,t.LINK_STATUS)){var a=t.getProgramInfoLog(l);throw console.error("gl-shader: Error linking shader program:",a),new Error("gl-shader: Error linking shader program:"+a)}var c=new r(t,l,s,u);return c.updateExports(n,o),c}var o=t("./lib/create-uniforms"),s=t("./lib/create-attributes"),a=t("./lib/reflect");r.prototype.bind=function(){this.gl.useProgram(this.handle)},r.prototype.dispose=function(){var t=this.gl;t.deleteShader(this.vertexShader),t.deleteShader(this.fragmentShader),t.deleteProgram(this.handle)},r.prototype.updateExports=function(t,e){var r=new Array(t.length),n=this.handle,u=this.gl,l=i.bind(void 0,u,n,r,t);l(),this.types={uniforms:a(t),attributes:a(e)},this.attributes=s(u,n,e,l),Object.defineProperty(this,"uniforms",o(u,n,t,r))},e.exports=n},{"./lib/create-attributes":101,"./lib/create-uniforms":102,"./lib/reflect":103}],106:[function(t,e){function r(){throw new Error("You should bundle your code using `glslify` as a transform.")}e.exports=r},{}],107:[function(t,e){function r(t,e,r,i){return{vertex:t,fragment:e,uniforms:r,attributes:i}}e.exports=r},{}],108:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],109:[function(t,e){(function(t){var r="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(r._gsQueue||(r._gsQueue=[])).push(function(){"use strict";r._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,r){var i=function(t){var e,r=[],i=t.length;for(e=0;e!==i;r.push(t[e++]));return r},n=function(t,e,i){r.call(this,t,e,i),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=n.prototype.render},o=1e-10,s=r._internals,a=s.isSelector,u=s.isArray,l=n.prototype=r.to({},.1,{}),c=[];n.version="1.13.2",l.constructor=n,l.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=r.killTweensOf,n.getTweensOf=r.getTweensOf,n.lagSmoothing=r.lagSmoothing,n.ticker=r.ticker,n.render=r.render,l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),r.prototype.invalidate.call(this)},l.updateTo=function(t,e){var i,n=this.ratio;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(i in t)this.vars[i]=t[i];if(this._initted)if(e)this._initted=!1;else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&r._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._time;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._time>0){this._initted=!1,this._init();for(var s,a=1/(1-n),u=this._firstPT;u;)s=u.s+u.c,u.c*=a,u.s=s-u.c,u=u._next}return this},l.render=function(t,e,r){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var i,n,a,u,l,h,f,p,d=this._dirty?this.totalDuration():this._totalDuration,_=this._time,v=this._totalTime,g=this._cycle,m=this._duration,y=this._rawPrevTime;if(t>=d?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=m,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(i=!0,n="onComplete"),0===m&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>y||y===o)&&y!==t&&(r=!0,y>o&&(n="onReverseComplete")),this._rawPrevTime=p=!e||t||y===t?t:o)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==v||0===m&&y>0&&y!==o)&&(n="onReverseComplete",i=this._reversed),0>t&&(this._active=!1,0===m&&(this._initted||!this.vars.lazy||r)&&(y>=0&&(r=!0),this._rawPrevTime=p=!e||t||y===t?t:o)),this._initted||(r=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(u=m+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=m-this._time),this._time>m?this._time=m:this._time<0&&(this._time=0)),this._easeType?(l=this._time/m,h=this._easeType,f=this._easePower,(1===h||3===h&&l>=.5)&&(l=1-l),3===h&&(l*=2),1===f?l*=l:2===f?l*=l*l:3===f?l*=l*l*l:4===f&&(l*=l*l*l*l),this.ratio=1===h?1-l:2===h?l:this._time/m<.5?l/2:1-l/2):this.ratio=this._ease.getRatio(this._time/m)),_===this._time&&!r&&g===this._cycle)return void(v!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||c)));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=_,this._totalTime=v,this._rawPrevTime=y,this._cycle=g,s.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/m):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==_&&t>=0&&(this._active=!0),0===v&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,r):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===m)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||c))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,r),e||(this._totalTime!==v||i)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||c)),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||c)),n&&(!this._gc||r)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,r),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this.vars[n].apply(this.vars[n+"Scope"]||this,this.vars[n+"Params"]||c),0===m&&this._rawPrevTime===o&&p!==o&&(this._rawPrevTime=0))},n.to=function(t,e,r){return new n(t,e,r)},n.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new n(t,e,r)},n.fromTo=function(t,e,r,i){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,new n(t,e,i)},n.staggerTo=n.allTo=function(t,e,o,s,l,h,f){s=s||0;var p,d,_,v,g=o.delay||0,m=[],y=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),l.apply(f||this,h||c)};for(u(t)||("string"==typeof t&&(t=r.selector(t)||t),a(t)&&(t=i(t))),p=t.length,_=0;p>_;_++){d={};for(v in o)d[v]=o[v];d.delay=g,_===p-1&&l&&(d.onComplete=y),m[_]=new n(t[_],e,d),g+=s}return m},n.staggerFrom=n.allFrom=function(t,e,r,i,o,s,a){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,n.staggerTo(t,e,r,i,o,s,a)},n.staggerFromTo=n.allFromTo=function(t,e,r,i,o,s,a,u){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,n.staggerTo(t,e,i,o,s,a,u)},n.delayedCall=function(t,e,r,i,o){return new n(e,0,{delay:t,onComplete:e,onCompleteParams:r,onCompleteScope:i,onReverseComplete:e,onReverseCompleteParams:r,onReverseCompleteScope:i,immediateRender:!1,useFrames:o,overwrite:0})},n.set=function(t,e){return new n(t,0,e)},n.isTweening=function(t){return r.getTweensOf(t,!0).length>0};var h=function(t,e){for(var i=[],n=0,o=t._first;o;)o instanceof r?i[n++]=o:(e&&(i[n++]=o),i=i.concat(h(o,e)),n=i.length),o=o._next;return i},f=n.getAllTweens=function(e){return h(t._rootTimeline,e).concat(h(t._rootFramesTimeline,e))};n.killAll=function(t,r,i,n){null==r&&(r=!0),null==i&&(i=!0);var o,s,a,u=f(0!=n),l=u.length,c=r&&i&&n;for(a=0;l>a;a++)s=u[a],(c||s instanceof e||(o=s.target===s.vars.onComplete)&&i||r&&!o)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},n.killChildTweensOf=function(t,e){if(null!=t){var o,l,c,h,f,p=s.tweenLookup;if("string"==typeof t&&(t=r.selector(t)||t),a(t)&&(t=i(t)),u(t))for(h=t.length;--h>-1;)n.killChildTweensOf(t[h],e);else{o=[];for(c in p)for(l=p[c].target.parentNode;l;)l===t&&(o=o.concat(p[c].tweens)),l=l.parentNode;for(f=o.length,h=0;f>h;h++)e&&o[h].totalTime(o[h].totalDuration()),o[h]._enabled(!1,!1)}}};var p=function(t,r,i,n){r=r!==!1,i=i!==!1,n=n!==!1;for(var o,s,a=f(n),u=r&&i&&n,l=a.length;--l>-1;)s=a[l],(u||s instanceof e||(o=s.target===s.vars.onComplete)&&i||r&&!o)&&s.paused(t)};return n.pauseAll=function(t,e,r){p(!0,t,e,r)},n.resumeAll=function(t,e,r){p(!1,t,e,r)},n.globalTimeScale=function(e){var i=t._rootTimeline,n=r.ticker.time;return arguments.length?(e=e||o,i._startTime=n-(n-i._startTime)*i._timeScale/e,i=t._rootFramesTimeline,n=r.ticker.frame,i._startTime=n-(n-i._startTime)*i._timeScale/e,i._timeScale=t._rootTimeline._timeScale=e,e):i._timeScale},l.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},l.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},n},!0),r._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var r,i,n=this.vars;for(i in n)r=n[i],u(r)&&-1!==r.join("").indexOf("{self}")&&(n[i]=this._swapSelfInParams(r));u(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},o=1e-10,s=i._internals,a=s.isSelector,u=s.isArray,l=s.lazyTweens,c=s.lazyRender,h=[],f=r._gsDefine.globals,p=function(t){var e,r={};
for(e in t)r[e]=t[e];return r},d=function(t,e,r,i){var n=t._timeline._totalTime;(e||!this._forcingPlayhead)&&(t._timeline.pause(t._startTime),e&&e.apply(i||t._timeline,r||h),this._forcingPlayhead&&t._timeline.seek(n))},_=function(t){var e,r=[],i=t.length;for(e=0;e!==i;r.push(t[e++]));return r},v=n.prototype=new e;return n.version="1.13.2",v.constructor=n,v.kill()._gc=v._forcingPlayhead=!1,v.to=function(t,e,r,n){var o=r.repeat&&f.TweenMax||i;return e?this.add(new o(t,e,r),n):this.set(t,r,n)},v.from=function(t,e,r,n){return this.add((r.repeat&&f.TweenMax||i).from(t,e,r),n)},v.fromTo=function(t,e,r,n,o){var s=n.repeat&&f.TweenMax||i;return e?this.add(s.fromTo(t,e,r,n),o):this.set(t,n,o)},v.staggerTo=function(t,e,r,o,s,u,l,c){var h,f=new n({onComplete:u,onCompleteParams:l,onCompleteScope:c,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),a(t)&&(t=_(t)),o=o||0,h=0;h<t.length;h++)r.startAt&&(r.startAt=p(r.startAt)),f.to(t[h],e,p(r),h*o);return this.add(f,s)},v.staggerFrom=function(t,e,r,i,n,o,s,a){return r.immediateRender=0!=r.immediateRender,r.runBackwards=!0,this.staggerTo(t,e,r,i,n,o,s,a)},v.staggerFromTo=function(t,e,r,i,n,o,s,a,u){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,this.staggerTo(t,e,i,n,o,s,a,u)},v.call=function(t,e,r,n){return this.add(i.delayedCall(0,t,e,r),n)},v.set=function(t,e,r){return r=this._parseTimeOrLabel(r,0,!0),null==e.immediateRender&&(e.immediateRender=r===this._time&&!this._paused),this.add(new i(t,0,e),r)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,o,s=new n(t),a=s._timeline;for(null==e&&(e=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,r=a._first;r;)o=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||s.add(r,r._startTime-r._delay),r=o;return a.add(s,0),s},v.add=function(r,o,s,a){var l,c,h,f,p,d;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&u(r)){for(s=s||"normal",a=a||0,l=o,c=r.length,h=0;c>h;h++)u(f=r[h])&&(f=new n({tweens:f})),this.add(f,l),"string"!=typeof f&&"function"!=typeof f&&("sequence"===s?l=f._startTime+f.totalDuration()/f._timeScale:"start"===s&&(f._startTime-=f.delay())),l+=a;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,o);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=this,d=p.rawTime()>r._startTime;p._timeline;)d&&p._timeline.smoothChildTiming?p.totalTime(p._totalTime,!0):p._gc&&p._enabled(!0,!1),p=p._timeline;return this},v.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&u(e)){for(var r=e.length;--r>-1;)this.remove(e[r]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},v._remove=function(t,r){e.prototype._remove.call(this,t,r);var i=this._last;return i?this._time>i._startTime+i._totalDuration/i._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},v.insert=v.insertMultiple=function(t,e,r,i){return this.add(t,e||0,r,i)},v.appendMultiple=function(t,e,r,i){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),r,i)},v.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},v.addPause=function(t,e,r,i){return this.call(d,["{self}",e,r,i],this,t)},v.removeLabel=function(t){return delete this._labels[t],this},v.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},v._parseTimeOrLabel=function(e,r,i,n){var o;if(n instanceof t&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&u(n)))for(o=n.length;--o>-1;)n[o]instanceof t&&n[o].timeline===this&&this.remove(n[o]);if("string"==typeof r)return this._parseTimeOrLabel(r,i&&"number"==typeof e&&null==this._labels[r]?e-this.duration():0,i);if(r=r||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),-1===o)return null==this._labels[e]?i?this._labels[e]=this.duration()+r:r:this._labels[e]+r;r=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,i):this.duration()}return Number(e)+r},v.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(t,e){return this.play(t,e)},v.gotoAndStop=function(t,e){return this.pause(t,e)},v.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var i,n,s,a,u,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,d=this._startTime,_=this._timeScale,v=this._paused;if(t>=f?(this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(n=!0,a="onComplete",0===this._duration&&(0===t||this._rawPrevTime<0||this._rawPrevTime===o)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>o&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,t=f+1e-4):1e-7>t?(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==o&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",n=this._reversed),0>t?(this._active=!1,this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t):(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,t=0,this._initted||(u=!0))):this._totalTime=this._time=this._rawPrevTime=t,this._time!==p&&this._first||r||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||h)),this._time>=p)for(i=this._first;i&&(s=i._next,!this._paused||v);)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=s;else for(i=this._last;i&&(s=i._prev,!this._paused||v);)(i._active||i._startTime<=p&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=s;this._onUpdate&&(e||(l.length&&c(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||h))),a&&(this._gc||(d===this._startTime||_!==this._timeScale)&&(0===this._time||f>=this.totalDuration())&&(n&&(l.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||h)))}},v._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},v.getChildren=function(t,e,r,n){n=n||-9999999999;for(var o=[],s=this._first,a=0;s;)s._startTime<n||(s instanceof i?e!==!1&&(o[a++]=s):(r!==!1&&(o[a++]=s),t!==!1&&(o=o.concat(s.getChildren(!0,e,r)),a=o.length))),s=s._next;return o},v.getTweensOf=function(t,e){var r,n,o=this._gc,s=[],a=0;for(o&&this._enabled(!0,!0),r=i.getTweensOf(t),n=r.length;--n>-1;)(r[n].timeline===this||e&&this._contains(r[n]))&&(s[a++]=r[n]);return o&&this._enabled(!1,!0),s},v._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},v.shiftChildren=function(t,e,r){r=r||0;for(var i,n=this._first,o=this._labels;n;)n._startTime>=r&&(n._startTime+=t),n=n._next;if(e)for(i in o)o[i]>=r&&(o[i]+=t);return this._uncache(!0)},v._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var r=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),i=r.length,n=!1;--i>-1;)r[i]._kill(t,e)&&(n=!0);return n},v.clear=function(t){var e=this.getChildren(!1,!0,!0),r=e.length;for(this._time=this._totalTime=0;--r>-1;)e[r]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},v._enabled=function(t,r){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return e.prototype._enabled.call(this,t,r)},v.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},v.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,r,i=0,n=this._last,o=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>o&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):o=n._startTime,n._startTime<0&&!n._paused&&(i-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),o=0),r=n._startTime+n._totalDuration/n._timeScale,r>i&&(i=r),n=e;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},v.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},v.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),r._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,r){var i=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},n=1e-10,o=[],s=e._internals,a=s.lazyTweens,u=s.lazyRender,l=new r(null,null,1,0),c=i.prototype=new t;return c.constructor=i,c.kill()._gc=!1,i.version="1.13.2",c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},c.addCallback=function(t,r,i,n){return this.add(e.delayedCall(0,t,i,n),r)},c.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var r=this.getTweensOf(t,!1),i=r.length,n=this._parseTimeOrLabel(e);--i>-1;)r[i]._startTime===n&&r[i]._enabled(!1,!1);return this},c.tweenTo=function(t,r){r=r||{};var i,n,s,a={ease:l,overwrite:r.delay?2:1,useFrames:this.usesFrames(),immediateRender:!1};for(n in r)a[n]=r[n];return a.time=this._parseTimeOrLabel(t),i=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,s=new e(this,i,a),a.onStart=function(){s.target.paused(!0),s.vars.time!==s.target.time()&&i===s.duration()&&s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale),r.onStart&&r.onStart.apply(r.onStartScope||s,r.onStartParams||o)},s},c.tweenFromTo=function(t,e,r){r=r||{},t=this._parseTimeOrLabel(t),r.startAt={onComplete:this.seek,onCompleteParams:[t],onCompleteScope:this},r.immediateRender=r.immediateRender!==!1;var i=this.tweenTo(e,r);return i.duration(Math.abs(i.vars.time-t)/this._timeScale||.001)},c.render=function(t,e,r){this._gc&&this._enabled(!0,!1);var i,s,l,c,h,f,p=this._dirty?this.totalDuration():this._totalDuration,d=this._duration,_=this._time,v=this._totalTime,g=this._startTime,m=this._timeScale,y=this._rawPrevTime,b=this._paused,w=this._cycle;if(t>=p?(this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,c="onComplete",0===this._duration&&(0===t||0>y||y===n)&&y!==t&&this._first&&(h=!0,y>n&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:n,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=d,t=d+1e-4)):1e-7>t?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==_||0===d&&y!==n&&(y>0||0>t&&y>=0)&&!this._locked)&&(c="onReverseComplete",s=this._reversed),0>t?(this._active=!1,y>=0&&this._first&&(h=!0),this._rawPrevTime=t):(this._rawPrevTime=d||!e||t||this._rawPrevTime===t?t:n,t=0,this._initted||(h=!0))):(0===d&&0>y&&(h=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(f=d+this._repeatDelay,this._cycle=this._totalTime/f>>0,0!==this._cycle&&this._cycle===this._totalTime/f&&this._cycle--,this._time=this._totalTime-this._cycle*f,this._yoyo&&0!==(1&this._cycle)&&(this._time=d-this._time),this._time>d?(this._time=d,t=d+1e-4):this._time<0?this._time=t=0:t=this._time))),this._cycle!==w&&!this._locked){var x=this._yoyo&&0!==(1&w),j=x===(this._yoyo&&0!==(1&this._cycle)),T=this._totalTime,A=this._cycle,E=this._rawPrevTime,P=this._time;if(this._totalTime=w*d,this._cycle<w?x=!x:this._totalTime+=d,this._time=_,this._rawPrevTime=0===d?y-1e-4:y,this._cycle=w,this._locked=!0,_=x?0:d,this.render(_,e,0===d),e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||o),j&&(_=x?d+1e-4:-1e-4,this.render(_,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=P,this._totalTime=T,this._cycle=A,this._rawPrevTime=E}if(!(this._time!==_&&this._first||r||h))return void(v!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||o)));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&0!==this._totalTime&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||o)),this._time>=_)for(i=this._first;i&&(l=i._next,!this._paused||b);)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=l;else for(i=this._last;i&&(l=i._prev,!this._paused||b);)(i._active||i._startTime<=_&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,r):i.render((t-i._startTime)*i._timeScale,e,r)),i=l;this._onUpdate&&(e||(a.length&&u(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||o))),c&&(this._locked||this._gc||(g===this._startTime||m!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(s&&(a.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[c]&&this.vars[c].apply(this.vars[c+"Scope"]||this,this.vars[c+"Params"]||o)))},c.getActive=function(t,e,r){null==t&&(t=!0),null==e&&(e=!0),null==r&&(r=!1);var i,n,o=[],s=this.getChildren(t,e,r),a=0,u=s.length;for(i=0;u>i;i++)n=s[i],n.isActive()&&(o[a++]=n);return o},c.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,r=this.getLabelsArray(),i=r.length;for(e=0;i>e;e++)if(r[e].time>t)return r[e].name;return null},c.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),r=e.length;--r>-1;)if(e[r].time<t)return e[r].name;return null},c.getLabelsArray=function(){var t,e=[],r=0;for(t in this._labels)e[r++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},c.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],o={},s=function(t,e,r,i){this.a=t,this.b=e,this.c=r,this.d=i,this.da=i-t,this.ca=r-t,this.ba=e-t},a=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",u=function(t,e,r,i){var n={a:t},o={},s={},a={c:i},u=(t+e)/2,l=(e+r)/2,c=(r+i)/2,h=(u+l)/2,f=(l+c)/2,p=(f-h)/8;return n.b=u+(t-u)/4,o.b=h+p,n.c=o.a=(n.b+o.b)/2,o.c=s.a=(h+f)/2,s.b=f-p,a.b=c+(i-c)/4,s.c=a.a=(s.b+a.b)/2,[n,o,s,a]},l=function(t,r,o,s,a){var l,c,h,f,p,d,_,v,g,m,y,b,w,x=t.length-1,j=0,T=t[0].a;for(l=0;x>l;l++)p=t[j],c=p.a,h=p.d,f=t[j+1].d,a?(y=e[l],b=i[l],w=(b+y)*r*.25/(s?.5:n[l]||.5),d=h-(h-c)*(s?.5*r:0!==y?w/y:0),_=h+(f-h)*(s?.5*r:0!==b?w/b:0),v=h-(d+((_-d)*(3*y/(y+b)+.5)/4||0))):(d=h-(h-c)*r*.5,_=h+(f-h)*r*.5,v=h-(d+_)/2),d+=v,_+=v,p.c=g=d,p.b=0!==l?T:T=p.a+.6*(p.c-p.a),p.da=h-c,p.ca=g-c,p.ba=T-c,o?(m=u(c,T,g,h),t.splice(j,1,m[0],m[1],m[2],m[3]),j+=4):j++,T=_;p=t[j],p.b=T,p.c=T+.4*(p.d-T),p.da=p.d-p.a,p.ca=p.c-p.a,p.ba=T-p.a,o&&(m=u(p.a,T,p.c,p.d),t.splice(j,1,m[0],m[1],m[2],m[3]))},c=function(t,r,n,o){var a,u,l,c,h,f,p=[];if(o)for(t=[o].concat(t),u=t.length;--u>-1;)"string"==typeof(f=t[u][r])&&"="===f.charAt(1)&&(t[u][r]=o[r]+Number(f.charAt(0)+f.substr(2)));if(a=t.length-2,0>a)return p[0]=new s(t[0][r],0,0,t[-1>a?0:1][r]),p;for(u=0;a>u;u++)l=t[u][r],c=t[u+1][r],p[u]=new s(l,0,0,c),n&&(h=t[u+2][r],e[u]=(e[u]||0)+(c-l)*(c-l),i[u]=(i[u]||0)+(h-c)*(h-c));return p[u]=new s(t[u][r],0,0,t[u+1][r]),p},h=function(t,r,s,u,h,f){var p,d,_,v,g,m,y,b,w={},x=[],j=f||t[0];h="string"==typeof h?","+h+",":a,null==r&&(r=1);for(d in t[0])x.push(d);if(t.length>1){for(b=t[t.length-1],y=!0,p=x.length;--p>-1;)if(d=x[p],Math.abs(j[d]-b[d])>.05){y=!1;break}y&&(t=t.concat(),f&&t.unshift(f),t.push(t[1]),f=t[t.length-3])}for(e.length=i.length=n.length=0,p=x.length;--p>-1;)d=x[p],o[d]=-1!==h.indexOf(","+d+","),w[d]=c(t,d,o[d],f);for(p=e.length;--p>-1;)e[p]=Math.sqrt(e[p]),i[p]=Math.sqrt(i[p]);if(!u){for(p=x.length;--p>-1;)if(o[d])for(_=w[x[p]],m=_.length-1,v=0;m>v;v++)g=_[v+1].da/i[v]+_[v].da/e[v],n[v]=(n[v]||0)+g*g;for(p=n.length;--p>-1;)n[p]=Math.sqrt(n[p])}for(p=x.length,v=s?4:1;--p>-1;)d=x[p],_=w[d],l(_,r,s,u,o[d]),y&&(_.splice(0,v),_.splice(_.length-v,v));return w},f=function(t,e,r){e=e||"soft";var i,n,o,a,u,l,c,h,f,p,d,_={},v="cubic"===e?3:2,g="soft"===e,m=[];if(g&&r&&(t=[r].concat(t)),null==t||t.length<v+1)throw"invalid Bezier data";for(f in t[0])m.push(f);for(l=m.length;--l>-1;){for(f=m[l],_[f]=u=[],p=0,h=t.length,c=0;h>c;c++)i=null==r?t[c][f]:"string"==typeof(d=t[c][f])&&"="===d.charAt(1)?r[f]+Number(d.charAt(0)+d.substr(2)):Number(d),g&&c>1&&h-1>c&&(u[p++]=(i+u[p-2])/2),u[p++]=i;for(h=p-v+1,p=0,c=0;h>c;c+=v)i=u[c],n=u[c+1],o=u[c+2],a=2===v?0:u[c+3],u[p++]=d=3===v?new s(i,n,o,a):new s(i,(2*n+i)/3,(2*n+o)/3,o);u.length=p}return _},p=function(t,e,r){for(var i,n,o,s,a,u,l,c,h,f,p,d=1/r,_=t.length;--_>-1;)for(f=t[_],o=f.a,s=f.d-o,a=f.c-o,u=f.b-o,i=n=0,c=1;r>=c;c++)l=d*c,h=1-l,i=n-(n=(l*l*s+3*h*(l*a+h*u))*l),p=_*r+c-1,e[p]=(e[p]||0)+i*i},d=function(t,e){e=e>>0||6;var r,i,n,o,s=[],a=[],u=0,l=0,c=e-1,h=[],f=[];for(r in t)p(t[r],s,e);for(n=s.length,i=0;n>i;i++)u+=Math.sqrt(s[i]),o=i%e,f[o]=u,o===c&&(l+=u,o=i/e>>0,h[o]=f,a[o]=l,u=0,f=[]);return{length:l,lengths:a,segments:h}},_=r._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.3",API:2,global:!0,init:function(t,e,r){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var i,n,o,s,a,u=e.values||[],l={},c=u[0],p=e.autoRotate||r.vars.orientToBezier;this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",p===!0?0:Number(p)||0]]:null;for(i in c)this._props.push(i);for(o=this._props.length;--o>-1;)i=this._props[o],this._overwriteProps.push(i),n=this._func[i]="function"==typeof t[i],l[i]=n?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),a||l[i]!==u[0][i]&&(a=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?h(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):f(u,e.type,l),this._segCount=this._beziers[i].length,this._timeRes){var _=d(this._beziers,this._timeRes);this._length=_.length,this._lengths=_.lengths,this._segments=_.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),o=p.length;--o>-1;){for(s=0;3>s;s++)i=p[o][s],this._func[i]="function"==typeof t[i]?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]:!1;i=p[o][2],this._initialRotations[o]=this._func[i]?this._func[i].call(this._target):this._target[i]}return this._startRatio=r.vars.runBackwards?1:0,!0},set:function(e){var r,i,n,o,s,a,u,l,c,h,f=this._segCount,p=this._func,d=this._target,_=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,e*=this._length,n=this._li,e>this._l2&&f-1>n){for(l=f-1;l>n&&(this._l2=c[++n])<=e;);this._l1=c[n-1],this._li=n,this._curSeg=h=this._segments[n],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&n>0){for(;n>0&&(this._l1=c[--n])>=e;);0===n&&e<this._l1?this._l1=0:n++,this._l2=c[n],this._li=n,this._curSeg=h=this._segments[n],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(r=n,e-=this._l1,n=this._si,e>this._s2&&n<h.length-1){for(l=h.length-1;l>n&&(this._s2=h[++n])<=e;);this._s1=h[n-1],this._si=n}else if(e<this._s1&&n>0){for(;n>0&&(this._s1=h[--n])>=e;);0===n&&e<this._s1?this._s1=0:n++,this._s2=h[n],this._si=n}a=(n+(e-this._s1)/(this._s2-this._s1))*this._prec}else r=0>e?0:e>=1?f-1:f*e>>0,a=(e-r*(1/f))*f;for(i=1-a,n=this._props.length;--n>-1;)o=this._props[n],s=this._beziers[o][r],u=(a*a*s.da+3*i*(a*s.ca+i*s.ba))*a+s.a,this._round[o]&&(u=Math.round(u)),p[o]?d[o](u):d[o]=u;if(this._autoRotate){var v,g,m,y,b,w,x,j=this._autoRotate;for(n=j.length;--n>-1;)o=j[n][2],w=j[n][3]||0,x=j[n][4]===!0?1:t,s=this._beziers[j[n][0]],v=this._beziers[j[n][1]],s&&v&&(s=s[r],v=v[r],g=s.a+(s.b-s.a)*a,y=s.b+(s.c-s.b)*a,g+=(y-g)*a,y+=(s.c+(s.d-s.c)*a-y)*a,m=v.a+(v.b-v.a)*a,b=v.b+(v.c-v.b)*a,m+=(b-m)*a,b+=(v.c+(v.d-v.c)*a-b)*a,u=_?Math.atan2(b-m,y-g)*x+w:this._initialRotations[n],p[o]?d[o](u):d[o]=u)}}}),v=_.prototype;_.bezierThrough=h,_.cubicToQuadratic=u,_._autoCSS=!0,_.quadraticToCubic=function(t,e,r){return new s(t,(2*e+t)/3,(2*e+r)/3,r)},_._cssRegister=function(){var t=r._gsDefine.globals.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,o=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,r,s,a,u){e instanceof Array&&(e={values:e}),u=new _;var l,c,h,f=e.values,p=f.length-1,d=[],v={};if(0>p)return a;for(l=0;p>=l;l++)h=i(t,f[l],s,a,u,p!==l),d[l]=h.end;for(c in e)v[c]=e[c];return v.values=d,a=new o(t,"bezier",0,0,h.pt,2),a.data=h,a.plugin=u,a.setRatio=n,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(l=v.autoRotate===!0?0:Number(v.autoRotate),v.autoRotate=null!=h.end.left?[["left","top","rotation",l,!1]]:null!=h.end.x?[["x","y","rotation",l,!1]]:!1),v.autoRotate&&(s._transform||s._enableTransforms(!1),h.autoRotate=s._target._gsTransform),u._onInitTween(h.proxy,v,s._tween),a}})}},v._roundProps=function(t,e){for(var r=this._overwriteProps,i=r.length;--i>-1;)(t[r[i]]||t.bezier||t.bezierThrough)&&(this._round[r[i]]=e)},v._kill=function(t){var e,r,i=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],r=i.length;--r>-1;)i[r]===e&&i.splice(r,1);return this._super._kill.call(this,t)}}(),r._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,o,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},u={},l=a.prototype=new t("css");l.constructor=a,a.version="1.13.2",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",l="px",a.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var c,h,f,p,d,_,v=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,m=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/[^\d\-\.]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,w=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,j=/alpha\(opacity *=.+?\)/i,T=/^(rgb|hsl)/,A=/([A-Z])/g,E=/-([a-z])/gi,P=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,R=function(t,e){return e.toUpperCase()},k=/(?:Left|Right|Width)/i,S=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,F=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,C=/,(?=[^\)]*(?:\(|$))/gi,O=Math.PI/180,I=180/Math.PI,M={},U=document,D=U.createElement("div"),N=U.createElement("img"),L=a._internals={_specialProps:u},B=navigator.userAgent,V=function(){var t,e=B.indexOf("Android"),r=U.createElement("div");return f=-1!==B.indexOf("Safari")&&-1===B.indexOf("Chrome")&&(-1===e||Number(B.substr(e+8,1))>3),d=f&&Number(B.substr(B.indexOf("Version/")+8,1))<6,p=-1!==B.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(B)&&(_=parseFloat(RegExp.$1)),r.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",t=r.getElementsByTagName("a")[0],t?/^0.55/.test(t.style.opacity):!1}(),z=function(t){return w.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},H=function(t){window.console&&console.log(t)},q="",X="",Y=function(t,e){e=e||D;var r,i,n=e.style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),r=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===n[r[i]+t];);return i>=0?(X=3===i?"ms":r[i],q="-"+X.toLowerCase()+"-",X+t):null},G=U.defaultView?U.defaultView.getComputedStyle:function(){},W=a.getStyle=function(t,e,r,i,n){var o;return V||"opacity"!==e?(!i&&t.style[e]?o=t.style[e]:(r=r||G(t))?o=r[e]||r.getPropertyValue(e)||r.getPropertyValue(e.replace(A,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==n||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:n):z(t)},$=L.convertToPixels=function(t,r,i,n,o){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var s,u,l,c=k.test(r),h=t,f=D.style,p=0>i;if(p&&(i=-i),"%"===n&&-1!==r.indexOf("border"))s=i/100*(c?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+W(t,"position")+";line-height:0;","%"!==n&&h.appendChild)f[c?"borderLeftWidth":"borderTopWidth"]=i+n;else{if(h=t.parentNode||U.body,u=h._gsCache,l=e.ticker.frame,u&&c&&u.time===l)return u.width*i/100;f[c?"width":"height"]=i+n}h.appendChild(D),s=parseFloat(D[c?"offsetWidth":"offsetHeight"]),h.removeChild(D),c&&"%"===n&&a.cacheWidths!==!1&&(u=h._gsCache=h._gsCache||{},u.time=l,u.width=s/i*100),0!==s||o||(s=$(t,r,i,n,!0))}return p?-s:s},Z=L.calculateOffset=function(t,e,r){if("absolute"!==W(t,"position",r))return 0;var i="left"===e?"Left":"Top",n=W(t,"margin"+i,r);return t["offset"+i]-($(t,e,parseFloat(n),n.replace(b,""))||0)},K=function(t,e){var r,i,n={};if(e=e||G(t,null))if(r=e.length)for(;--r>-1;)n[e[r].replace(E,R)]=e.getPropertyValue(e[r]);else for(r in e)n[r]=e[r];else if(e=t.currentStyle||t.style)for(r in e)"string"==typeof r&&void 0===n[r]&&(n[r.replace(E,R)]=e[r]);return V||(n.opacity=z(t)),i=Ae(t,e,!1),n.rotation=i.rotation,n.skewX=i.skewX,n.scaleX=i.scaleX,n.scaleY=i.scaleY,n.x=i.x,n.y=i.y,je&&(n.z=i.z,n.rotationX=i.rotationX,n.rotationY=i.rotationY,n.scaleZ=i.scaleZ),n.filters&&delete n.filters,n},Q=function(t,e,r,i,n){var o,s,a,u={},l=t.style;for(s in r)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=r[s])||n&&n[s])&&-1===s.indexOf("Origin")&&("number"==typeof o||"string"==typeof o)&&(u[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(y,"")?o:0:Z(t,s),void 0!==l[s]&&(a=new fe(l,s,l[s],a)));if(i)for(s in i)"className"!==s&&(u[s]=i[s]);return{difs:u,firstMPT:a}},J={width:["Left","Right"],height:["Top","Bottom"]},te=["marginLeft","marginRight","marginTop","marginBottom"],ee=function(t,e,r){var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=J[e],o=n.length;for(r=r||G(t,null);--o>-1;)i-=parseFloat(W(t,"padding"+n[o],r,!0))||0,i-=parseFloat(W(t,"border"+n[o]+"Width",r,!0))||0;return i},re=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var r=t.split(" "),i=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":r[0],n=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":r[1];return null==n?n="0":"center"===n&&(n="50%"),("center"===i||isNaN(parseFloat(i))&&-1===(i+"").indexOf("="))&&(i="50%"),e&&(e.oxp=-1!==i.indexOf("%"),e.oyp=-1!==n.indexOf("%"),e.oxr="="===i.charAt(1),e.oyr="="===n.charAt(1),e.ox=parseFloat(i.replace(y,"")),e.oy=parseFloat(n.replace(y,""))),i+" "+n+(r.length>2?" "+r[2]:"")},ie=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:parseFloat(t)},oe=function(t,e,r,i){var n,o,s,a,u=1e-6;return null==t?a=e:"number"==typeof t?a=t:(n=360,o=t.split("_"),s=Number(o[0].replace(y,""))*(-1===t.indexOf("rad")?1:I)-("="===t.charAt(1)?0:e),o.length&&(i&&(i[r]=e+s),-1!==t.indexOf("short")&&(s%=n,s!==s%(n/2)&&(s=0>s?s+n:s-n)),-1!==t.indexOf("_cw")&&0>s?s=(s+9999999999*n)%n-(s/n|0)*n:-1!==t.indexOf("ccw")&&s>0&&(s=(s-9999999999*n)%n-(s/n|0)*n)),a=e+s),u>a&&a>-u&&(a=0),a},se={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ae=function(t,e,r){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(r-e)*t*6:.5>t?r:2>3*t?e+(r-e)*(2/3-t)*6:e)+.5|0},ue=function(t){var e,r,i,n,o,s;return t&&""!==t?"number"==typeof t?[t>>16,t>>8&255,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),se[t]?se[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),r=t.charAt(2),i=t.charAt(3),t="#"+e+e+r+r+i+i),t=parseInt(t.substr(1),16),[t>>16,t>>8&255,255&t]):"hsl"===t.substr(0,3)?(t=t.match(v),n=Number(t[0])%360/360,o=Number(t[1])/100,s=Number(t[2])/100,r=.5>=s?s*(o+1):s+o-s*o,e=2*s-r,t.length>3&&(t[3]=Number(t[3])),t[0]=ae(n+1/3,e,r),t[1]=ae(n,e,r),t[2]=ae(n-1/3,e,r),t):(t=t.match(v)||se.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):se.black},le="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(l in se)le+="|"+l+"\\b";le=new RegExp(le+")","gi");var ce=function(t,e,r,i){if(null==t)return function(t){return t};var n,o=e?(t.match(le)||[""])[0]:"",s=t.split(o).join("").match(m)||[],a=t.substr(0,t.indexOf(s[0])),u=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",c=s.length,h=c>0?s[0].replace(v,""):"";return c?n=e?function(t){var e,f,p,d;if("number"==typeof t)t+=h;else if(i&&C.test(t)){for(d=t.replace(C,"|").split("|"),p=0;p<d.length;p++)d[p]=n(d[p]);return d.join(",")}if(e=(t.match(le)||[o])[0],f=t.split(e).join("").match(m)||[],p=f.length,c>p--)for(;++p<c;)f[p]=r?f[(p-1)/2|0]:s[p];return a+f.join(l)+l+e+u+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=h;else if(i&&C.test(t)){for(o=t.replace(C,"|").split("|"),f=0;f<o.length;f++)o[f]=n(o[f]);
return o.join(",")}if(e=t.match(m)||[],f=e.length,c>f--)for(;++f<c;)e[f]=r?e[(f-1)/2|0]:s[f];return a+e.join(l)+u}:function(t){return t}},he=function(t){return t=t.split(","),function(e,r,i,n,o,s,a){var u,l=(r+"").split(" ");for(a={},u=0;4>u;u++)a[t[u]]=l[u]=l[u]||l[(u-1)/2>>0];return n.parse(e,a,o,s)}},fe=(L._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,r,i,n,o=this.data,s=o.proxy,a=o.firstMPT,u=1e-6;a;)e=s[a.v],a.r?e=Math.round(e):u>e&&e>-u&&(e=0),a.t[a.p]=e,a=a._next;if(o.autoRotate&&(o.autoRotate.rotation=s.rotation),1===t)for(a=o.firstMPT;a;){if(r=a.t,r.type){if(1===r.type){for(n=r.xs0+r.s+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r.e=n}}else r.e=r.s+r.xs0;a=a._next}},function(t,e,r,i,n){this.t=t,this.p=e,this.v=r,this.r=n,i&&(i._prev=this,this._next=i)}),pe=(L._parseToProxy=function(t,e,r,i,n,o){var s,a,u,l,c,h=i,f={},p={},d=r._transform,_=M;for(r._transform=null,M=e,i=c=r.parse(t,e,i,n),M=_,o&&(r._transform=d,h&&(h._prev=null,h._prev&&(h._prev._next=null)));i&&i!==h;){if(i.type<=1&&(a=i.p,p[a]=i.s+i.c,f[a]=i.s,o||(l=new fe(i,"s",a,l,i.r),i.c=0),1===i.type))for(s=i.l;--s>0;)u="xn"+s,a=i.p+"_"+u,p[a]=i.data[u],f[a]=i[u],o||(l=new fe(i,u,a,l,i.rxp[u]));i=i._next}return{proxy:f,end:p,firstMPT:l,pt:c}},L.CSSPropTween=function(t,e,r,n,o,a,u,l,c,h,f){this.t=t,this.p=e,this.s=r,this.c=n,this.n=u||e,t instanceof pe||s.push(this.n),this.r=l,this.type=a||0,c&&(this.pr=c,i=!0),this.b=void 0===h?r:h,this.e=void 0===f?r+n:f,o&&(this._next=o,o._prev=this)}),de=a.parseComplex=function(t,e,r,i,n,o,s,a,u,l){r=r||o||"",s=new pe(t,e,0,0,s,l?2:1,null,!1,a,r,i),i+="";var h,f,p,d,_,m,y,b,w,x,j,A,E=r.split(", ").join(",").split(" "),P=i.split(", ").join(",").split(" "),R=E.length,k=c!==!1;for((-1!==i.indexOf(",")||-1!==r.indexOf(","))&&(E=E.join(" ").replace(C,", ").split(" "),P=P.join(" ").replace(C,", ").split(" "),R=E.length),R!==P.length&&(E=(o||"").split(" "),R=E.length),s.plugin=u,s.setRatio=l,h=0;R>h;h++)if(d=E[h],_=P[h],b=parseFloat(d),b||0===b)s.appendXtra("",b,ie(_,b),_.replace(g,""),k&&-1!==_.indexOf("px"),!0);else if(n&&("#"===d.charAt(0)||se[d]||T.test(d)))A=","===_.charAt(_.length-1)?"),":")",d=ue(d),_=ue(_),w=d.length+_.length>6,w&&!V&&0===_[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(P[h]).join("transparent")):(V||(w=!1),s.appendXtra(w?"rgba(":"rgb(",d[0],_[0]-d[0],",",!0,!0).appendXtra("",d[1],_[1]-d[1],",",!0).appendXtra("",d[2],_[2]-d[2],w?",":A,!0),w&&(d=d.length<4?1:d[3],s.appendXtra("",d,(_.length<4?1:_[3])-d,A,!1)));else if(m=d.match(v)){if(y=_.match(g),!y||y.length!==m.length)return s;for(p=0,f=0;f<m.length;f++)j=m[f],x=d.indexOf(j,p),s.appendXtra(d.substr(p,x-p),Number(j),ie(y[f],j),"",k&&"px"===d.substr(x+j.length,2),0===f),p=x+j.length;s["xs"+s.l]+=d.substr(p)}else s["xs"+s.l]+=s.l?" "+d:d;if(-1!==i.indexOf("=")&&s.data){for(A=s.xs0+s.data.s,h=1;h<s.l;h++)A+=s["xs"+h]+s.data["xn"+h];s.e=A+s["xs"+h]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},_e=9;for(l=pe.prototype,l.l=l.pr=0;--_e>0;)l["xn"+_e]=0,l["xs"+_e]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(t,e,r,i,n,o){var s=this,a=s.l;return s["xs"+a]+=o&&a?" "+t:t||"",r||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=i||"",a>0?(s.data["xn"+a]=e+r,s.rxp["xn"+a]=n,s["xn"+a]=e,s.plugin||(s.xfirst=new pe(s,"xn"+a,e,r,s.xfirst||s,0,s.n,n,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+r},s.rxp={},s.s=e,s.c=r,s.r=n,s)):(s["xs"+a]+=e+(i||""),s)};var ve=function(t,e){e=e||{},this.p=e.prefix?Y(t)||t:t,u[t]=u[this.p]=this,this.format=e.formatter||ce(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},ge=L._registerComplexSpecialProp=function(t,e,r){"object"!=typeof e&&(e={parser:r});var i,n,o=t.split(","),s=e.defaultValue;for(r=r||[s],i=0;i<o.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=r[i]||s,n=new ve(o[i],e)},me=function(t){if(!u[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";ge(t,{parser:function(t,i,n,o,s,a,l){var c=(r.GreenSockGlobals||r).com.greensock.plugins[e];return c?(c._cssRegister(),u[n].parse(t,i,n,o,s,a,l)):(H("Error: "+e+" js file not loaded."),s)}})}};l=ve.prototype,l.parseComplex=function(t,e,r,i,n,o){var s,a,u,l,c,h,f=this.keyword;if(this.multi&&(C.test(r)||C.test(e)?(a=e.replace(C,"|").split("|"),u=r.replace(C,"|").split("|")):f&&(a=[e],u=[r])),u){for(l=u.length>a.length?u.length:a.length,s=0;l>s;s++)e=a[s]=a[s]||this.dflt,r=u[s]=u[s]||this.dflt,f&&(c=e.indexOf(f),h=r.indexOf(f),c!==h&&(r=-1===h?u:a,r[s]+=" "+f));e=a.join(", "),r=u.join(", ")}return de(t,this.p,e,r,this.clrs,this.dflt,i,this.pr,n,o)},l.parse=function(t,e,r,i,n,s){return this.parseComplex(t.style,this.format(W(t,this.p,o,!1,this.dflt)),this.format(e),n,s)},a.registerSpecialProp=function(t,e,r){ge(t,{parser:function(t,i,n,o,s,a){var u=new pe(t,n,0,0,s,2,n,!1,r);return u.plugin=a,u.setRatio=e(t,i,o._tween,n),u},priority:r})};var ye="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),be=Y("transform"),we=q+"transform",xe=Y("transformOrigin"),je=null!==Y("perspective"),Te=L.Transform=function(){this.skewY=0},Ae=L.getTransform=function(t,e,r,i){if(t._gsTransform&&r&&!i)return t._gsTransform;var n,o,s,u,l,c,h,f,p,d,_,v,g,m=r?t._gsTransform||new Te:new Te,y=m.scaleX<0,b=2e-5,w=1e5,x=179.99,j=x*O,T=je?parseFloat(W(t,xe,e,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,A=parseFloat(a.defaultTransformPerspective)||0;if(be?n=W(t,we,e,!0):t.currentStyle&&(n=t.currentStyle.filter.match(S),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),m.x||0,m.y||0].join(","):""),n&&"none"!==n&&"matrix(1, 0, 0, 1, 0, 0)"!==n){for(o=(n||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],s=o.length;--s>-1;)u=Number(o[s]),o[s]=(l=u-(u|=0))?(l*w+(0>l?-.5:.5)|0)/w+u:u;if(16===o.length){var E=o[8],P=o[9],R=o[10],k=o[12],F=o[13],C=o[14];if(m.zOrigin&&(C=-m.zOrigin,k=E*C-o[12],F=P*C-o[13],C=R*C+m.zOrigin-o[14]),!r||i||null==m.rotationX){var M,U,D,N,L,B,V,z=o[0],H=o[1],q=o[2],X=o[3],Y=o[4],G=o[5],$=o[6],Z=o[7],K=o[11],Q=Math.atan2($,R),J=-j>Q||Q>j;m.rotationX=Q*I,Q&&(N=Math.cos(-Q),L=Math.sin(-Q),M=Y*N+E*L,U=G*N+P*L,D=$*N+R*L,E=Y*-L+E*N,P=G*-L+P*N,R=$*-L+R*N,K=Z*-L+K*N,Y=M,G=U,$=D),Q=Math.atan2(E,z),m.rotationY=Q*I,Q&&(B=-j>Q||Q>j,N=Math.cos(-Q),L=Math.sin(-Q),M=z*N-E*L,U=H*N-P*L,D=q*N-R*L,P=H*L+P*N,R=q*L+R*N,K=X*L+K*N,z=M,H=U,q=D),Q=Math.atan2(H,G),m.rotation=Q*I,Q&&(V=-j>Q||Q>j,N=Math.cos(-Q),L=Math.sin(-Q),z=z*N+Y*L,U=H*N+G*L,G=H*-L+G*N,$=q*-L+$*N,H=U),V&&J?m.rotation=m.rotationX=0:V&&B?m.rotation=m.rotationY=0:B&&J&&(m.rotationY=m.rotationX=0),m.scaleX=(Math.sqrt(z*z+H*H)*w+.5|0)/w,m.scaleY=(Math.sqrt(G*G+P*P)*w+.5|0)/w,m.scaleZ=(Math.sqrt($*$+R*R)*w+.5|0)/w,m.skewX=0,m.perspective=K?1/(0>K?-K:K):0,m.x=k,m.y=F,m.z=C}}else if(!(je&&!i&&o.length&&m.x===o[4]&&m.y===o[5]&&(m.rotationX||m.rotationY)||void 0!==m.x&&"none"===W(t,"display",e))){var te=o.length>=6,ee=te?o[0]:1,re=o[1]||0,ie=o[2]||0,ne=te?o[3]:1;m.x=o[4]||0,m.y=o[5]||0,c=Math.sqrt(ee*ee+re*re),h=Math.sqrt(ne*ne+ie*ie),f=ee||re?Math.atan2(re,ee)*I:m.rotation||0,p=ie||ne?Math.atan2(ie,ne)*I+f:m.skewX||0,d=c-Math.abs(m.scaleX||0),_=h-Math.abs(m.scaleY||0),Math.abs(p)>90&&Math.abs(p)<270&&(y?(c*=-1,p+=0>=f?180:-180,f+=0>=f?180:-180):(h*=-1,p+=0>=p?180:-180)),v=(f-m.rotation)%180,g=(p-m.skewX)%180,(void 0===m.skewX||d>b||-b>d||_>b||-b>_||v>-x&&x>v&&v*w|!1||g>-x&&x>g&&g*w|!1)&&(m.scaleX=c,m.scaleY=h,m.rotation=f,m.skewX=p),je&&(m.rotationX=m.rotationY=m.z=0,m.perspective=A,m.scaleZ=1)}m.zOrigin=T;for(s in m)m[s]<b&&m[s]>-b&&(m[s]=0)}else m={x:0,y:0,z:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,perspective:A,rotation:0,rotationX:0,rotationY:0,zOrigin:0};return r&&(t._gsTransform=m),m.xPercent=m.yPercent=0,m},Ee=function(t){var e,r,i=this.data,n=-i.rotation*O,o=n+i.skewX*O,s=1e5,a=(Math.cos(n)*i.scaleX*s|0)/s,u=(Math.sin(n)*i.scaleX*s|0)/s,l=(Math.sin(o)*-i.scaleY*s|0)/s,c=(Math.cos(o)*i.scaleY*s|0)/s,h=this.t.style,f=this.t.currentStyle;if(f){r=u,u=-l,l=-r,e=f.filter,h.filter="";var p,d,v=this.t.offsetWidth,g=this.t.offsetHeight,m="absolute"!==f.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+u+", M21="+l+", M22="+c,x=i.x+v*i.xPercent/100,j=i.y+g*i.yPercent/100;if(null!=i.ox&&(p=(i.oxp?v*i.ox*.01:i.ox)-v/2,d=(i.oyp?g*i.oy*.01:i.oy)-g/2,x+=p-(p*a+d*u),j+=d-(p*l+d*c)),m?(p=v/2,d=g/2,y+=", Dx="+(p-(p*a+d*u)+x)+", Dy="+(d-(p*l+d*c)+j)+")"):y+=", sizingMethod='auto expand')",h.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(F,y):y+" "+e,(0===t||1===t)&&1===a&&0===u&&0===l&&1===c&&(m&&-1===y.indexOf("Dx=0, Dy=0")||w.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&h.removeAttribute("filter")),!m){var T,A,E,P=8>_?1:-1;for(p=i.ieOffsetX||0,d=i.ieOffsetY||0,i.ieOffsetX=Math.round((v-((0>a?-a:a)*v+(0>u?-u:u)*g))/2+x),i.ieOffsetY=Math.round((g-((0>c?-c:c)*g+(0>l?-l:l)*v))/2+j),_e=0;4>_e;_e++)A=te[_e],T=f[A],r=-1!==T.indexOf("px")?parseFloat(T):$(this.t,A,parseFloat(T),T.replace(b,""))||0,E=r!==i[A]?2>_e?-i.ieOffsetX:-i.ieOffsetY:2>_e?p-i.ieOffsetX:d-i.ieOffsetY,h[A]=(i[A]=Math.round(r-E*(0===_e||2===_e?1:P)))+"px"}}},Pe=L.set3DTransformRatio=function(t){var e,r,i,n,o,s,a,u,l,c,h,f,d,_,v,g,m,y,b,w,x,j,T,A=this.data,E=this.t.style,P=A.rotation*O,R=A.scaleX,k=A.scaleY,S=A.scaleZ,F=A.x,C=A.y,I=A.z,M=A.perspective;if((1===t||0===t)&&"auto"===A.force3D&&!(A.rotationY||A.rotationX||1!==S||M||I))return void Re.call(this,t);if(p){var U=1e-4;U>R&&R>-U&&(R=S=2e-5),U>k&&k>-U&&(k=S=2e-5),!M||A.z||A.rotationX||A.rotationY||(M=0)}if(P||A.skewX)y=Math.cos(P),b=Math.sin(P),e=y,o=b,A.skewX&&(P-=A.skewX*O,y=Math.cos(P),b=Math.sin(P),"simple"===A.skewType&&(w=Math.tan(A.skewX*O),w=Math.sqrt(1+w*w),y*=w,b*=w)),r=-b,s=y;else{if(!(A.rotationY||A.rotationX||1!==S||M))return void(E[be]=(A.xPercent||A.yPercent?"translate("+A.xPercent+"%,"+A.yPercent+"%) translate3d(":"translate3d(")+F+"px,"+C+"px,"+I+"px)"+(1!==R||1!==k?" scale("+R+","+k+")":""));e=s=1,r=o=0}h=1,i=n=a=u=l=c=f=d=_=0,v=M?-1/M:0,g=A.zOrigin,m=1e5,P=A.rotationY*O,P&&(y=Math.cos(P),b=Math.sin(P),l=h*-b,d=v*-b,i=e*b,a=o*b,h*=y,v*=y,e*=y,o*=y),P=A.rotationX*O,P&&(y=Math.cos(P),b=Math.sin(P),w=r*y+i*b,x=s*y+a*b,j=c*y+h*b,T=_*y+v*b,i=r*-b+i*y,a=s*-b+a*y,h=c*-b+h*y,v=_*-b+v*y,r=w,s=x,c=j,_=T),1!==S&&(i*=S,a*=S,h*=S,v*=S),1!==k&&(r*=k,s*=k,c*=k,_*=k),1!==R&&(e*=R,o*=R,l*=R,d*=R),g&&(f-=g,n=i*f,u=a*f,f=h*f+g),n=(w=(n+=F)-(n|=0))?(w*m+(0>w?-.5:.5)|0)/m+n:n,u=(w=(u+=C)-(u|=0))?(w*m+(0>w?-.5:.5)|0)/m+u:u,f=(w=(f+=I)-(f|=0))?(w*m+(0>w?-.5:.5)|0)/m+f:f,E[be]=(A.xPercent||A.yPercent?"translate("+A.xPercent+"%,"+A.yPercent+"%) matrix3d(":"matrix3d(")+[(e*m|0)/m,(o*m|0)/m,(l*m|0)/m,(d*m|0)/m,(r*m|0)/m,(s*m|0)/m,(c*m|0)/m,(_*m|0)/m,(i*m|0)/m,(a*m|0)/m,(h*m|0)/m,(v*m|0)/m,n,u,f,M?1+-f/M:1].join(",")+")"},Re=L.set2DTransformRatio=function(t){var e,r,i,n,o,s=this.data,a=this.t,u=a.style,l=s.x,c=s.y;return s.rotationX||s.rotationY||s.z||s.force3D===!0||"auto"===s.force3D&&1!==t&&0!==t?(this.setRatio=Pe,void Pe.call(this,t)):void(s.rotation||s.skewX?(e=s.rotation*O,r=e-s.skewX*O,i=1e5,n=s.scaleX*i,o=s.scaleY*i,u[be]=(s.xPercent||s.yPercent?"translate("+s.xPercent+"%,"+s.yPercent+"%) matrix(":"matrix(")+(Math.cos(e)*n|0)/i+","+(Math.sin(e)*n|0)/i+","+(Math.sin(r)*-o|0)/i+","+(Math.cos(r)*o|0)/i+","+l+","+c+")"):u[be]=(s.xPercent||s.yPercent?"translate("+s.xPercent+"%,"+s.yPercent+"%) matrix(":"matrix(")+s.scaleX+",0,0,"+s.scaleY+","+l+","+c+")")};ge("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,r,i,n,s,u){if(i._transform)return n;var l,c,h,f,p,d,_,v=i._transform=Ae(t,o,!0,u.parseTransform),g=t.style,m=1e-6,y=ye.length,b=u,w={};if("string"==typeof b.transform&&be)h=D.style,h[be]=b.transform,h.display="block",h.position="absolute",U.body.appendChild(D),l=Ae(D,null,!1),U.body.removeChild(D);else if("object"==typeof b){if(l={scaleX:ne(null!=b.scaleX?b.scaleX:b.scale,v.scaleX),scaleY:ne(null!=b.scaleY?b.scaleY:b.scale,v.scaleY),scaleZ:ne(b.scaleZ,v.scaleZ),x:ne(b.x,v.x),y:ne(b.y,v.y),z:ne(b.z,v.z),xPercent:ne(b.xPercent,v.xPercent),yPercent:ne(b.yPercent,v.yPercent),perspective:ne(b.transformPerspective,v.perspective)},_=b.directionalRotation,null!=_)if("object"==typeof _)for(h in _)b[h]=_[h];else b.rotation=_;"string"==typeof b.x&&-1!==b.x.indexOf("%")&&(l.x=0,l.xPercent=ne(b.x,v.xPercent)),"string"==typeof b.y&&-1!==b.y.indexOf("%")&&(l.y=0,l.yPercent=ne(b.y,v.yPercent)),l.rotation=oe("rotation"in b?b.rotation:"shortRotation"in b?b.shortRotation+"_short":"rotationZ"in b?b.rotationZ:v.rotation,v.rotation,"rotation",w),je&&(l.rotationX=oe("rotationX"in b?b.rotationX:"shortRotationX"in b?b.shortRotationX+"_short":v.rotationX||0,v.rotationX,"rotationX",w),l.rotationY=oe("rotationY"in b?b.rotationY:"shortRotationY"in b?b.shortRotationY+"_short":v.rotationY||0,v.rotationY,"rotationY",w)),l.skewX=null==b.skewX?v.skewX:oe(b.skewX,v.skewX),l.skewY=null==b.skewY?v.skewY:oe(b.skewY,v.skewY),(c=l.skewY-v.skewY)&&(l.skewX+=c,l.rotation+=c)}for(je&&null!=b.force3D&&(v.force3D=b.force3D,d=!0),v.skewType=b.skewType||v.skewType||a.defaultSkewType,p=v.force3D||v.z||v.rotationX||v.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,p||null==b.scale||(l.scaleZ=1);--y>-1;)r=ye[y],f=l[r]-v[r],(f>m||-m>f||null!=M[r])&&(d=!0,n=new pe(v,r,v[r],f,n),r in w&&(n.e=w[r]),n.xs0=0,n.plugin=s,i._overwriteProps.push(n.n));return f=b.transformOrigin,(f||je&&p&&v.zOrigin)&&(be?(d=!0,r=xe,f=(f||W(t,r,o,!1,"50% 50%"))+"",n=new pe(g,r,0,0,n,-1,"transformOrigin"),n.b=g[r],n.plugin=s,je?(h=v.zOrigin,f=f.split(" "),v.zOrigin=(f.length>2&&(0===h||"0px"!==f[2])?parseFloat(f[2]):h)||0,n.xs0=n.e=f[0]+" "+(f[1]||"50%")+" 0px",n=new pe(v,"zOrigin",0,0,n,-1,n.n),n.b=h,n.xs0=n.e=v.zOrigin):n.xs0=n.e=f):re(f+"",v)),d&&(i._transformType=p||3===this._transformType?3:2),n},prefix:!0}),ge("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ge("borderRadius",{defaultValue:"0px",parser:function(t,e,r,i,s){e=this.format(e);var a,u,l,c,h,f,p,d,_,v,g,m,y,b,w,x,j=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=t.style;for(_=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),a=e.split(" "),u=0;u<j.length;u++)this.p.indexOf("border")&&(j[u]=Y(j[u])),h=c=W(t,j[u],o,!1,"0px"),-1!==h.indexOf(" ")&&(c=h.split(" "),h=c[0],c=c[1]),f=l=a[u],p=parseFloat(h),m=h.substr((p+"").length),y="="===f.charAt(1),y?(d=parseInt(f.charAt(0)+"1",10),f=f.substr(2),d*=parseFloat(f),g=f.substr((d+"").length-(0>d?1:0))||""):(d=parseFloat(f),g=f.substr((d+"").length)),""===g&&(g=n[r]||m),g!==m&&(b=$(t,"borderLeft",p,m),w=$(t,"borderTop",p,m),"%"===g?(h=b/_*100+"%",c=w/v*100+"%"):"em"===g?(x=$(t,"borderLeft",1,"em"),h=b/x+"em",c=w/x+"em"):(h=b+"px",c=w+"px"),y&&(f=parseFloat(h)+d+g,l=parseFloat(c)+d+g)),s=de(T,j[u],h+" "+c,f+" "+l,!1,"0px",s);return s},prefix:!0,formatter:ce("0px 0px 0px 0px",!1,!0)}),ge("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,r,i,n,s){var a,u,l,c,h,f,p="background-position",d=o||G(t,null),v=this.format((d?_?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==v.indexOf("%")!=(-1!==g.indexOf("%"))&&(f=W(t,"backgroundImage").replace(P,""),f&&"none"!==f)){for(a=v.split(" "),u=g.split(" "),N.setAttribute("src",f),l=2;--l>-1;)v=a[l],c=-1!==v.indexOf("%"),c!==(-1!==u[l].indexOf("%"))&&(h=0===l?t.offsetWidth-N.width:t.offsetHeight-N.height,a[l]=c?parseFloat(v)/100*h+"px":parseFloat(v)/h*100+"%");v=a.join(" ")}return this.parseComplex(t.style,v,g,n,s)},formatter:re}),ge("backgroundSize",{defaultValue:"0 0",formatter:re}),ge("perspective",{defaultValue:"0px",prefix:!0}),ge("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ge("transformStyle",{prefix:!0}),ge("backfaceVisibility",{prefix:!0}),ge("userSelect",{prefix:!0}),ge("margin",{parser:he("marginTop,marginRight,marginBottom,marginLeft")}),ge("padding",{parser:he("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ge("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,r,i,n,s){var a,u,l;return 9>_?(u=t.currentStyle,l=8>_?" ":",",a="rect("+u.clipTop+l+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",e=this.format(e).split(",").join(l)):(a=this.format(W(t,this.p,o,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,n,s)}}),ge("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ge("autoRound,strictUnits",{parser:function(t,e,r,i,n){return n}}),ge("border",{defaultValue:"0px solid #000",parser:function(t,e,r,i,n,s){return this.parseComplex(t.style,this.format(W(t,"borderTopWidth",o,!1,"0px")+" "+W(t,"borderTopStyle",o,!1,"solid")+" "+W(t,"borderTopColor",o,!1,"#000")),this.format(e),n,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(le)||["#000"])[0]}}),ge("borderWidth",{parser:he("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ge("float,cssFloat,styleFloat",{parser:function(t,e,r,i,n){var o=t.style,s="cssFloat"in o?"cssFloat":"styleFloat";return new pe(o,s,0,0,n,-1,r,!1,0,o[s],e)}});var ke=function(t){var e,r=this.t,i=r.filter||W(this.data,"filter"),n=this.s+this.c*t|0;100===n&&(-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(r.removeAttribute("filter"),e=!W(this.data,"filter")):(r.filter=i.replace(j,""),e=!0)),e||(this.xn1&&(r.filter=i=i||"alpha(opacity="+n+")"),-1===i.indexOf("pacity")?0===n&&this.xn1||(r.filter=i+" alpha(opacity="+n+")"):r.filter=i.replace(w,"opacity="+n))};ge("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,r,i,n,s){var a=parseFloat(W(t,"opacity",o,!1,"1")),u=t.style,l="autoAlpha"===r;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),l&&1===a&&"hidden"===W(t,"visibility",o)&&0!==e&&(a=0),V?n=new pe(u,"opacity",a,e-a,n):(n=new pe(u,"opacity",100*a,100*(e-a),n),n.xn1=l?1:0,u.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=s,n.setRatio=ke),l&&(n=new pe(u,"visibility",0,0,n,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),n.xs0="inherit",i._overwriteProps.push(n.n),i._overwriteProps.push(r)),n}});var Se=function(t,e){e&&(t.removeProperty?("ms"===e.substr(0,2)&&(e="M"+e.substr(1)),t.removeProperty(e.replace(A,"-$1").toLowerCase())):t.removeAttribute(e))},Fe=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,r=this.t.style;e;)e.v?r[e.p]=e.v:Se(r,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ge("className",{parser:function(t,e,r,n,s,a,u){var l,c,h,f,p,d=t.getAttribute("class")||"",_=t.style.cssText;if(s=n._classNamePT=new pe(t,r,0,0,s,2),s.setRatio=Fe,s.pr=-11,i=!0,s.b=d,c=K(t,o),h=t._gsClassPT){for(f={},p=h.data;p;)f[p.p]=1,p=p._next;h.setRatio(1)}return t._gsClassPT=s,s.e="="!==e.charAt(1)?e:d.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),n._tween._duration&&(t.setAttribute("class",s.e),l=Q(t,c,K(t),u,f),t.setAttribute("class",d),s.data=l.firstMPT,t.style.cssText=_,s=s.xfirst=n.parse(t,l.difs,s,a)),s}});var Ce=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,r,i,n,o=this.t.style,s=u.transform.parse;if("all"===this.e)o.cssText="",n=!0;else for(e=this.e.split(","),i=e.length;--i>-1;)r=e[i],u[r]&&(u[r].parse===s?n=!0:r="transformOrigin"===r?xe:u[r].p),Se(o,r);n&&(Se(o,be),this.t._gsTransform&&delete this.t._gsTransform)}};for(ge("clearProps",{parser:function(t,e,r,n,o){return o=new pe(t,r,0,0,o,2),o.setRatio=Ce,o.e=e,o.pr=-10,o.data=n._tween,i=!0,o}}),l="bezier,throwProps,physicsProps,physics2D".split(","),_e=l.length;_e--;)me(l[_e]);l=a.prototype,l._firstPT=null,l._onInitTween=function(t,e,r){if(!t.nodeType)return!1;this._target=t,this._tween=r,this._vars=e,c=e.autoRound,i=!1,n=e.suffixMap||a.suffixMap,o=G(t,""),s=this._overwriteProps;var u,l,p,_,v,g,m,y,b,w=t.style;if(h&&""===w.zIndex&&(u=W(t,"zIndex",o),("auto"===u||""===u)&&this._addLazySet(w,"zIndex",0)),"string"==typeof e&&(_=w.cssText,u=K(t,o),w.cssText=_+";"+e,u=Q(t,u,K(t)).difs,!V&&x.test(e)&&(u.opacity=parseFloat(RegExp.$1)),e=u,w.cssText=_),this._firstPT=l=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,be?f&&(h=!0,""===w.zIndex&&(m=W(t,"zIndex",o),("auto"===m||""===m)&&this._addLazySet(w,"zIndex",0)),d&&this._addLazySet(w,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):w.zoom=1,p=l;p&&p._next;)p=p._next;y=new pe(t,"transform",0,0,null,2),this._linkCSSP(y,null,p),y.setRatio=b&&je?Pe:be?Re:Ee,y.data=this._transform||Ae(t,o,!0),s.pop()}if(i){for(;l;){for(g=l._next,p=_;p&&p.pr>l.pr;)p=p._next;(l._prev=p?p._prev:v)?l._prev._next=l:_=l,(l._next=p)?p._prev=l:v=l,l=g}this._firstPT=_}return!0},l.parse=function(t,e,r,i){var s,a,l,h,f,p,d,_,v,g,m=t.style;for(s in e)p=e[s],a=u[s],a?r=a.parse(t,p,s,this,r,i,e):(f=W(t,s,o)+"",v="string"==typeof p,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||v&&T.test(p)?(v||(p=ue(p),p=(p.length>3?"rgba(":"rgb(")+p.join(",")+")"),r=de(m,s,f,p,!0,"transparent",r,0,i)):!v||-1===p.indexOf(" ")&&-1===p.indexOf(",")?(l=parseFloat(f),d=l||0===l?f.substr((l+"").length):"",(""===f||"auto"===f)&&("width"===s||"height"===s?(l=ee(t,s,o),d="px"):"left"===s||"top"===s?(l=Z(t,s,o),d="px"):(l="opacity"!==s?0:1,d="")),g=v&&"="===p.charAt(1),g?(h=parseInt(p.charAt(0)+"1",10),p=p.substr(2),h*=parseFloat(p),_=p.replace(b,"")):(h=parseFloat(p),_=v?p.substr((h+"").length)||"":""),""===_&&(_=s in n?n[s]:d),p=h||0===h?(g?h+l:h)+_:e[s],d!==_&&""!==_&&(h||0===h)&&l&&(l=$(t,s,l,d),"%"===_?(l/=$(t,s,100,"%")/100,e.strictUnits!==!0&&(f=l+"%")):"em"===_?l/=$(t,s,1,"em"):"px"!==_&&(h=$(t,s,h,_),_="px"),g&&(h||0===h)&&(p=h+l+_)),g&&(h+=l),!l&&0!==l||!h&&0!==h?void 0!==m[s]&&(p||p+""!="NaN"&&null!=p)?(r=new pe(m,s,h||l||0,0,r,-1,s,!1,0,f,p),r.xs0="none"!==p||"display"!==s&&-1===s.indexOf("Style")?p:f):H("invalid "+s+" tween value: "+e[s]):(r=new pe(m,s,l,h-l,r,0,s,c!==!1&&("px"===_||"zIndex"===s),0,f,p),r.xs0=_)):r=de(m,s,f,p,!0,null,r,0,i)),i&&r&&!r.plugin&&(r.plugin=i);return r},l.setRatio=function(t){var e,r,i,n=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;n;){if(e=n.c*t+n.s,n.r?e=Math.round(e):o>e&&e>-o&&(e=0),n.type)if(1===n.type)if(i=n.l,2===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===i)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(r=n.xs0+e+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n.t[n.p]=r}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;)2!==n.type?n.t[n.p]=n.e:n.setRatio(t),n=n._next},l._enableTransforms=function(t){this._transformType=t||3===this._transformType?3:2,this._transform=this._transform||Ae(this._target,o,!0)};var Oe=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(t,e,r){var i=this._firstPT=new pe(t,e,0,0,this._firstPT,2);i.e=r,i.setRatio=Oe,i.data=this},l._linkCSSP=function(t,e,r,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),r?r._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=r),t},l._kill=function(e){var r,i,n,o=e;if(e.autoAlpha||e.alpha){o={};for(i in e)o[i]=e[i];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(r=this._classNamePT)&&(n=r.xfirst,n&&n._prev?this._linkCSSP(n._prev,r._next,n._prev._prev):n===this._firstPT&&(this._firstPT=r._next),r._next&&this._linkCSSP(r._next,r._next._next,n._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var Ie=function(t,e,r){var i,n,o,s;if(t.slice)for(n=t.length;--n>-1;)Ie(t[n],e,r);else for(i=t.childNodes,n=i.length;--n>-1;)o=i[n],s=o.type,o.style&&(e.push(K(o)),r&&r.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||Ie(o,e,r)};return a.cascadeTo=function(t,r,i){var n,o,s,a=e.to(t,r,i),u=[a],l=[],c=[],h=[],f=e._internals.reservedProps;for(t=a._targets||a.target,Ie(t,l,h),a.render(r,!0),Ie(t,c),a.render(0,!0),a._enabled(!0),n=h.length;--n>-1;)if(o=Q(h[n],l[n],c[n]),o.firstMPT){o=o.difs;for(s in i)f[s]&&(o[s]=i[s]);u.push(e.to(h[n],r,o))}return u},t.activate([a]),a},!0),function(){var t=r._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,r){return this._tween=r,!0}}),e=t.prototype;e._onInitAllProps=function(){for(var t,e,r,i=this._tween,n=i.vars.roundProps instanceof Array?i.vars.roundProps:i.vars.roundProps.split(","),o=n.length,s={},a=i._propLookup.roundProps;--o>-1;)s[n[o]]=1;for(o=n.length;--o>-1;)for(t=n[o],e=i._firstPT;e;)r=e._next,e.pg?e.t._roundProps(s,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),r&&(r._prev=e._prev),e._prev?e._prev._next=r:i._firstPT===e&&(i._firstPT=r),e._next=e._prev=null,i._propLookup[t]=a),e=r;return!1},e._add=function(t,e,r,i){this._addTween(t,e,r,r+i,e,!0),this._overwriteProps.push(e)}}(),r._gsDefine.plugin({propName:"attr",API:2,version:"0.3.3",init:function(t,e){var r,i,n;if("function"!=typeof t.setAttribute)return!1;this._target=t,this._proxy={},this._start={},this._end={};for(r in e)this._start[r]=this._proxy[r]=i=t.getAttribute(r),n=this._addTween(this._proxy,r,parseFloat(i),e[r],r),this._end[r]=n?n.s+n.c:e[r],this._overwriteProps.push(r);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,r=this._overwriteProps,i=r.length,n=1===t?this._end:t?this._proxy:this._start;--i>-1;)e=r[i],this._target.setAttribute(e,n[e]+"")}}),r._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,i,n,o,s,a,u=e.useRadians===!0?2*Math.PI:360,l=1e-6;for(r in e)"useRadians"!==r&&(a=(e[r]+"").split("_"),i=a[0],n=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),o=this.finals[r]="string"==typeof i&&"="===i.charAt(1)?n+parseInt(i.charAt(0)+"1",10)*Number(i.substr(2)):Number(i)||0,s=o-n,a.length&&(i=a.join("_"),-1!==i.indexOf("short")&&(s%=u,s!==s%(u/2)&&(s=0>s?s+u:s-u)),-1!==i.indexOf("_cw")&&0>s?s=(s+9999999999*u)%u-(s/u|0)*u:-1!==i.indexOf("ccw")&&s>0&&(s=(s-9999999999*u)%u-(s/u|0)*u)),(s>l||-l>s)&&(this._addTween(t,r,n,n+s,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,r._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,o=r.GreenSockGlobals||r,s=o.com.greensock,a=2*Math.PI,u=Math.PI/2,l=s._class,c=function(e,r){var i=l("easing."+e,function(){},!0),n=i.prototype=new t;return n.constructor=i,n.getRatio=r,i},h=t.register||function(){},f=function(t,e,r,i){var n=l("easing."+t,{easeOut:new e,easeIn:new r,easeInOut:new i},!0);return h(n,t),n},p=function(t,e,r){this.t=t,this.v=e,r&&(this.next=r,r.prev=this,this.c=r.v-e,this.gap=r.t-t)},d=function(e,r){var i=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),n=i.prototype=new t;return n.constructor=i,n.getRatio=r,n.config=function(t){return new i(t)},i},_=f("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=l("easing.SlowMo",function(t,e,r){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=r===!0},!0),g=v.prototype=new t;return g.constructor=v,g.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),g.config=v.config=function(t,e,r){return new v(t,e,r)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),g=e.prototype=new t,g.constructor=e,g.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},g.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var r,i,n,o,s,a,u=e.taper||"none",l=[],c=0,h=0|(e.points||20),f=h,d=e.randomize!==!1,_=e.clamp===!0,v=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)r=d?Math.random():1/h*f,i=v?v.getRatio(r):r,"none"===u?n=g:"out"===u?(o=1-r,n=o*o*g):"in"===u?n=r*r*g:.5>r?(o=2*r,n=o*o*.5*g):(o=2*(1-r),n=o*o*.5*g),d?i+=Math.random()*n-.5*n:f%2?i+=.5*n:i-=.5*n,_&&(i>1?i=1:0>i&&(i=0)),l[c++]={x:r,y:i};for(l.sort(function(t,e){return t.x-e.x}),a=new p(1,1,null),f=h;--f>-1;)s=l[f],a=new p(s.x,s.y,a);this._prev=new p(0,0,0!==a.t?a:a.next)},!0),g=i.prototype=new t,g.constructor=i,g.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},g.config=function(t){return new i(t)},i.ease=new i,f("Bounce",c("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,r,i){var n=l("easing."+e,function(t,e){this._p1=t||1,this._p2=e||i,this._p3=this._p2/a*(Math.asin(1/this._p1)||0)},!0),o=n.prototype=new t;return o.constructor=n,o.getRatio=r,o.config=function(t,e){return new n(t,e)},n},f("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*a/this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*a/this._p2):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*a/this._p2)*.5+1},.45)),f("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",c("SineOut",function(t){return Math.sin(t*u)}),c("SineIn",function(t){return-Math.cos(t*u)+1}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),h(o.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),_},!0)}),r._gsDefine&&r._gsQueue.pop()(),function(t,r){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var n,o,s,a,u,l=function(t){var e,r=t.split("."),n=i;
for(e=0;e<r.length;e++)n[r[e]]=n=n[r[e]]||{};return n},c=l("com.greensock"),h=1e-10,f=function(t){var e,r=[],i=t.length;for(e=0;e!==i;r.push(t[e++]));return r},p=function(){},d=function(){var t=Object.prototype.toString,e=t.call([]);return function(r){return null!=r&&(r instanceof Array||"object"==typeof r&&!!r.push&&t.call(r)===e)}}(),_={},v=function(n,o,s,a){this.sc=_[n]?_[n].sc:[],_[n]=this,this.gsClass=null,this.func=s;var u=[];this.check=function(c){for(var h,f,p,d,g=o.length,m=g;--g>-1;)(h=_[o[g]]||new v(o[g],[])).gsClass?(u[g]=h.gsClass,m--):c&&h.sc.push(this);if(0===m&&s)for(f=("com.greensock."+n).split("."),p=f.pop(),d=l(f.join("."))[p]=this.gsClass=s.apply(s,u),a&&(i[p]=d,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+n.split(".").pop(),[],function(){return d}):n===r&&"undefined"!=typeof e&&e.exports&&(e.exports=d)),g=0;g<this.sc.length;g++)this.sc[g].check()},this.check(!0)},g=t._gsDefine=function(t,e,r,i){return new v(t,e,r,i)},m=c._class=function(t,e,r){return e=e||function(){},g(t,[],function(){return e},r),e};g.globals=i;var y=[0,0,1,1],b=[],w=m("easing.Ease",function(t,e,r,i){this._func=t,this._type=r||0,this._power=i||0,this._params=e?y.concat(e):y},!0),x=w.map={},j=w.register=function(t,e,r,i){for(var n,o,s,a,u=e.split(","),l=u.length,h=(r||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=u[l],n=i?m("easing."+o,null,!0):c.easing[o]||{},s=h.length;--s>-1;)a=h[s],x[o+"."+a]=x[a+o]=n[a]=t.getRatio?t:t[a]||new t};for(s=w.prototype,s._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,r=this._power,i=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===r?i*=i:2===r?i*=i*i:3===r?i*=i*i*i:4===r&&(i*=i*i*i*i),1===e?1-i:2===e?i:.5>t?i/2:1-i/2},n=["Linear","Quad","Cubic","Quart","Quint,Strong"],o=n.length;--o>-1;)s=n[o]+",Power"+o,j(new w(null,null,1,o),s,"easeOut",!0),j(new w(null,null,2,o),s,"easeIn"+(0===o?",easeNone":"")),j(new w(null,null,3,o),s,"easeInOut");x.linear=c.easing.Linear.easeIn,x.swing=c.easing.Quad.easeInOut;var T=m("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});s=T.prototype,s.addEventListener=function(t,e,r,i,n){n=n||0;var o,s,l=this._listeners[t],c=0;for(null==l&&(this._listeners[t]=l=[]),s=l.length;--s>-1;)o=l[s],o.c===e&&o.s===r?l.splice(s,1):0===c&&o.pr<n&&(c=s+1);l.splice(c,0,{c:e,s:r,up:i,pr:n}),this!==a||u||a.wake()},s.removeEventListener=function(t,e){var r,i=this._listeners[t];if(i)for(r=i.length;--r>-1;)if(i[r].c===e)return void i.splice(r,1)},s.dispatchEvent=function(t){var e,r,i,n=this._listeners[t];if(n)for(e=n.length,r=this._eventTarget;--e>-1;)i=n[e],i.up?i.c.call(i.s||r,{type:t,target:r}):i.c.call(i.s||r)};var A=t.requestAnimationFrame,E=t.cancelAnimationFrame,P=Date.now||function(){return(new Date).getTime()},R=P();for(n=["ms","moz","webkit","o"],o=n.length;--o>-1&&!A;)A=t[n[o]+"RequestAnimationFrame"],E=t[n[o]+"CancelAnimationFrame"]||t[n[o]+"CancelRequestAnimationFrame"];m("Ticker",function(t,e){var r,i,n,o,s,l=this,c=P(),f=e!==!1&&A,d=500,_=33,v=function(t){var e,a,u=P()-R;u>d&&(c+=u-_),R+=u,l.time=(R-c)/1e3,e=l.time-s,(!r||e>0||t===!0)&&(l.frame++,s+=e+(e>=o?.004:o-e),a=!0),t!==!0&&(n=i(v)),a&&l.dispatchEvent("tick")};T.call(l),l.time=l.frame=0,l.tick=function(){v(!0)},l.lagSmoothing=function(t,e){d=t||1/h,_=Math.min(e,d,0)},l.sleep=function(){null!=n&&(f&&E?E(n):clearTimeout(n),i=p,n=null,l===a&&(u=!1))},l.wake=function(){null!==n?l.sleep():l.frame>10&&(R=P()-d+5),i=0===r?p:f&&A?A:function(t){return setTimeout(t,1e3*(s-l.time)+1|0)},l===a&&(u=!0),v(2)},l.fps=function(t){return arguments.length?(r=t,o=1/(r||60),s=this.time+o,void l.wake()):r},l.useRAF=function(t){return arguments.length?(l.sleep(),f=t,void l.fps(r)):f},l.fps(t),setTimeout(function(){f&&(!n||l.frame<5)&&l.useRAF(!1)},1500)}),s=c.Ticker.prototype=new c.events.EventDispatcher,s.constructor=c.Ticker;var k=m("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,q){u||a.wake();var r=this.vars.useFrames?H:q;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});a=k.ticker=new c.Ticker,s=k.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var S=function(){u&&P()-R>2e3&&a.wake(),setTimeout(S,2e3)};S(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},s.isActive=function(){var t,e=this._timeline,r=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=r&&t<r+this.totalDuration()/this._timeScale},s._enabled=function(t,e){return u||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,r=t.concat();--e>-1;)"{self}"===t[e]&&(r[e]=this);return r},s.eventCallback=function(t,e,r,i){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=d(r)&&-1!==r.join("").indexOf("{self}")?this._swapSelfInParams(r):r,n[t+"Scope"]=i),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,r){if(u||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!r&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,n=this._timeline;if(t>i&&!r&&(t=i),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?i-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),M.length&&X())}return this},s.progress=s.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||h,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,r=e||0===e?e:this._timeline.totalTime();this._startTime=r-(r-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){u||t||a.wake();var e=this._timeline,r=e.rawTime(),i=r-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?r:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(r-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var F=m("core.SimpleTimeline",function(t){k.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});s=F.prototype=new k,s.constructor=F,s.kill()._gc=!1,s._first=s._last=null,s._sortChildren=!1,s.add=s.insert=function(t,e){var r,i;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(i=t._startTime;r&&r._startTime>i;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,this._timeline&&this._uncache(!0)),this},s.render=function(t,e,r){var i,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)i=n._next,(n._active||t>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,r):n.render((t-n._startTime)*n._timeScale,e,r)),n=i},s.rawTime=function(){return u||a.wake(),this._totalTime};var C=m("TweenLite",function(e,r,i){if(k.call(this,r,i),this.render=C.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:C.selector(e)||e;var n,o,s,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?z[C.defaultOverwrite]:"number"==typeof u?u>>0:z[u],(a||e instanceof Array||e.push&&d(e))&&"number"!=typeof e[0])for(this._targets=s=f(e),this._propLookup=[],this._siblings=[],n=0;n<s.length;n++)o=s[n],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(n--,1),this._targets=s=s.concat(f(o))):(this._siblings[n]=Y(o,this,!1),1===u&&this._siblings[n].length>1&&G(o,this,null,1,this._siblings[n])):(o=s[n--]=C.selector(o),"string"==typeof o&&s.splice(n+1,1)):s.splice(n--,1);else this._propLookup={},this._siblings=Y(e,this,!1),1===u&&this._siblings.length>1&&G(e,this,null,1,this._siblings);(this.vars.immediateRender||0===r&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-h,this.render(-this._delay))},!0),O=function(e){return e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},I=function(t,e){var r,i={};for(r in t)V[r]||r in e&&"transform"!==r&&"x"!==r&&"y"!==r&&"width"!==r&&"height"!==r&&"className"!==r&&"border"!==r||!(!N[r]||N[r]&&N[r]._autoCSS)||(i[r]=t[r],delete t[r]);t.css=i};s=C.prototype=new k,s.constructor=C,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,C.version="1.13.2",C.defaultEase=s._ease=new w(null,null,1,1),C.defaultOverwrite="auto",C.ticker=a,C.autoSleep=!0,C.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},C.selector=t.$||t.jQuery||function(e){var r=t.$||t.jQuery;return r?(C.selector=r,r(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var M=[],U={},D=C._internals={isArray:d,isSelector:O,lazyTweens:M},N=C._plugins={},L=D.tweenLookup={},B=0,V=D.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1},z={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},H=k._rootFramesTimeline=new F,q=k._rootTimeline=new F,X=D.lazyRender=function(){var t=M.length;for(U={};--t>-1;)n=M[t],n&&n._lazy!==!1&&(n.render(n._lazy[0],n._lazy[1],!0),n._lazy=!1);M.length=0};q._startTime=a.time,H._startTime=a.frame,q._active=H._active=!0,setTimeout(X,1),k._updateRoot=C.render=function(){var t,e,r;if(M.length&&X(),q.render((a.time-q._startTime)*q._timeScale,!1,!1),H.render((a.frame-H._startTime)*H._timeScale,!1,!1),M.length&&X(),!(a.frame%120)){for(r in L){for(e=L[r].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete L[r]}if(r=q._first,(!r||r._paused)&&C.autoSleep&&!H._first&&1===a._listeners.tick.length){for(;r&&r._paused;)r=r._next;r||a.sleep()}}},a.addEventListener("tick",k._updateRoot);var Y=function(t,e,r){var i,n,o=t._gsTweenID;if(L[o||(t._gsTweenID=o="t"+B++)]||(L[o]={target:t,tweens:[]}),e&&(i=L[o].tweens,i[n=i.length]=e,r))for(;--n>-1;)i[n]===e&&i.splice(n,1);return L[o].tweens},G=function(t,e,r,i,n){var o,s,a,u;if(1===i||i>=4){for(u=n.length,o=0;u>o;o++)if((a=n[o])!==e)a._gc||a._enabled(!1,!1)&&(s=!0);else if(5===i)break;return s}var l,c=e._startTime+h,f=[],p=0,d=0===e._duration;for(o=n.length;--o>-1;)(a=n[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(l=l||W(e,0,d),0===W(a,l,d)&&(f[p++]=a)):a._startTime<=c&&a._startTime+a.totalDuration()/a._timeScale>c&&((d||!a._initted)&&c-a._startTime<=2e-10||(f[p++]=a)));for(o=p;--o>-1;)a=f[o],2===i&&a._kill(r,t)&&(s=!0),(2!==i||!a._firstPT&&a._initted)&&a._enabled(!1,!1)&&(s=!0);return s},W=function(t,e,r){for(var i=t._timeline,n=i._timeScale,o=t._startTime;i._timeline;){if(o+=i._startTime,n*=i._timeScale,i._paused)return-100;i=i._timeline}return o/=n,o>e?o-e:r&&o===e||!t._initted&&2*h>o-e?h:(o+=t.totalDuration()/t._timeScale/n)>e+h?0:o-e-h};s._init=function(){var t,e,r,i,n,o=this.vars,s=this._overwrittenProps,a=this._duration,u=!!o.immediateRender,l=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={};for(i in o.startAt)n[i]=o.startAt[i];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=u&&o.lazy!==!1,n.startAt=n.delay=null,this._startAt=C.to(this.target,0,n),u)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(o.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(u=!1),r={};for(i in o)V[i]&&"autoCSS"!==i||(r[i]=o[i]);if(r.overwrite=0,r.data="isFromStart",r.lazy=u&&o.lazy!==!1,r.immediateRender=u,this._startAt=C.to(this.target,0,r),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof w?l:"function"==typeof l?new w(l,o.easeParams):x[l]||C.defaultEase:C.defaultEase,o.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s);if(e&&C._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(r=this._firstPT;r;)r.s+=r.c,r.c=-r.c,r=r._next;this._onUpdate=o.onUpdate,this._initted=!0},s._initProps=function(e,r,i,n){var o,s,a,u,l,c;if(null==e)return!1;U[e._gsTweenID]&&X(),this.vars.css||e.style&&e!==t&&e.nodeType&&N.css&&this.vars.autoCSS!==!1&&I(this.vars,e);for(o in this.vars){if(c=this.vars[o],V[o])c&&(c instanceof Array||c.push&&d(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[o]=c=this._swapSelfInParams(c,this));else if(N[o]&&(u=new N[o])._onInitTween(e,this.vars[o],this)){for(this._firstPT=l={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:u._priority},s=u._overwriteProps.length;--s>-1;)r[u._overwriteProps[s]]=this._firstPT;(u._priority||u._onInitAllProps)&&(a=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=r[o]=l={_next:this._firstPT,t:e,p:o,f:"function"==typeof e[o],n:o,pg:!1,pr:0},l.s=l.f?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(e[o]),l.c="string"==typeof c&&"="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*Number(c.substr(2)):Number(c)-l.s||0;l&&l._next&&(l._next._prev=l)}return n&&this._kill(n,e)?this._initProps(e,r,i,n):this._overwrite>1&&this._firstPT&&i.length>1&&G(e,this,r,this._overwrite,i)?(this._kill(r,e),this._initProps(e,r,i,n)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(U[e._gsTweenID]=!0),a)},s.render=function(t,e,r){var i,n,o,s,a=this._time,u=this._duration,l=this._rawPrevTime;if(t>=u)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,n="onComplete"),0===u&&(this._initted||!this.vars.lazy||r)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>l||l===h)&&l!==t&&(r=!0,l>h&&(n="onReverseComplete")),this._rawPrevTime=s=!e||t||l===t?t:h);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===u&&l>0&&l!==h)&&(n="onReverseComplete",i=this._reversed),0>t&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||r)&&(l>=0&&(r=!0),this._rawPrevTime=s=!e||t||l===t?t:h)),this._initted||(r=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/u,f=this._easeType,p=this._easePower;(1===f||3===f&&c>=.5)&&(c=1-c),3===f&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),this.ratio=1===f?1-c:2===f?c:.5>t/u?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==a||r){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!r&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=l,M.push(this),void(this._lazy=[t,e]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/u):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,r):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._time||0===u)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||b))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,r),e||(this._time!==a||i)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||b)),n&&(!this._gc||r)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,r),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this.vars[n].apply(this.vars[n+"Scope"]||this,this.vars[n+"Params"]||b),0===u&&this._rawPrevTime===h&&s!==h&&(this._rawPrevTime=0))}},s._kill=function(t,e){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:C.selector(e)||e;var r,i,n,o,s,a,u,l;if((d(e)||O(e))&&"number"!=typeof e[0])for(r=e.length;--r>-1;)this._kill(t,e[r])&&(a=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(e===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){u=t||s,l=t!==i&&"all"!==i&&t!==s&&("object"!=typeof t||!t._tempKill);for(n in u)(o=s[n])&&(o.pg&&o.t._kill(u)&&(a=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete s[n]),l&&(i[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a},s.invalidate=function(){return this._notifyPluginsOfEnabled&&C._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],k.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-h,this.render(-this._delay)),this},s._enabled=function(t,e){if(u||a.wake(),t&&this._gc){var r,i=this._targets;if(i)for(r=i.length;--r>-1;)this._siblings[r]=Y(i[r],this,!0);else this._siblings=Y(this.target,this,!0)}return k.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?C._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},C.to=function(t,e,r){return new C(t,e,r)},C.from=function(t,e,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new C(t,e,r)},C.fromTo=function(t,e,r,i){return i.startAt=r,i.immediateRender=0!=i.immediateRender&&0!=r.immediateRender,new C(t,e,i)},C.delayedCall=function(t,e,r,i,n){return new C(e,0,{delay:t,onComplete:e,onCompleteParams:r,onCompleteScope:i,onReverseComplete:e,onReverseCompleteParams:r,onReverseCompleteScope:i,immediateRender:!1,useFrames:n,overwrite:0})},C.set=function(t,e){return new C(t,0,e)},C.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:C.selector(t)||t;var r,i,n,o;if((d(t)||O(t))&&"number"!=typeof t[0]){for(r=t.length,i=[];--r>-1;)i=i.concat(C.getTweensOf(t[r],e));for(r=i.length;--r>-1;)for(o=i[r],n=r;--n>-1;)o===i[n]&&i.splice(r,1)}else for(i=Y(t).concat(),r=i.length;--r>-1;)(i[r]._gc||e&&!i[r].isActive())&&i.splice(r,1);return i},C.killTweensOf=C.killDelayedCallsTo=function(t,e,r){"object"==typeof e&&(r=e,e=!1);for(var i=C.getTweensOf(t,e),n=i.length;--n>-1;)i[n]._kill(r,t)};var $=m("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=$.prototype},!0);if(s=$.prototype,$.version="1.10.1",$.API=2,s._firstPT=null,s._addTween=function(t,e,r,i,n,o){var s,a;return null!=i&&(s="number"==typeof i||"="!==i.charAt(1)?Number(i)-r:parseInt(i.charAt(0)+"1",10)*Number(i.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:t,p:e,s:r,c:s,f:"function"==typeof t[e],n:n||e,r:o},a._next&&(a._next._prev=a),a):void 0},s.setRatio=function(t){for(var e,r=this._firstPT,i=1e-6;r;)e=r.c*t+r.s,r.r?e=Math.round(e):i>e&&e>-i&&(e=0),r.f?r.t[r.p](e):r.t[r.p]=e,r=r._next},s._kill=function(t){var e,r=this._overwriteProps,i=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=r.length;--e>-1;)null!=t[r[e]]&&r.splice(e,1);for(;i;)null!=t[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},s._roundProps=function(t,e){for(var r=this._firstPT;r;)(t[this._propName]||null!=r.n&&t[r.n.split(this._propName+"_").join("")])&&(r.r=e),r=r._next},C._onPluginEvent=function(t,e){var r,i,n,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,i=n;i&&i.pr>a.pr;)i=i._next;(a._prev=i?i._prev:o)?a._prev._next=a:n=a,(a._next=i)?i._prev=a:o=a,a=s}a=e._firstPT=n}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(r=!0),a=a._next;return r},$.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===$.API&&(N[(new t[e])._propName]=t[e]);return!0},g.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,r=t.propName,i=t.priority||0,n=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=m("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){$.call(this,r,i),this._overwriteProps=n||[]},t.global===!0),a=s.prototype=new $(r);a.constructor=s,s.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,$.activate([s]),s},n=t._gsQueue){for(o=0;o<n.length;o++)n[o]();for(s in _)_[s].func||t.console.log("GSAP encountered missing dependency: com.greensock."+s)}u=!1}}("undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window,"TweenMax")}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],110:[function(t,e,r){"use strict";var i=t("./handlebars/base"),n=t("./handlebars/safe-string")["default"],o=t("./handlebars/exception")["default"],s=t("./handlebars/utils"),a=t("./handlebars/runtime"),u=function(){var t=new i.HandlebarsEnvironment;return s.extend(t,i),t.SafeString=n,t.Exception=o,t.Utils=s,t.escapeExpression=s.escapeExpression,t.VM=a,t.template=function(e){return a.template(e,t)},t},l=u();l.create=u,l["default"]=l,r["default"]=l},{"./handlebars/base":111,"./handlebars/exception":112,"./handlebars/runtime":113,"./handlebars/safe-string":114,"./handlebars/utils":115}],111:[function(t,e,r){"use strict";function i(t,e){this.helpers=t||{},this.partials=e||{},n(this)}function n(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),t.registerHelper("blockHelperMissing",function(e,r){var i=r.inverse,n=r.fn;if(e===!0)return n(this);if(e===!1||null==e)return i(this);if(c(e))return e.length>0?(r.ids&&(r.ids=[r.name]),t.helpers.each(e,r)):i(this);if(r.data&&r.ids){var s=v(r.data);s.contextPath=o.appendContextPath(r.data.contextPath,r.name),r={data:s}}return n(e,r)}),t.registerHelper("each",function(t,e){if(!e)throw new s("Must pass iterator to #each");var r,i,n=e.fn,a=e.inverse,u=0,l="";if(e.data&&e.ids&&(i=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),h(t)&&(t=t.call(this)),e.data&&(r=v(e.data)),t&&"object"==typeof t)if(c(t))for(var f=t.length;f>u;u++)r&&(r.index=u,r.first=0===u,r.last=u===t.length-1,i&&(r.contextPath=i+u)),l+=n(t[u],{data:r});else for(var p in t)t.hasOwnProperty(p)&&(r&&(r.key=p,r.index=u,r.first=0===u,i&&(r.contextPath=i+p)),l+=n(t[p],{data:r}),u++);return 0===u&&(l=a(this)),l}),t.registerHelper("if",function(t,e){return h(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,r){return t.helpers["if"].call(this,e,{fn:r.inverse,inverse:r.fn,hash:r.hash})}),t.registerHelper("with",function(t,e){h(t)&&(t=t.call(this));var r=e.fn;if(o.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=v(e.data);i.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return r(t,e)}),t.registerHelper("log",function(e,r){var i=r.data&&null!=r.data.level?parseInt(r.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}var o=t("./utils"),s=t("./exception")["default"],a="2.0.0";r.VERSION=a;var u=6;r.COMPILER_REVISION=u;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};r.REVISION_CHANGES=l;var c=o.isArray,h=o.isFunction,f=o.toString,p="[object Object]";r.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:d,log:_,registerHelper:function(t,e){if(f.call(t)===p){if(e)throw new s("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){f.call(t)===p?o.extend(this.partials,t):this.partials[t]=e},unregisterPartial:function(t){delete this.partials[t]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(d.level<=t){var r=d.methodMap[t];"undefined"!=typeof console&&console[r]&&console[r].call(console,e)}}};r.logger=d;var _=d.log;r.log=_;var v=function(t){var e=o.extend({},t);return e._parent=t,e};r.createFrame=v},{"./exception":112,"./utils":115}],112:[function(t,e,r){"use strict";function i(t,e){var r;e&&e.firstLine&&(r=e.firstLine,t+=" - "+r+":"+e.firstColumn);for(var i=Error.prototype.constructor.call(this,t),o=0;o<n.length;o++)this[n[o]]=i[n[o]];r&&(this.lineNumber=r,this.column=e.firstColumn)}var n=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,r["default"]=i},{}],113:[function(t,e,r){"use strict";function i(t){var e=t&&t[0]||1,r=h;if(e!==r){if(r>e){var i=f[r],n=f[e];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+n+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function n(t,e){if(!e)throw new c("No environment passed to template");if(!t||!t.main)throw new c("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var r=function(r,i,n,o,s,a,u,h,f){s&&(o=l.extend({},o,s));var p=e.VM.invokePartial.call(this,r,n,o,a,u,h,f);if(null==p&&e.compile){var d={helpers:a,partials:u,data:h,depths:f};u[n]=e.compile(r,{data:void 0!==h,compat:t.compat},e),p=u[n](o,d)}if(null!=p){if(i){for(var _=p.split("\n"),v=0,g=_.length;g>v&&(_[v]||v+1!==g);v++)_[v]=i+_[v];p=_.join("\n")}return p}throw new c("The partial "+n+" could not be compiled when running in runtime-only mode")},i={lookup:function(t,e){for(var r=t.length,i=0;r>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:l.escapeExpression,invokePartial:r,fn:function(e){return t[e]},programs:[],program:function(t,e,r){var i=this.programs[t],n=this.fn(t);return e||r?i=o(this,t,n,e,r):i||(i=this.programs[t]=o(this,t,n)),i},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var r=t||e;return t&&e&&t!==e&&(r=l.extend({},e,t)),r},noop:e.VM.noop,compilerInfo:t.compiler},n=function(e,r){r=r||{};var o=r.data;n._setup(r),!r.partial&&t.useData&&(o=u(e,o));var s;return t.useDepths&&(s=r.depths?[e].concat(r.depths):[e]),t.main.call(i,e,i.helpers,i.partials,o,s)};return n.isTop=!0,n._setup=function(r){r.partial?(i.helpers=r.helpers,i.partials=r.partials):(i.helpers=i.merge(r.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(r.partials,e.partials)))},n._child=function(e,r,n){if(t.useDepths&&!n)throw new c("must pass parent depths");return o(i,e,t[e],r,n)},n}function o(t,e,r,i,n){var o=function(e,o){return o=o||{},r.call(t,e,t.helpers,t.partials,o.data||i,n&&[e].concat(n))};return o.program=e,o.depth=n?n.length:0,o}function s(t,e,r,i,n,o,s){var a={partial:!0,helpers:i,partials:n,data:o,depths:s};if(void 0===t)throw new c("The partial "+e+" could not be found");return t instanceof Function?t(r,a):void 0}function a(){return""}function u(t,e){return e&&"root"in e||(e=e?p(e):{},e.root=t),e}var l=t("./utils"),c=t("./exception")["default"],h=t("./base").COMPILER_REVISION,f=t("./base").REVISION_CHANGES,p=t("./base").createFrame;r.checkRevision=i,r.template=n,r.program=o,r.invokePartial=s,r.noop=a},{"./base":111,"./exception":112,"./utils":115}],114:[function(t,e,r){"use strict";function i(t){this.string=t}i.prototype.toString=function(){return""+this.string},r["default"]=i},{}],115:[function(t,e,r){"use strict";function i(t){return l[t]}function n(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}function o(t){return t instanceof u?t.toString():null==t?"":t?(t=""+t,h.test(t)?t.replace(c,i):t):t+""
}function s(t){return t||0===t?d(t)&&0===t.length?!0:!1:!0}function a(t,e){return(t?t+".":"")+e}var u=t("./safe-string")["default"],l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,h=/[&<>"'`]/;r.extend=n;var f=Object.prototype.toString;r.toString=f;var p=function(t){return"function"==typeof t};p(/x/)&&(p=function(t){return"function"==typeof t&&"[object Function]"===f.call(t)});var p;r.isFunction=p;var d=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===f.call(t):!1};r.isArray=d,r.escapeExpression=o,r.isEmpty=s,r.appendContextPath=a},{"./safe-string":114}],116:[function(t,e){e.exports=t("./dist/cjs/handlebars.runtime")},{"./dist/cjs/handlebars.runtime":110}],117:[function(t,e){e.exports=t("handlebars/runtime")["default"]},{"handlebars/runtime":116}],118:[function(t,e){function r(t,e){e||(e={});var r="object"==typeof t?[t]:a(t);return u||(u=document.createElement("div")),n(l(e),function(t){var o=e[t];n(r,function(e){var r=e.parentNode;if(":first"===t)i(e,o);else if(/:first$/.test(t)){var n=t.replace(/:first$/,"");r&&r.removeChild(e),u.appendChild(e);var s=u.querySelector(n);u.removeChild(e),r&&r.appendChild(e),s&&i(s,o)}else{r&&r.removeChild(e),u.appendChild(e);var a=e.parentNode.querySelectorAll(t);if(u.removeChild(e),r&&r.appendChild(e),0===a.length)return;for(var l=0;l<a.length;l++)i(a[l],o)}})}),1===r.length?r[0]:r}function i(t,e){if(o(e))t.innerHTML="",t.appendChild(e);else if(c(e)){for(var i=0;i<e.length;i++){var a=r(t.cloneNode(!0),e[i]);t.parentNode.insertBefore(a,t)}t.parentNode.removeChild(t)}else e&&"object"==typeof e?n(l(e),function(r){"_text"===r?s(t,e[r]):"_html"===r&&o(e[r])?(t.innerHTML="",t.appendChild(e[r])):"_html"===r?t.innerHTML=e[r]:t.setAttribute(r,e[r])}):s(t,e)}function n(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r)}function o(t){return t&&"object"==typeof t&&t.childNodes&&("function"==typeof t.appendChild||"object"==typeof t.appendChild)}function s(t,e){t.innerHTML="";var r=document.createTextNode(String(e));t.appendChild(r)}var a=t("domify");e.exports=r;var u=null,l=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{domify:119}],119:[function(t,e){function r(t){if("string"!=typeof t)throw new TypeError("String expected");var e=/<([\w:]+)/.exec(t);if(!e)throw new Error("No elements were generated.");var r=e[1];if("body"==r){var o=document.createElement("html");return o.innerHTML=t,[o.removeChild(o.lastChild)]}var s=n[r]||n._default,a=s[0],u=s[1],l=s[2],o=document.createElement("div");for(o.innerHTML=u+t+l;a--;)o=o.lastChild;return i(o.children)}function i(t){for(var e=[];t.length;)e.push(t[0].parentNode.removeChild(t[0]));return e}e.exports=r;var n={option:[1,'<select multiple="multiple">',"</select>"],optgroup:[1,'<select multiple="multiple">',"</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tbody:[1,"<table>","</table>"],tfoot:[1,"<table>","</table>"],colgroup:[1,"<table>","</table>"],caption:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],th:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]}},{}],120:[function(t,e){e.exports=t(108)},{}],121:[function(t,e){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},i.call(this,n),this.gl=e,this.projection=c.create(),this.batch=o(e),this.texture=s(e);var u=t("glslify/simple-adapter.js")("\n#define GLSLIFY 1\n\nattribute vec4 position;\nattribute vec2 texcoord0;\nattribute vec4 color;\nuniform mat4 projection;\nuniform mat4 view;\nuniform mat4 model;\nvarying vec2 v_tex0;\nvarying vec4 v_color;\nvoid main() {\n  gl_Position = projection * view * model * position;\n  v_tex0 = texcoord0;\n  v_color = color;\n  gl_PointSize = 1.0;\n}","\n#define GLSLIFY 1\n\n#ifdef GL_ES\n\nprecision mediump float;\n#endif\n\nvarying vec4 v_color;\nvarying vec2 v_tex0;\nuniform sampler2D texture0;\nuniform vec4 tint;\nvoid main() {\n  float len = length(v_tex0 - 0.5);\n  len = smoothstep(0.5, 0.4, len);\n  gl_FragColor = v_color * tint * len;\n}",[{name:"projection",type:"mat4"},{name:"view",type:"mat4"},{name:"model",type:"mat4"},{name:"texture0",type:"sampler2D"},{name:"tint",type:"vec4"}],[{name:"position",type:"vec4"},{name:"texcoord0",type:"vec2"},{name:"color",type:"vec4"}]);this.driftSpeed=l(n.driftSpeed,.025),this.scale=l(n.scale,1),this.color=n.color||[1,1,1,.8],this.shader=n.shader||a(e,u)}{var i=t("../particles"),n=t("inherits"),o=t("gl-quad-batch"),s=t("gl-white-texture"),a=t("gl-basic-shader"),u=t("premultiplied-rgba"),l=t("as-number"),c=t("gl-mat4");t("glslify")}e.exports=r,n(r,i),r.prototype.dispose=function(){this.shader.dispose(),this.batch.dispose(),this.texture.dispose()},r.prototype.draw=function(t,e,r){var n=this.gl;n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),this.noiseOffset[0]+=r*this.driftSpeed,this.noiseOffset[1]+=r*this.driftSpeed,i.prototype.update.call(this,t,e,r),c.ortho(this.projection,0,t,e,0,0,1),this.texture.bind(),this.shader.bind(),this.shader.uniforms.projection=this.projection,this.shader.uniforms.tint=u(this.color),this.batch.clear(),this.batch.color(this.color[0],this.color[1],this.color[2],this.color[3]);for(var o=0;o<this.particles.length;o++){var s=this.particles[o],a=s.position,l=s.radius*s.scale*this.scale;this.batch.add(this.texture,a[0]-l,a[1]-l,2*l,2*l)}this.batch.bind(),this.batch.draw(),this.batch.unbind()}},{"../particles":283,"as-number":123,"gl-basic-shader":136,"gl-mat4":177,"gl-quad-batch":191,"gl-white-texture":246,glslify:261,"glslify/simple-adapter.js":262,inherits:264,"premultiplied-rgba":267}],122:[function(t,e){function r(t,e){if(!(this instanceof r))return new r(t,e);e=e||{},this.shader=e.shader||i(t),this.gl=t;var u=n(1);this.highpoly=o(t).attr("position",u.positions).faces(s(u.cells)),u=n(0),this.lowpoly=o(t).attr("position",u);var l=a.create();a.translate(l,l,[0,0,-20]),a.scale(l,l,[1,-1,1]),this.view=l,this.spin=a.create(),this.projection=a.create(),this.innerRotation=[0,0,0],this.innerScale=[1,1,1],this.outerScale=[1,1,1],this.innerColor=e.innerColor||[1,0,0,.1],this.strokeColor=e.strokeColor||[1,0,0,.5],this.outerColor=e.outerColor||[1,1,1,.05]}var i=(t("gl-vignette-background"),t("gl-basic-shader")),n=t("icosphere"),o=t("gl-geometry"),s=t("gl-wireframe"),a=t("gl-mat4"),u=t("premultiplied-rgba"),l=a.create(),c=[0,0,0,0];e.exports=r,r.prototype.dispose=function(){this.view=null,this.spin=null,this.projection=null,this.shader.dispose(),this.highpoly.dispose(),this.lowpoly.dispose(),this.gl=null},r.prototype.draw=function(t,e,r){var i=this.shader,n=this.gl,o=this.view,s=this.spin,h=this.projection,f=this.highpoly,p=this.lowpoly;n.enable(n.BLEND),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.lineWidth(3),a.perspective(h,50,t/e,1,1e3),a.rotateX(o,o,r/1e3*.5),a.rotateY(o,o,r/1e3*.25),a.identity(s);var d=this.innerRotation;a.rotateX(s,s,d[0]),a.rotateY(s,s,d[1]),a.rotateZ(s,s,d[2]),i.bind(),i.uniforms.view=o,i.uniforms.projection=h,a.identity(l),a.scale(l,l,this.outerScale),f.bind(i),i.uniforms.model=l,i.uniforms.tint=u(this.outerColor,c),f.draw(n.LINES),f.unbind(),a.identity(l),a.scale(l,s,this.innerScale),p.bind(i),i.uniforms.model=l,i.uniforms.tint=u(this.innerColor,c),p.draw(n.TRIANGLES),i.uniforms.tint=u(this.strokeColor,c),p.draw(n.LINES),p.unbind()}},{"gl-basic-shader":136,"gl-geometry":143,"gl-mat4":177,"gl-vignette-background":213,"gl-wireframe":260,icosphere:263,"premultiplied-rgba":267}],123:[function(t,e){e.exports=t(17)},{}],124:[function(t,e){"use strict";function r(t,e,r){this.vertices=t,this.adjacent=e,this.boundary=r,this.lastVisited=-1}function i(t,e,r){this.vertices=t,this.cell=e,this.index=r}function n(t,e){return l(t.vertices,e.vertices)}function o(t){for(var e=["function orient(){var tuple=this.tuple;return test("],r=0;t>=r;++r)r>0&&e.push(","),e.push("tuple[",r,"]");e.push(")}return orient");var i=new Function("test",e.join("")),n=u[t+1];return n||(n=u),i(n)}function s(t,e,r){this.dimension=t,this.vertices=e,this.simplices=r,this.interior=r.filter(function(t){return!t.boundary}),this.tuple=new Array(t+1);for(var i=0;t>=i;++i)this.tuple[i]=this.vertices[i];var n=c[t];n||(n=c[t]=o(t)),this.orient=n}function a(t,e){var i=t.length;if(0===i)throw new Error("Must have at least d+1 points");var n=t[0].length;if(n>=i)throw new Error("Must input at least d+1 points");var o=t.slice(0,n+1),a=u.apply(void 0,o);if(0===a)throw new Error("Input not in general position");for(var l=new Array(n+1),c=0;n>=c;++c)l[c]=c;0>a&&(l[0]=1,l[1]=0);for(var h=new r(l,new Array(n+1),!1),f=h.adjacent,p=new Array(n+2),c=0;n>=c;++c){for(var d=l.slice(),_=0;n>=_;++_)_===c&&(d[_]=-1);var v=d[0];d[0]=d[1],d[1]=v;var g=new r(d,new Array(n+1),!0);f[c]=g,p[c]=g}p[n+1]=h;for(var c=0;n>=c;++c)for(var d=f[c].vertices,m=f[c].adjacent,_=0;n>=_;++_){var y=d[_];if(0>y)m[_]=h;else for(var b=0;n>=b;++b)f[b].vertices.indexOf(y)<0&&(m[_]=f[b])}for(var w=new s(n,o,p),x=!!e,c=n+1;i>c;++c)w.insert(t[c],x);return w.boundary()}e.exports=a;var u=t("robust-orientation"),l=t("simplicial-complex").compareCells;r.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var c=[],h=s.prototype;h.handleBoundaryDegeneracy=function(t,e){var r=this.dimension,i=this.vertices.length-1,n=this.tuple,o=this.vertices,s=[t];for(t.lastVisited=-i;s.length>0;){t=s.pop();for(var a=(t.vertices,t.adjacent),u=0;r>=u;++u){var l=a[u];if(l.boundary&&!(l.lastVisited<=-i)){for(var c=l.vertices,h=0;r>=h;++h){var f=c[h];n[h]=0>f?e:o[f]}var p=this.orient();if(p>0)return l;l.lastVisited=-i,0===p&&s.push(l)}}}return null},h.walk=function(t,e){var r=this.vertices.length-1,i=this.dimension,n=this.vertices,o=this.tuple,s=e?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[s];t:for(;!a.boundary;){for(var u=a.vertices,l=a.adjacent,c=0;i>=c;++c)o[c]=n[u[c]];a.lastVisited=r;for(var c=0;i>=c;++c){var h=l[c];if(!(h.lastVisited>=r)){var f=o[c];o[c]=t;var p=this.orient();if(o[c]=f,0>p){a=h;continue t}h.lastVisited=h.boundary?-r:r}}return}return a},h.addPeaks=function(t,e){var o=this.vertices.length-1,s=this.dimension,a=this.vertices,u=this.tuple,l=this.interior,c=this.simplices,h=[e];e.lastVisited=o,e.vertices[e.vertices.indexOf(-1)]=o,e.boundary=!1,l.push(e);for(var f=[];h.length>0;){var e=h.pop(),p=e.vertices,d=e.adjacent,_=p.indexOf(o);if(!(0>_))for(var v=0;s>=v;++v)if(v!==_){var g=d[v];if(g.boundary&&!(g.lastVisited>=o)){var m=g.vertices;if(g.lastVisited!==-o){for(var y=0,b=0;s>=b;++b)m[b]<0?(y=b,u[b]=t):u[b]=a[m[b]];var w=this.orient();if(w>0){m[y]=o,g.boundary=!1,l.push(g),h.push(g),g.lastVisited=o;continue}g.lastVisited=-o}var x=g.adjacent,j=p.slice(),T=d.slice(),A=new r(j,T,!0);c.push(A);var E=x.indexOf(e);if(!(0>E)){x[E]=A,T[_]=g,j[v]=-1,T[v]=e,d[v]=A,A.flip();for(var b=0;s>=b;++b){var P=j[b];if(!(0>P||P===o)){for(var R=new Array(s-1),k=0,S=0;s>=S;++S){var F=j[S];0>F||S===b||(R[k++]=F)}f.push(new i(R,A,b))}}}}}}f.sort(n);for(var v=0;v+1<f.length;v+=2){var C=f[v],O=f[v+1],I=C.index,M=O.index;0>I||0>M||(C.cell.adjacent[C.index]=O.cell,O.cell.adjacent[O.index]=C.cell)}},h.insert=function(t,e){var r=this.vertices;r.push(t);var i=this.walk(t,e);if(i){for(var n=this.dimension,o=this.tuple,s=0;n>=s;++s){var a=i.vertices[s];o[s]=0>a?t:r[a]}var u=this.orient(o);0>u||(0!==u||(i=this.handleBoundaryDegeneracy(i,t)))&&this.addPeaks(t,i)}},h.boundary=function(){for(var t=this.dimension,e=[],r=this.simplices,i=r.length,n=0;i>n;++n){var o=r[n];if(o.boundary){for(var s=new Array(t),a=o.vertices,u=0,l=0,c=0;t>=c;++c)a[c]>=0?s[u++]=a[c]:l=1&c;if(l===(1&t)){var h=s[0];s[0]=s[1],s[1]=h}e.push(s)}}return e}},{"robust-orientation":130,"simplicial-complex":133}],125:[function(t,e){"use strict";function r(t,e,r){var i=t+e,n=i-t,o=i-n,s=e-n,a=t-o;return r?(r[0]=a+s,r[1]=i,r):[a+s,i]}e.exports=r},{}],126:[function(t,e){"use strict";function r(t,e){var r=t.length;if(1===r){var o=i(t[0],e);return o[0]?o:[o[1]]}var s=new Array(2*r),a=[.1,.1],u=[.1,.1],l=0;i(t[0],e,a),a[0]&&(s[l++]=a[0]);for(var c=1;r>c;++c){i(t[c],e,u);var h=a[1];n(h,u[0],a),a[0]&&(s[l++]=a[0]);var f=u[1],p=a[1],d=f+p,_=d-f,v=p-_;a[1]=d,v&&(s[l++]=v)}return a[1]&&(s[l++]=a[1]),0===l&&(s[l++]=0),s.length=l,s}var i=t("two-product"),n=t("two-sum");e.exports=r},{"two-product":129,"two-sum":125}],127:[function(t,e){"use strict";function r(t,e){var r=t+e,i=r-t,n=r-i,o=e-i,s=t-n,a=s+o;return a?[a,r]:[r]}function i(t,e){var i=0|t.length,n=0|e.length;if(1===i&&1===n)return r(t[0],-e[0]);var o,s,a=i+n,u=new Array(a),l=0,c=0,h=0,f=Math.abs,p=t[c],d=f(p),_=-e[h],v=f(_);v>d?(s=p,c+=1,i>c&&(p=t[c],d=f(p))):(s=_,h+=1,n>h&&(_=-e[h],v=f(_))),i>c&&v>d||h>=n?(o=p,c+=1,i>c&&(p=t[c],d=f(p))):(o=_,h+=1,n>h&&(_=-e[h],v=f(_)));for(var g,m,y,b,w,x=o+s,j=x-o,T=s-j,A=T,E=x;i>c&&n>h;)v>d?(o=p,c+=1,i>c&&(p=t[c],d=f(p))):(o=_,h+=1,n>h&&(_=-e[h],v=f(_))),s=A,x=o+s,j=x-o,T=s-j,T&&(u[l++]=T),g=E+x,m=g-E,y=g-m,b=x-m,w=E-y,A=w+b,E=g;for(;i>c;)o=p,s=A,x=o+s,j=x-o,T=s-j,T&&(u[l++]=T),g=E+x,m=g-E,y=g-m,b=x-m,w=E-y,A=w+b,E=g,c+=1,i>c&&(p=t[c]);for(;n>h;)o=_,s=A,x=o+s,j=x-o,T=s-j,T&&(u[l++]=T),g=E+x,m=g-E,y=g-m,b=x-m,w=E-y,A=w+b,E=g,h+=1,n>h&&(_=-e[h]);return A&&(u[l++]=A),E&&(u[l++]=E),l||(u[l++]=0),u.length=l,u}e.exports=i},{}],128:[function(t,e){"use strict";function r(t,e){var r=t+e,i=r-t,n=r-i,o=e-i,s=t-n,a=s+o;return a?[a,r]:[r]}function i(t,e){var i=0|t.length,n=0|e.length;if(1===i&&1===n)return r(t[0],e[0]);var o,s,a=i+n,u=new Array(a),l=0,c=0,h=0,f=Math.abs,p=t[c],d=f(p),_=e[h],v=f(_);v>d?(s=p,c+=1,i>c&&(p=t[c],d=f(p))):(s=_,h+=1,n>h&&(_=e[h],v=f(_))),i>c&&v>d||h>=n?(o=p,c+=1,i>c&&(p=t[c],d=f(p))):(o=_,h+=1,n>h&&(_=e[h],v=f(_)));for(var g,m,y,b,w,x=o+s,j=x-o,T=s-j,A=T,E=x;i>c&&n>h;)v>d?(o=p,c+=1,i>c&&(p=t[c],d=f(p))):(o=_,h+=1,n>h&&(_=e[h],v=f(_))),s=A,x=o+s,j=x-o,T=s-j,T&&(u[l++]=T),g=E+x,m=g-E,y=g-m,b=x-m,w=E-y,A=w+b,E=g;for(;i>c;)o=p,s=A,x=o+s,j=x-o,T=s-j,T&&(u[l++]=T),g=E+x,m=g-E,y=g-m,b=x-m,w=E-y,A=w+b,E=g,c+=1,i>c&&(p=t[c]);for(;n>h;)o=_,s=A,x=o+s,j=x-o,T=s-j,T&&(u[l++]=T),g=E+x,m=g-E,y=g-m,b=x-m,w=E-y,A=w+b,E=g,h+=1,n>h&&(_=e[h]);return A&&(u[l++]=A),E&&(u[l++]=E),l||(u[l++]=0),u.length=l,u}e.exports=i},{}],129:[function(t,e){"use strict";function r(t,e,r){var n=t*e,o=i*t,s=o-t,a=o-s,u=t-a,l=i*e,c=l-e,h=l-c,f=e-h,p=n-a*h,d=p-u*h,_=d-a*f,v=u*f-_;return r?(r[0]=v,r[1]=n,r):[v,n]}e.exports=r;var i=+(Math.pow(2,27)+1)},{}],130:[function(t,e){"use strict";function r(t,e){for(var r=new Array(t.length-1),i=1;i<t.length;++i)for(var n=r[i-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(n[s++]=t[i][o]);return r}function i(t){for(var e=new Array(t),r=0;t>r;++r){e[r]=new Array(t);for(var i=0;t>i;++i)e[r][i]=["m",i,"[",t-r-1,"]"].join("")}return e}function n(t){return 1&t?"-":""}function o(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",o(t.slice(0,e)),",",o(t.slice(e)),")"].join("")}function s(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],i=0;i<t.length;++i)e.push(["scale(",o(s(r(t,i))),",",n(i),t[0][i],")"].join(""));return e}function a(t){for(var e=[],n=[],a=i(t),u=[],l=0;t>l;++l)0===(1&l)?e.push.apply(e,s(r(a,l))):n.push.apply(n,s(r(a,l))),u.push("m"+l);var d=o(e),_=o(n),v="orientation"+t+"Exact",g=["function ",v,"(",u.join(),"){var p=",d,",n=",_,",d=sub(p,n);return d[d.length-1];};return ",v].join(""),m=new Function("sum","prod","scale","sub",g);return m(h,c,f,p)}function u(t){var e=b[t.length];return e||(e=b[t.length]=a(t.length)),e.apply(void 0,t)}function l(){for(;b.length<=d;)b.push(a(b.length));for(var t=[],r=["slow"],i=0;d>=i;++i)t.push("a"+i),r.push("o"+i);for(var n=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],i=2;d>=i;++i)n.push("case ",i,":return o",i,"(",t.slice(0,i).join(),");");n.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),r.push(n.join(""));var o=Function.apply(void 0,r);e.exports=o.apply(void 0,[u].concat(b));for(var i=0;d>=i;++i)e.exports[i]=b[i]}var c=t("two-product"),h=t("robust-sum"),f=t("robust-scale"),p=t("robust-subtract"),d=5,_=1.1102230246251565e-16,v=(3+16*_)*_,g=(7+56*_)*_,m=a(3),y=a(4),b=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var i,n=(t[1]-r[1])*(e[0]-r[0]),o=(t[0]-r[0])*(e[1]-r[1]),s=n-o;if(n>0){if(0>=o)return s;i=n+o}else{if(!(0>n))return s;if(o>=0)return s;i=-(n+o)}var a=v*i;return s>=a||-a>=s?s:m(t,e,r)},function(t,e,r,i){var n=t[0]-i[0],o=e[0]-i[0],s=r[0]-i[0],a=t[1]-i[1],u=e[1]-i[1],l=r[1]-i[1],c=t[2]-i[2],h=e[2]-i[2],f=r[2]-i[2],p=o*l,d=s*u,_=s*a,v=n*l,m=n*u,b=o*a,w=c*(p-d)+h*(_-v)+f*(m-b),x=(Math.abs(p)+Math.abs(d))*Math.abs(c)+(Math.abs(_)+Math.abs(v))*Math.abs(h)+(Math.abs(m)+Math.abs(b))*Math.abs(f),j=g*x;return w>j||-w>j?w:y(t,e,r,i)}];l()},{"robust-scale":126,"robust-subtract":127,"robust-sum":128,"two-product":129}],131:[function(t,e){e.exports=t(90)},{}],132:[function(t,e){"use strict";"use restrict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;t>e;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var e=this.roots;e[t]!==t;){var r=e[t];e[t]=e[r],t=r}return t},i.link=function(t,e){var r=this.find(t),i=this.find(e);if(r!==i){var n=this.ranks,o=this.roots,s=n[r],a=n[i];a>s?o[r]=i:s>a?o[i]=r:(o[i]=r,++n[r])}}},{}],133:[function(t,e,r){"use strict";"use restrict";function i(t){for(var e=0,r=Math.max,i=0,n=t.length;n>i;++i)e=r(e,t[i].length);return e-1}function n(t){for(var e=-1,r=Math.max,i=0,n=t.length;n>i;++i)for(var o=t[i],s=0,a=o.length;a>s;++s)e=r(e,o[s]);return e+1}function o(t){for(var e=new Array(t.length),r=0,i=t.length;i>r;++r)e[r]=t[r].slice(0);return e}function s(t,e){var r=t.length,i=t.length-e.length,n=Math.min;if(i)return i;switch(r){case 0:return 0;case 1:return t[0]-e[0];case 2:var o=t[0]+t[1]-e[0]-e[1];return o?o:n(t[0],t[1])-n(e[0],e[1]);case 3:var s=t[0]+t[1],a=e[0]+e[1];if(o=s+t[2]-(a+e[2]))return o;var u=n(t[0],t[1]),l=n(e[0],e[1]),o=n(u,t[2])-n(l,e[2]);return o?o:n(u+t[2],s)-n(l+e[2],a);default:var c=t.slice(0);c.sort();var h=e.slice(0);h.sort();for(var f=0;r>f;++f)if(i=c[f]-h[f])return i;return 0}}function a(t,e){return s(t[0],e[0])}function u(t,e){if(e){for(var r=t.length,i=new Array(r),n=0;r>n;++n)i[n]=[t[n],e[n]];i.sort(a);for(var n=0;r>n;++n)t[n]=i[n][0],e[n]=i[n][1];return t}return t.sort(s),t}function l(t){if(0===t.length)return[];for(var e=1,r=t.length,i=1;r>i;++i){var n=t[i];if(s(n,t[i-1])){if(i===e){e++;continue}t[e++]=n}}return t.length=e,t}function c(t,e){for(var r=0,i=t.length-1,n=-1;i>=r;){var o=r+i>>1,a=s(t[o],e);0>=a?(0===a&&(n=o),r=o+1):a>0&&(i=o-1)}return n}function h(t,e){for(var r=new Array(t.length),i=0,n=r.length;n>i;++i)r[i]=[];for(var o=[],i=0,a=e.length;a>i;++i)for(var u=e[i],l=u.length,h=1,f=1<<l;f>h;++h){o.length=y.popCount(h);for(var p=0,d=0;l>d;++d)h&1<<d&&(o[p++]=u[d]);var _=c(t,o);if(!(0>_))for(;;)if(r[_++].push(i),_>=t.length||0!==s(t[_],o))break}return r}function f(t,e){if(!e)return h(l(d(t,0)),t,0);for(var r=new Array(e),i=0;e>i;++i)r[i]=[];for(var i=0,n=t.length;n>i;++i)for(var o=t[i],s=0,a=o.length;a>s;++s)r[o[s]].push(i);return r}function p(t){for(var e=[],r=0,i=t.length;i>r;++r)for(var n=t[r],o=0|n.length,s=1,a=1<<o;a>s;++s){for(var l=[],c=0;o>c;++c)s>>>c&1&&l.push(n[c]);e.push(l)}return u(e)}function d(t,e){if(0>e)return[];for(var r=[],i=(1<<e+1)-1,n=0;n<t.length;++n)for(var o=t[n],s=i;s<1<<o.length;s=y.nextCombination(s)){for(var a=new Array(e+1),l=0,c=0;c<o.length;++c)s&1<<c&&(a[l++]=o[c]);r.push(a)}return u(r)}function _(t){for(var e=[],r=0,i=t.length;i>r;++r)for(var n=t[r],o=0,s=n.length;s>o;++o){for(var a=new Array(n.length-1),l=0,c=0;s>l;++l)l!==o&&(a[c++]=n[l]);e.push(a)}return u(e)}function v(t,e){for(var r=new b(e),i=0;i<t.length;++i)for(var n=t[i],o=0;o<n.length;++o)for(var s=o+1;s<n.length;++s)r.link(n[o],n[s]);for(var a=[],u=r.ranks,i=0;i<u.length;++i)u[i]=-1;for(var i=0;i<t.length;++i){var l=r.find(t[i][0]);u[l]<0?(u[l]=a.length,a.push([t[i].slice(0)])):a[u[l]].push(t[i].slice(0))}return a}function g(t){for(var e=l(u(d(t,0))),r=new b(e.length),i=0;i<t.length;++i)for(var n=t[i],o=0;o<n.length;++o)for(var s=c(e,[n[o]]),a=o+1;a<n.length;++a)r.link(s,c(e,[n[a]]));for(var h=[],f=r.ranks,i=0;i<f.length;++i)f[i]=-1;for(var i=0;i<t.length;++i){var p=r.find(c(e,[t[i][0]]));f[p]<0?(f[p]=h.length,h.push([t[i].slice(0)])):h[f[p]].push(t[i].slice(0))}return h}function m(t,e){return e?v(t,e):g(t)}var y=t("bit-twiddle"),b=t("union-find");r.dimension=i,r.countVertices=n,r.cloneCells=o,r.compareCells=s,r.normalize=u,r.unique=l,r.findCell=c,r.incidence=h,r.dual=f,r.explode=p,r.skeleton=d,r.boundary=_,r.connectedComponents=m},{"bit-twiddle":131,"union-find":132}],134:[function(t,e){e.exports=t(87)},{}],135:[function(t,e){"use strict";function r(t,e){this.point=t,this.index=e}function i(t,e){for(var r=t.point,i=e.point,n=r.length,o=0;n>o;++o){var s=i[o]-r[o];if(s)return s}return 0}function n(t,e,r){if(1===t)return r?[[-1,0]]:[];var i=e.map(function(t,e){return[t[0],e]});i.sort(function(t,e){return t[0]-e[0]});for(var n=new Array(t-1),o=1;t>o;++o){var s=i[o-1],a=i[o];n[o-1]=[s[1],a[1]]}return r&&n.push([-1,n[0][1]],[n[t-1][1],-1]),n}function o(t,e){var o=t.length;if(0===o)return[];var u=t[0].length;if(1>u)return[];if(1===u)return n(o,t,e);for(var l=new Array(o),c=1,h=0;o>h;++h){for(var f=t[h],p=new Array(u+1),d=0,_=0;u>_;++_){var v=f[_];p[_]=v,d+=v*v}p[u]=d,l[h]=new r(p,h),c=Math.max(d,c)}a(l,i),o=l.length;for(var g=new Array(o+u+1),m=new Array(o+u+1),y=(u+1)*(u+1)*c,b=new Array(u+1),h=0;u>=h;++h)b[h]=0;b[u]=y,g[0]=b.slice(),m[0]=-1;for(var h=0;u>=h;++h){var p=b.slice();p[h]=1,g[h+1]=p,m[h+1]=-1}for(var h=0;o>h;++h){var w=l[h];g[h+u+1]=w.point,m[h+u+1]=w.index}var x=s(g,!1);if(x=x.filter(e?function(t){for(var e=0,r=0;u>=r;++r){var i=m[t[r]];if(0>i&&++e>=2)return!1;t[r]=i}return!0}:function(t){for(var e=0;u>=e;++e){var r=m[t[e]];if(0>r)return!1;t[e]=r}return!0}),1&u)for(var h=0;h<x.length;++h){var w=x[h],p=w[0];w[0]=w[1],w[1]=p}return x}var s=t("incremental-convex-hull"),a=t("uniq");e.exports=o},{"incremental-convex-hull":124,uniq:134}],136:[function(t,e){function r(t,e,r){r=r||0;var i="";i+="attribute vec4 "+s+";\n"+(t?"attribute vec3 "+a+";\n":"")+(e?"attribute vec4 "+u+";\n":"");var n;for(n=0;r>n;n++)i+="attribute vec2 "+l+n+";\n";for(i+="uniform mat4 projection;\n",i+="uniform mat4 view;\n",i+="uniform mat4 model;\n",i+=e?"varying vec4 v_col;\n":"",n=0;r>n;n++)i+="varying vec2 v_tex"+n+";\n";for(i+="\nvoid main() {\n   gl_Position = projection * view * model * "+s+";\n"+(e?"   v_col = "+u+";\n":""),n=0;r>n;n++)i+="   v_tex"+n+" = "+l+n+";\n";return i+="   gl_PointSize = 1.0;\n",i+="}\n"}function i(t,e){e=e||0;var r="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n";t&&(r+="varying vec4 v_col;\n");var i;for(i=0;e>i;i++)r+="varying vec2 v_tex"+i+";\n",r+="uniform sampler2D texture"+i+";\n";for(r+="uniform vec4 tint;\n",r+="\nvoid main() {\n   gl_FragColor = ",t&&(r+="v_col"),t&&e>0?r+=" * ":t||e||(r+="vec4(1.0)"),i=0;e>i;i++)r+=i==e-1?" texture2D(texture"+i+",  v_tex"+i+")":" texture2D(texture"+i+",  v_tex"+i+") *";return r+=" * tint",r+=";\n}"}var n=t("gl-mat4/identity"),o=t("gl-shader-core"),s="position",a="normal",u="color",l="texcoord";e.exports=function(t,r){r=r||{},r.texcoord="number"==typeof r.texcoord?r.texcoord:r.texcoord||0;var i=e.exports.generate(r),s=i.vertex,a=i.fragment,u=i.uniforms,l=i.attributes,c=o(t,s,a,u,l);c.bind();for(var h=0;h<r.texcoord;h++)c.uniforms["texture"+h]=h;var f=n(new Float32Array(16));return c.uniforms.projection=f,c.uniforms.model=f,c.uniforms.view=f,c.uniforms.tint=r.tint||[1,1,1,1],c},e.exports.generate=function(t){t=t||{},t.texcoord="number"==typeof t.texcoord?t.texcoord:t.texcoord||0;var e="string"==typeof t.vertex?t.vertex:r(t.normal,t.color,t.texcoord),n="string"==typeof t.fragment?t.fragment:i(t.color,t.texcoord),o=[{type:"mat4",name:"projection"},{type:"mat4",name:"view"},{type:"mat4",name:"model"},{type:"vec4",name:"tint"}],c=[{type:"vec4",name:s,location:0}];t.normal&&c.push({type:"vec3",name:a,location:1}),t.color&&c.push({type:"vec4",name:u,location:2});for(var h=3,f=0;f<t.texcoord;f++)o.push({type:"sampler2D",name:"texture"+f}),c.push({type:"vec2",name:l+f,location:h++});return{vertex:e,fragment:n,uniforms:o,attributes:c}}},{"gl-mat4/identity":137,"gl-shader-core":142}],137:[function(t,e){e.exports=t(80)},{}],138:[function(t,e){e.exports=t(101)},{}],139:[function(t,e){e.exports=t(102)},{"./reflect":140,dup:141}],140:[function(t,e){e.exports=t(103)},{}],141:[function(t,e){e.exports=t(91)},{}],142:[function(t,e){e.exports=t(105)},{"./lib/create-attributes":138,"./lib/create-uniforms":139,"./lib/reflect":140}],143:[function(t,e){function r(t){return this instanceof r?(this._attributes=[],this._dirty=!0,this._length=0,this._index=null,this._vao=null,this._keys=[],void(this.gl=t)):new r(t)}var i=t("./normalize"),n=t("gl-vao");e.exports=r,r.prototype.dispose=function(){this._attributes.forEach(function(t){t.buffer.dispose()}),this._index&&this._index.dispose(),this._vao&&this._vao.dispose()},r.prototype.faces=function(t,e){var r=e&&e.size||3;return t=t.cells?t.cells:t,this._dirty=!0,this._index&&this._index.dispose(),this._index=i(this.gl,t,r,this.gl.ELEMENT_ARRAY_BUFFER,"uint16"),this._length=this._index.length*r,this._index=this._index.buffer,this},r.prototype.attr=function o(t,o,e){e=e||{},this._dirty=!0;var r=this.gl,n=!this._attributes.length,s=e.size||3,a=i(r,o,s);if(!a)throw new Error("Unexpected attribute format: needs an ndarray, array, typed array, gl-buffer or simplicial complex");var u=a.buffer,l=a.length,c=a.index;return this._keys.push(t),this._attributes.push({size:s,buffer:u}),n&&(this._length=l),n&&c&&(this._index=c),this},r.prototype.bind=function(t){if(this.update(),this._vao.bind(),t&&(t.bind(),this._keys))for(var e=0;e<this._keys.length;e++){var r=t.attributes[this._keys[e]];r&&(r.location=e)}},r.prototype.draw=function(t){this.update(),this._vao.draw(t||this.gl.TRIANGLES,this._length)},r.prototype.unbind=function(){this.update(),this._vao.unbind()},r.prototype.update=function(){this._dirty&&(this._dirty=!1,this._vao&&this._vao.dispose(),this._vao=n(this.gl,this._attributes,this._index))}},{"./normalize":167,"gl-vao":162}],144:[function(t,e){function r(t,e){if(e=e||"float32",!t[0]||!t[0].length)return t;for(var r="string"==typeof e?i(e):e,n=t[0].length,o=new r(t.length*n),s=0,a=0;a<t.length;a++)for(var u=0;n>u;u++)o[s++]=t[a][u];return o}var i=t("dtype");e.exports=r},{dtype:145}],145:[function(t,e){e.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array}}},{}],146:[function(t,e){e.exports=t(82)},{ndarray:165,"ndarray-ops":147,"typedarray-pool":154,webglew:156}],147:[function(t,e){e.exports=t(83)},{"cwise-compiler":148}],148:[function(t,e){e.exports=t(84)},{"./lib/thunk.js":150}],149:[function(t,e){e.exports=t(85)},{uniq:151}],150:[function(t,e){e.exports=t(86)},{"./compile.js":149}],151:[function(t,e){e.exports=t(87)},{}],152:[function(t,e){e.exports=t(90)},{}],153:[function(t,e){e.exports=t(91)},{}],154:[function(t,e){e.exports=t(92)},{"bit-twiddle":152,buffer:333,dup:153}],155:[function(t,e){e.exports=t(93)},{}],156:[function(t,e){e.exports=t(94)},{weakmap:155}],157:[function(t,e){e.exports=t(95)},{}],158:[function(t,e){e.exports=t(96)},{"./do-bind.js":157}],159:[function(t,e){e.exports=t(97)},{"./do-bind.js":157}],160:[function(t,e){e.exports=t(93)},{}],161:[function(t,e){e.exports=t(94)},{weakmap:160}],162:[function(t,e){e.exports=t(100)},{"./lib/vao-emulated.js":158,"./lib/vao-native.js":159,webglew:161}],163:[function(t,e){function r(t){return i(t)||n(t)}function i(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function n(t){return s[o.call(t)]}e.exports=r,r.strict=i,r.loose=n;var o=Object.prototype.toString,s={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},{}],164:[function(t,e){e.exports=function(t){if(!t)return!1;if(!t.dtype)return!1;var e=new RegExp("function View[0-9]+d(:?"+t.dtype+")+");return e.test(String(t.constructor))}},{}],165:[function(t,e){e.exports=t(88)},{buffer:333,"iota-array":166}],166:[function(t,e){e.exports=t(89)},{}],167:[function(t,e){function r(t,e,r,c,h){return Array.isArray(e)&&Array.isArray(e[0])?{buffer:a(t,o(e,h),c),length:e.length}:Array.isArray(e)?{buffer:a(t,new(l(h))(e),c),length:e.length/r}:e.handle instanceof WebGLBuffer?{buffer:e,length:e.length/r/4}:e.cells&&e.positions?{length:e.cells.length*r,buffer:a(t,o(e.positions,h),c),index:a(t,o(e.cells,"uint16"),t.ELEMENT_ARRAY_BUFFER)}:u(e)?{buffer:a(t,e,c),length:i(e.shape)/r}:s(e)?(!h||e instanceof l(h)||(e=n(e,l(h))),{buffer:a(t,e,c),length:e.length/r}):void 0}function i(t){for(var e=1,r=0;r<t.length;r++)e*=t[r];return e}function n(t,e){e=new e(t.length);for(var r=0;r<t.length;r++)e[r]=t[r];return e}var o=t("array-pack-2d"),s=t("is-typedarray"),a=t("gl-buffer"),u=t("isndarray"),l=t("dtype");e.exports=r},{"array-pack-2d":144,dtype:145,"gl-buffer":146,"is-typedarray":163,isndarray:164}],168:[function(t,e){function r(t,e){var r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],_=e[13],v=e[14],g=e[15];return t[0]=a*(f*g-p*v)-h*(u*g-l*v)+_*(u*p-l*f),t[1]=-(i*(f*g-p*v)-h*(n*g-o*v)+_*(n*p-o*f)),t[2]=i*(u*g-l*v)-a*(n*g-o*v)+_*(n*l-o*u),t[3]=-(i*(u*p-l*f)-a*(n*p-o*f)+h*(n*l-o*u)),t[4]=-(s*(f*g-p*v)-c*(u*g-l*v)+d*(u*p-l*f)),t[5]=r*(f*g-p*v)-c*(n*g-o*v)+d*(n*p-o*f),t[6]=-(r*(u*g-l*v)-s*(n*g-o*v)+d*(n*l-o*u)),t[7]=r*(u*p-l*f)-s*(n*p-o*f)+c*(n*l-o*u),t[8]=s*(h*g-p*_)-c*(a*g-l*_)+d*(a*p-l*h),t[9]=-(r*(h*g-p*_)-c*(i*g-o*_)+d*(i*p-o*h)),t[10]=r*(a*g-l*_)-s*(i*g-o*_)+d*(i*l-o*a),t[11]=-(r*(a*p-l*h)-s*(i*p-o*h)+c*(i*l-o*a)),t[12]=-(s*(h*v-f*_)-c*(a*v-u*_)+d*(a*f-u*h)),t[13]=r*(h*v-f*_)-c*(i*v-n*_)+d*(i*f-n*h),t[14]=-(r*(a*v-u*_)-s*(i*v-n*_)+d*(i*u-n*a)),t[15]=r*(a*f-u*h)-s*(i*f-n*h)+c*(i*u-n*a),t}e.exports=r},{}],169:[function(t,e){function r(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}e.exports=r},{}],170:[function(t,e){function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=r},{}],171:[function(t,e){e.exports=t(79)},{}],172:[function(t,e){function r(t){var e=t[0],r=t[1],i=t[2],n=t[3],o=t[4],s=t[5],a=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],p=t[12],d=t[13],_=t[14],v=t[15],g=e*s-r*o,m=e*a-i*o,y=e*u-n*o,b=r*a-i*s,w=r*u-n*s,x=i*u-n*a,j=l*d-c*p,T=l*_-h*p,A=l*v-f*p,E=c*_-h*d,P=c*v-f*d,R=h*v-f*_;return g*R-m*P+y*E+b*A-w*T+x*j}e.exports=r},{}],173:[function(t,e){function r(t,e){var r=e[0],i=e[1],n=e[2],o=e[3],s=r+r,a=i+i,u=n+n,l=r*s,c=i*s,h=i*a,f=n*s,p=n*a,d=n*u,_=o*s,v=o*a,g=o*u;return t[0]=1-h-d,t[1]=c+g,t[2]=f-v,t[3]=0,t[4]=c-g,t[5]=1-l-d,t[6]=p+_,t[7]=0,t[8]=f+v,t[9]=p-_,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t
}e.exports=r},{}],174:[function(t,e){function r(t,e,r){var i=e[0],n=e[1],o=e[2],s=e[3],a=i+i,u=n+n,l=o+o,c=i*a,h=i*u,f=i*l,p=n*u,d=n*l,_=o*l,v=s*a,g=s*u,m=s*l;return t[0]=1-(p+_),t[1]=h+m,t[2]=f-g,t[3]=0,t[4]=h-m,t[5]=1-(c+_),t[6]=d+v,t[7]=0,t[8]=f+g,t[9]=d-v,t[10]=1-(c+p),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}e.exports=r},{}],175:[function(t,e){function r(t,e,r,i,n,o,s){var a=1/(r-e),u=1/(n-i),l=1/(o-s);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(r+e)*a,t[9]=(n+i)*u,t[10]=(s+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*l,t[15]=0,t}e.exports=r},{}],176:[function(t,e){e.exports=t(80)},{}],177:[function(t,e){e.exports={create:t("./create"),clone:t("./clone"),copy:t("./copy"),identity:t("./identity"),transpose:t("./transpose"),invert:t("./invert"),adjoint:t("./adjoint"),determinant:t("./determinant"),multiply:t("./multiply"),translate:t("./translate"),scale:t("./scale"),rotate:t("./rotate"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),fromRotationTranslation:t("./fromRotationTranslation"),fromQuat:t("./fromQuat"),frustum:t("./frustum"),perspective:t("./perspective"),ortho:t("./ortho"),lookAt:t("./lookAt"),str:t("./str")}},{"./adjoint":168,"./clone":169,"./copy":170,"./create":171,"./determinant":172,"./fromQuat":173,"./fromRotationTranslation":174,"./frustum":175,"./identity":176,"./invert":178,"./lookAt":179,"./multiply":180,"./ortho":181,"./perspective":182,"./rotate":183,"./rotateX":184,"./rotateY":185,"./rotateZ":186,"./scale":187,"./str":188,"./translate":189,"./transpose":190}],178:[function(t,e){function r(t,e){var r=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],_=e[13],v=e[14],g=e[15],m=r*a-i*s,y=r*u-n*s,b=r*l-o*s,w=i*u-n*a,x=i*l-o*a,j=n*l-o*u,T=c*_-h*d,A=c*v-f*d,E=c*g-p*d,P=h*v-f*_,R=h*g-p*_,k=f*g-p*v,S=m*k-y*R+b*P+w*E-x*A+j*T;return S?(S=1/S,t[0]=(a*k-u*R+l*P)*S,t[1]=(n*R-i*k-o*P)*S,t[2]=(_*j-v*x+g*w)*S,t[3]=(f*x-h*j-p*w)*S,t[4]=(u*E-s*k-l*A)*S,t[5]=(r*k-n*E+o*A)*S,t[6]=(v*b-d*j-g*y)*S,t[7]=(c*j-f*b+p*y)*S,t[8]=(s*R-a*E+l*T)*S,t[9]=(i*E-r*R-o*T)*S,t[10]=(d*x-_*b+g*m)*S,t[11]=(h*b-c*x-p*m)*S,t[12]=(a*A-s*P-u*T)*S,t[13]=(r*P-i*A+n*T)*S,t[14]=(_*y-d*w-v*m)*S,t[15]=(c*w-h*y+f*m)*S,t):null}e.exports=r},{}],179:[function(t,e){function r(t,e,r,i){var n,o,s,a,u,l,c,h,f,p,d=e[0],_=e[1],v=e[2],g=i[0],m=i[1],y=i[2],b=r[0],w=r[1],x=r[2];return Math.abs(d-b)<1e-6&&Math.abs(_-w)<1e-6&&Math.abs(v-x)<1e-6?mat4.identity(t):(c=d-b,h=_-w,f=v-x,p=1/Math.sqrt(c*c+h*h+f*f),c*=p,h*=p,f*=p,n=m*f-y*h,o=y*c-g*f,s=g*h-m*c,p=Math.sqrt(n*n+o*o+s*s),p?(p=1/p,n*=p,o*=p,s*=p):(n=0,o=0,s=0),a=h*s-f*o,u=f*n-c*s,l=c*o-h*n,p=Math.sqrt(a*a+u*u+l*l),p?(p=1/p,a*=p,u*=p,l*=p):(a=0,u=0,l=0),t[0]=n,t[1]=a,t[2]=c,t[3]=0,t[4]=o,t[5]=u,t[6]=h,t[7]=0,t[8]=s,t[9]=l,t[10]=f,t[11]=0,t[12]=-(n*d+o*_+s*v),t[13]=-(a*d+u*_+l*v),t[14]=-(c*d+h*_+f*v),t[15]=1,t)}e.exports=r},{}],180:[function(t,e){function r(t,e,r){var i=e[0],n=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],_=e[12],v=e[13],g=e[14],m=e[15],y=r[0],b=r[1],w=r[2],x=r[3];return t[0]=y*i+b*a+w*h+x*_,t[1]=y*n+b*u+w*f+x*v,t[2]=y*o+b*l+w*p+x*g,t[3]=y*s+b*c+w*d+x*m,y=r[4],b=r[5],w=r[6],x=r[7],t[4]=y*i+b*a+w*h+x*_,t[5]=y*n+b*u+w*f+x*v,t[6]=y*o+b*l+w*p+x*g,t[7]=y*s+b*c+w*d+x*m,y=r[8],b=r[9],w=r[10],x=r[11],t[8]=y*i+b*a+w*h+x*_,t[9]=y*n+b*u+w*f+x*v,t[10]=y*o+b*l+w*p+x*g,t[11]=y*s+b*c+w*d+x*m,y=r[12],b=r[13],w=r[14],x=r[15],t[12]=y*i+b*a+w*h+x*_,t[13]=y*n+b*u+w*f+x*v,t[14]=y*o+b*l+w*p+x*g,t[15]=y*s+b*c+w*d+x*m,t}e.exports=r},{}],181:[function(t,e){function r(t,e,r,i,n,o,s){var a=1/(e-r),u=1/(i-n),l=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*a,t[13]=(n+i)*u,t[14]=(s+o)*l,t[15]=1,t}e.exports=r},{}],182:[function(t,e){function r(t,e,r,i,n){var o=1/Math.tan(e/2),s=1/(i-n);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*i*s,t[15]=0,t}e.exports=r},{}],183:[function(t,e){function r(t,e,r,i){var n,o,s,a,u,l,c,h,f,p,d,_,v,g,m,y,b,w,x,j,T,A,E,P,R=i[0],k=i[1],S=i[2],F=Math.sqrt(R*R+k*k+S*S);return Math.abs(F)<1e-6?null:(F=1/F,R*=F,k*=F,S*=F,n=Math.sin(r),o=Math.cos(r),s=1-o,a=e[0],u=e[1],l=e[2],c=e[3],h=e[4],f=e[5],p=e[6],d=e[7],_=e[8],v=e[9],g=e[10],m=e[11],y=R*R*s+o,b=k*R*s+S*n,w=S*R*s-k*n,x=R*k*s-S*n,j=k*k*s+o,T=S*k*s+R*n,A=R*S*s+k*n,E=k*S*s-R*n,P=S*S*s+o,t[0]=a*y+h*b+_*w,t[1]=u*y+f*b+v*w,t[2]=l*y+p*b+g*w,t[3]=c*y+d*b+m*w,t[4]=a*x+h*j+_*T,t[5]=u*x+f*j+v*T,t[6]=l*x+p*j+g*T,t[7]=c*x+d*j+m*T,t[8]=a*A+h*E+_*P,t[9]=u*A+f*E+v*P,t[10]=l*A+p*E+g*P,t[11]=c*A+d*E+m*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}e.exports=r},{}],184:[function(t,e){function r(t,e,r){var i=Math.sin(r),n=Math.cos(r),o=e[4],s=e[5],a=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*n+l*i,t[5]=s*n+c*i,t[6]=a*n+h*i,t[7]=u*n+f*i,t[8]=l*n-o*i,t[9]=c*n-s*i,t[10]=h*n-a*i,t[11]=f*n-u*i,t}e.exports=r},{}],185:[function(t,e){function r(t,e,r){var i=Math.sin(r),n=Math.cos(r),o=e[0],s=e[1],a=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n-l*i,t[1]=s*n-c*i,t[2]=a*n-h*i,t[3]=u*n-f*i,t[8]=o*i+l*n,t[9]=s*i+c*n,t[10]=a*i+h*n,t[11]=u*i+f*n,t}e.exports=r},{}],186:[function(t,e){function r(t,e,r){var i=Math.sin(r),n=Math.cos(r),o=e[0],s=e[1],a=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n+l*i,t[1]=s*n+c*i,t[2]=a*n+h*i,t[3]=u*n+f*i,t[4]=l*n-o*i,t[5]=c*n-s*i,t[6]=h*n-a*i,t[7]=f*n-u*i,t}e.exports=r},{}],187:[function(t,e){function r(t,e,r){var i=r[0],n=r[1],o=r[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}e.exports=r},{}],188:[function(t,e){function r(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}e.exports=r},{}],189:[function(t,e){function r(t,e,r){var i,n,o,s,a,u,l,c,h,f,p,d,_=r[0],v=r[1],g=r[2];return e===t?(t[12]=e[0]*_+e[4]*v+e[8]*g+e[12],t[13]=e[1]*_+e[5]*v+e[9]*g+e[13],t[14]=e[2]*_+e[6]*v+e[10]*g+e[14],t[15]=e[3]*_+e[7]*v+e[11]*g+e[15]):(i=e[0],n=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],t[0]=i,t[1]=n,t[2]=o,t[3]=s,t[4]=a,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=p,t[11]=d,t[12]=i*_+a*v+h*g+e[12],t[13]=n*_+u*v+f*g+e[13],t[14]=o*_+l*v+p*g+e[14],t[15]=s*_+c*v+d*g+e[15]),t}e.exports=r},{}],190:[function(t,e){function r(t,e){if(t===e){var r=e[1],i=e[2],n=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=o,t[11]=e[14],t[12]=n,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}e.exports=r},{}],191:[function(t,e){function r(t,e){if(!(this instanceof r))return new r(t,e);if(!t)throw new Error("must specify gl context");e=e||{},this._lastTexture=null,this.premultiplied=!1,this.state={rotation:0,color:o(255,255,255,255)};var a="number"==typeof e.size?e.size:500;if(a>10922)throw new Error("Can't have more than 10922 quads per batch: "+a);var u=4*a*s,l=6*a;this._total=a,this._count=0,this.idx=0,this.dirty=!1,this.vertices=new Float32Array(u),this.indices=new Uint16Array(l);for(var c=0,h=0;l>c;c+=6,h+=4)this.indices[c+0]=h+0,this.indices[c+1]=h+1,this.indices[c+2]=h+2,this.indices[c+3]=h+0,this.indices[c+4]=h+2,this.indices[c+5]=h+3;this.vertexBuffer=i(t,this.vertices,t.ARRAY_BUFFER,t.DYNAMIC_DRAW),this.indexBuffer=i(t,this.indices,t.ELEMENT_ARRAY_BUFFER,t.STATIC_DRAW);var f=20;this.vao=n(t,[{buffer:this.vertexBuffer,size:2,stride:f},{buffer:this.vertexBuffer,size:2,offset:8,stride:f},{buffer:this.vertexBuffer,size:4,stride:f,offset:16,type:t.UNSIGNED_BYTE,normalized:!0}],this.indexBuffer)}var i=t("gl-buffer"),n=t("gl-vao"),o=t("number-util").colorToFloat,s=5;Object.defineProperty(r.prototype,"count",{get:function(){return this._count}}),Object.defineProperty(r.prototype,"total",{get:function(){return this._total}}),r.prototype.dispose=function(){this.vertexBuffer.dispose(),this.indexBuffer.dispose(),this.vao.dispose()},r.prototype.clear=function(){this.dirty=!0,this.idx=0},r.prototype.add=function(t,e,r,i,n,o,s,a,u){if(this.idx===this.vertices.length)return this;this.dirty=!0,i="number"==typeof i?i:t.shape[0],n="number"==typeof n?n:t.shape[1],e=e||0,r=r||0;var l=e,c=e+i,h=r,f=r+n;o=o||0,s=s||0,a="number"==typeof a?a:1,u="number"==typeof u?u:1;var p=this.state.color,d=this.vertices;return d[this.idx++]=l,d[this.idx++]=h,d[this.idx++]=o,d[this.idx++]=s,d[this.idx++]=p,d[this.idx++]=c,d[this.idx++]=h,d[this.idx++]=a,d[this.idx++]=s,d[this.idx++]=p,d[this.idx++]=c,d[this.idx++]=f,d[this.idx++]=a,d[this.idx++]=u,d[this.idx++]=p,d[this.idx++]=l,d[this.idx++]=f,d[this.idx++]=o,d[this.idx++]=u,d[this.idx++]=p,this},r.prototype.color=function(t,e,r,i){var n="number"==typeof t;n&&"number"==typeof e&&"number"==typeof r?i="number"==typeof i?i:1:t=e=r=i=n?t:1,this.premultiplied&&(t*=i,e*=i,r*=i);var s=o(~~(255*t),~~(255*e),~~(255*r),~~(255*i));return this.dirty=s!==this.state.color,this.state.color=s,this},r.prototype.bind=function(){this.vao.bind()},r.prototype.update=function(){var t=this.vertices.subarray(0,this.idx);this.vertexBuffer.update(t,0)},r.prototype.draw=function(){this.dirty&&(this.dirty=!1,this.update());var t=this.idx/(4*s);t>0&&this.vao.draw(gl.TRIANGLES,6*t,0)},r.prototype.unbind=function(){this.vao.unbind()},e.exports=r},{"gl-buffer":192,"gl-vao":210,"number-util":211}],192:[function(t,e){"use strict";function r(t,e,r,i,n){this.gl=t,this.type=e,this.handle=r,this.length=i,this.usage=n}function i(t,e,r,i,n,o){var s=n.length*n.BYTES_PER_ELEMENT;if(0>o)return t.bufferData(e,n,i),s;if(s+o>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,n),r}function n(t,e){for(var r=a.malloc(t.length,e),i=t.length,n=0;i>n;++n)r[n]=t[n];return r}function o(t,e){for(var r=1,i=e.length-1;i>=0;--i){if(e[i]!==r)return!1;r*=t[i]}return!0}function s(t,e,i,n){if(c(t),i=i||t.ARRAY_BUFFER,n=n||t.DYNAMIC_DRAW,i!==t.ARRAY_BUFFER&&i!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(n!==t.DYNAMIC_DRAW&&n!==t.STATIC_DRAW&&n!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var o=t.createBuffer(),s=new r(t,i,o,0,n);return s.update(e),s}var a=t("typedarray-pool"),u=t("ndarray-ops"),l=t("ndarray"),c=t("webglew"),h=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],f=r.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.dispose=function(){this.gl.deleteBuffer(this.handle)},f.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&"undefined"!=typeof t.shape){var r=t.dtype;if(h.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var s=c(gl),f=s.OES_element_index_uint;r=f&&"uint16"!==r?"uint32":"uint16"}if(r===t.dtype&&o(t.shape,t.stride))this.length=0===t.offset&&t.data.length===t.shape[0]?i(this.gl,this.type,this.length,this.usage,t.data,e):i(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var p=a.malloc(t.size,r),d=l(p,t.shape);u.assign(d,t),this.length=0>e?i(this.gl,this.type,this.length,this.usage,p,e):i(this.gl,this.type,this.length,this.usage,p.subarray(0,t.size),e),a.free(p)}}else if(Array.isArray(t)){var _;_=this.type===this.gl.ELEMENT_ARRAY_BUFFER?n(t,"uint16"):n(t,"float32"),this.length=0>e?i(this.gl,this.type,this.length,this.usage,_,e):i(this.gl,this.type,this.length,this.usage,_.subarray(0,t.length),e),a.free(_)}else if("object"==typeof t&&"number"==typeof t.length)this.length=i(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t=0|t,0>=t&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=s},{ndarray:198,"ndarray-ops":193,"typedarray-pool":202,webglew:204}],193:[function(t,e){e.exports=t(83)},{"cwise-compiler":194}],194:[function(t,e){e.exports=t(84)},{"./lib/thunk.js":196}],195:[function(t,e){e.exports=t(85)},{uniq:197}],196:[function(t,e){e.exports=t(86)},{"./compile.js":195}],197:[function(t,e){e.exports=t(87)},{}],198:[function(t,e){e.exports=t(88)},{buffer:333,"iota-array":199}],199:[function(t,e){e.exports=t(89)},{}],200:[function(t,e){e.exports=t(90)},{}],201:[function(t,e){e.exports=t(91)},{}],202:[function(t,e,r){(function(e,i){var n=t("bit-twiddle"),o=t("dup");e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var s="undefined"!=typeof Uint8ClampedArray,a=e.__TYPEDARRAY_POOL;a.UINT8C||(a.UINT8C=o([32,0])),a.BUFFER||(a.BUFFER=o([32,0]));var u=a.UINT8,l=a.UINT16,c=a.UINT32,h=a.INT8,f=a.INT16,p=a.INT32,d=a.FLOAT,_=a.DOUBLE,v=a.DATA,g=a.UINT8C,m=a.BUFFER;r.free=function(t){var e=0|t.length,r=n.log2(e);if(i.isBuffer(t))m[r].push(t);else switch(Object.prototype.toString.call(t)){case"[object Uint8Array]":u[r].push(t);break;case"[object Uint16Array]":l[r].push(t);break;case"[object Uint32Array]":c[r].push(t);break;case"[object Int8Array]":h[r].push(t);break;case"[object Int16Array]":f[r].push(t);break;case"[object Int32Array]":p[r].push(t);break;case"[object Uint8ClampedArray]":g[r].push(t);break;case"[object Float32Array]":d[r].push(t);break;case"[object Float64Array]":_[r].push(t);break;case"[object ArrayBuffer]":v[r].push(t);break;default:throw new Error("typedarray-pool: Unspecified array type")}},r.freeUint8=function(t){u[n.log2(t.length)].push(t)},r.freeUint16=function(t){l[n.log2(t.length)].push(t)},r.freeUint32=function(t){c[n.log2(t.length)].push(t)},r.freeInt8=function(t){h[n.log2(t.length)].push(t)},r.freeInt16=function(t){f[n.log2(t.length)].push(t)},r.freeInt32=function(t){p[n.log2(t.length)].push(t)},r.freeFloat32=r.freeFloat=function(t){d[n.log2(t.length)].push(t)},r.freeFloat64=r.freeDouble=function(t){_[n.log2(t.length)].push(t)},r.freeArrayBuffer=function(t){v[n.log2(t.length)].push(t)},r.freeUint8Clamped=s?function(t){g[n.log2(t.length)].push(t)}:r.freeUint8,r.freeBuffer=function(t){m[n.log2(t.length)].push(t)},r.malloc=function(t,e){t=n.nextPow2(t);var r=n.log2(t);if(void 0===e||"arraybuffer"===e){var o=v[r];if(o.length>0){var a=o[o.length-1];return o.pop(),a}return new ArrayBuffer(t)}switch(e){case"uint8":var y=u[r];return y.length>0?y.pop():new Uint8Array(t);case"uint16":var b=l[r];return b.length>0?b.pop():new Uint16Array(t);case"uint32":var w=c[r];return w.length>0?w.pop():new Uint32Array(t);case"int8":var x=h[r];return x.length>0?x.pop():new Int8Array(t);case"int16":var j=f[r];return j.length>0?j.pop():new Int16Array(t);case"int32":var T=p[r];return T.length>0?T.pop():new Int32Array(t);case"float":case"float32":var A=d[r];return A.length>0?A.pop():new Float32Array(t);case"double":case"float64":var E=_[r];return E.length>0?E.pop():new Float64Array(t);case"uint8_clamped":if(s){var P=g[r];return P.length>0?P.pop():new Uint8ClampedArray(t)}var y=u[r];return y.length>0?y.pop():new Uint8Array(t);case"buffer":var R=m[r];return R.length>0?R.pop():new i(t);default:return null}return null},r.mallocUint8=function(t){t=n.nextPow2(t);var e=n.log2(t),r=u[e];return r.length>0?r.pop():new Uint8Array(t)},r.mallocUint16=function(t){t=n.nextPow2(t);var e=n.log2(t),r=l[e];return r.length>0?r.pop():new Uint16Array(t)},r.mallocUint32=function(t){t=n.nextPow2(t);var e=n.log2(t),r=c[e];return r.length>0?r.pop():new Uint32Array(t)},r.mallocInt8=function(t){t=n.nextPow2(t);var e=n.log2(t),r=h[e];return r.length>0?r.pop():new Int8Array(t)},r.mallocInt16=function(t){t=n.nextPow2(t);var e=n.log2(t),r=f[e];return r.length>0?r.pop():new Int16Array(t)},r.mallocInt32=function(t){t=n.nextPow2(t);var e=n.log2(t),r=p[e];return r.length>0?r.pop():new Int32Array(t)},r.mallocFloat32=r.mallocFloat=function(t){t=n.nextPow2(t);var e=n.log2(t),r=d[e];return r.length>0?r.pop():new Float32Array(t)},r.mallocFloat64=r.mallocDouble=function(t){t=n.nextPow2(t);var e=n.log2(t),r=_[e];return r.length>0?r.pop():new Float64Array(t)},r.mallocArrayBuffer=function(t){t=n.nextPow2(t);var e=n.log2(t),r=v[e];return r.length>0?r.pop():new ArrayBuffer(t)},r.mallocUint8Clamped=s?function(t){t=n.nextPow2(t);var e=n.log2(t),r=g[e];return r.length>0?r.pop():new Uint8ClampedArray(t)}:r.mallocUint8,r.mallocBuffer=function(t){t=n.nextPow2(t);var e=n.log2(t),r=m[e];return r.length>0?r.pop():new i(t)},r.clearCache=function(){for(var t=0;32>t;++t)u[t].length=0,l[t].length=0,c[t].length=0,h[t].length=0,f[t].length=0,p[t].length=0,d[t].length=0,_[t].length=0,v[t].length=0,g[t].length=0,m[t].length=0}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"bit-twiddle":200,buffer:333,dup:201}],203:[function(t,e){e.exports=t(93)},{}],204:[function(t,e){"use strict";function r(t){return t.replace(/^[A-Z]+_/,"")}function i(t){var e=o.get(t);if(e)return e;for(var i={},n=t.getSupportedExtensions(),s=0;s<n.length;++s){var a=n[s],u=t.getExtension(n[s]);if(u)for(;;){i[a]=u;var l=r(a);if(l===a)break;a=l}}return o.set(t,i),i}var n="undefined"==typeof WeakMap?t("weakmap"):WeakMap,o=new n;e.exports=i},{weakmap:203}],205:[function(t,e){e.exports=t(95)},{}],206:[function(t,e){"use strict";function r(t){this.gl=t,this._elements=null,this._attributes=null}function i(t){return new r(t)}var n=t("./do-bind.js");r.prototype.bind=function(){n(this.gl,this._elements,this._attributes)},r.prototype.update=function(t,e){this._elements=e,this._attributes=t},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(t,e,r){r=r||0;var i=this.gl;this._elements?i.drawElements(t,e,i.UNSIGNED_SHORT,r):i.drawArrays(t,r,e)},e.exports=i},{"./do-bind.js":205}],207:[function(t,e){"use strict";function r(t,e,r,i,n,o){this.location=t,this.dimension=e,this.a=r,this.b=i,this.c=n,this.d=o}function i(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1}function n(t,e){return new i(t,e,e.createVertexArrayOES())}var o=t("./do-bind.js");r.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(t,e){if(this.bind(),o(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var i=0;i<t.length;++i){var n=t[i];"number"==typeof n?this._attribs.push(new r(i,1,n)):Array.isArray(n)&&this._attribs.push(new r(i,n.length,n[0],n[1],n[2],n[3]))}this._useElements=!!e},i.prototype.draw=function(t,e,r){r=r||0;var i=this.gl;this._useElements?i.drawElements(t,e,i.UNSIGNED_SHORT,r):i.drawArrays(t,r,e)},e.exports=n},{"./do-bind.js":205}],208:[function(t,e){e.exports=t(93)},{}],209:[function(t,e){e.exports=t(204)},{weakmap:208}],210:[function(t,e){"use strict";function r(t,e,r){var s,a=i(t).OES_vertex_array_object;return s=a?n(t,a):o(t),s.update(e,r),s}var i=t("webglew"),n=t("./lib/vao-native.js"),o=t("./lib/vao-emulated.js");e.exports=r},{"./lib/vao-emulated.js":206,"./lib/vao-native.js":207,webglew:209}],211:[function(t,e){var r=new Int8Array(4),i=new Int32Array(r.buffer,0,1),n=new Float32Array(r.buffer,0,1),o=function(){};o.intBitsToFloat=function(t){return i[0]=t,n[0]},o.floatToIntBits=function(t){return n[0]=t,i[0]},o.intToFloatColor=function(t){return o.intBitsToFloat(4278190079&t)},o.colorToFloat=function(t,e,r,i){var n=i<<24|r<<16|e<<8|t;return o.intToFloatColor(n)},o.isPowerOfTwo=function(t){return 0===(t&t-1)},o.nextPowerOfTwo=function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1},e.exports=o},{}],212:[function(t,e){e.exports=t(75)},{deepcopy:214,"gl-shader-core":242}],213:[function(t,e){e.exports=t(76)},{"./create-shader":212,"gl-mat4/create":216,"gl-mat4/identity":217,"gl-quad":218,glslify:243,"glslify/simple-adapter.js":244,inherits:245}],214:[function(t,e){e.exports=t(77)},{"./lib/deepcopy":215}],215:[function(t,e){e.exports=t(78)},{util:340}],216:[function(t,e){e.exports=t(79)},{}],217:[function(t,e){e.exports=t(80)},{}],218:[function(t,e){e.exports=t(81)},{"gl-buffer":219,"gl-vao":237}],219:[function(t,e){e.exports=t(82)},{ndarray:225,"ndarray-ops":220,"typedarray-pool":229,webglew:231}],220:[function(t,e){e.exports=t(83)},{"cwise-compiler":221}],221:[function(t,e){e.exports=t(84)},{"./lib/thunk.js":223}],222:[function(t,e){e.exports=t(85)},{uniq:224}],223:[function(t,e){e.exports=t(86)},{"./compile.js":222}],224:[function(t,e){e.exports=t(87)},{}],225:[function(t,e){e.exports=t(88)},{buffer:333,"iota-array":226}],226:[function(t,e){e.exports=t(89)},{}],227:[function(t,e){e.exports=t(90)},{}],228:[function(t,e){e.exports=t(91)},{}],229:[function(t,e){e.exports=t(92)},{"bit-twiddle":227,buffer:333,dup:228}],230:[function(t,e){e.exports=t(93)},{}],231:[function(t,e){e.exports=t(94)},{weakmap:230}],232:[function(t,e){e.exports=t(95)},{}],233:[function(t,e){e.exports=t(96)},{"./do-bind.js":232}],234:[function(t,e){e.exports=t(97)},{"./do-bind.js":232}],235:[function(t,e){e.exports=t(93)},{}],236:[function(t,e){e.exports=t(94)},{weakmap:235}],237:[function(t,e){e.exports=t(100)},{"./lib/vao-emulated.js":233,"./lib/vao-native.js":234,webglew:236}],238:[function(t,e){e.exports=t(101)},{}],239:[function(t,e){e.exports=t(102)},{"./reflect":240,dup:241}],240:[function(t,e){e.exports=t(103)},{}],241:[function(t,e){e.exports=t(91)},{}],242:[function(t,e){e.exports=t(105)},{"./lib/create-attributes":238,"./lib/create-uniforms":239,"./lib/reflect":240}],243:[function(t,e){e.exports=t(106)},{}],244:[function(t,e){e.exports=t(107)},{}],245:[function(t,e){e.exports=t(108)},{}],246:[function(t,e){var r=t("gl-texture2d"),i=t("ndarray");e.exports=function(t){var e=Array.apply(null,new Array(16)).map(Number.prototype.valueOf,255),n=i(new Uint8Array(e),[2,2,4]);return r(t,n)}},{"gl-texture2d":257,ndarray:258}],247:[function(t,e){e.exports=t(83)},{"cwise-compiler":248}],248:[function(t,e){e.exports=t(84)},{"./lib/thunk.js":250}],249:[function(t,e){e.exports=t(85)},{uniq:251}],250:[function(t,e){e.exports=t(86)},{"./compile.js":249}],251:[function(t,e){e.exports=t(87)},{}],252:[function(t,e){e.exports=t(90)},{}],253:[function(t,e){e.exports=t(91)},{}],254:[function(t,e){e.exports=t(92)},{"bit-twiddle":252,buffer:333,dup:253}],255:[function(t,e){e.exports=t(93)},{}],256:[function(t,e){e.exports=t(94)},{weakmap:255}],257:[function(t,e){"use strict";function r(t){v=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],g=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],m=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function i(t,e,r){var i=t.gl,n=i.getParameter(i.MAX_TEXTURE_SIZE);if(0>e||e>n||0>r||r>n)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),i.texImage2D(i.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function n(t,e,r,i,n,o){this.gl=t,this.handle=e,this.format=n,this.type=o,this._shape=[r,i],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var s=this,a=[this._wrapS,this._wrapT];Object.defineProperties(a,[{get:function(){return s._wrapS},set:function(t){return s.wrapS=t}},{get:function(){return s._wrapT},set:function(t){return s.wrapT=t}}]),this._wrapVector=a;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return s._shape[0]},set:function(t){return s.width=t}},{get:function(){return s._shape[1]},set:function(t){return s.height=t}}]),this._shapeVector=u}function o(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function s(t,e,r,i,n,s,a,u){var l=u.dtype,c=u.shape.slice();if(c.length<2||c.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var h=0,_=0,v=o(c,u.stride.slice());"float32"===l?h=t.FLOAT:"float64"===l?(h=t.FLOAT,v=!1,l="float32"):"uint8"===l?h=t.UNSIGNED_BYTE:(h=t.UNSIGNED_BYTE,v=!1,l="uint8");var g=1;if(2===c.length)_=t.LUMINANCE,c=[c[0],c[1],1],u=f(u.data,c,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==c.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===c[2])_=t.ALPHA;else if(2===c[2])_=t.LUMINANCE_ALPHA;else if(3===c[2])_=t.RGB;else{if(4!==c[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");_=t.RGBA}g=c[2]}if(_!==t.LUMINANCE&&_!==t.ALPHA||n!==t.LUMINANCE&&n!==t.ALPHA||(_=n),_!==n)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var m=u.size,b=a.indexOf(i)<0;if(b&&a.push(i),h===s&&v)0===u.offset&&u.data.length===m?b?t.texImage2D(t.TEXTURE_2D,i,n,c[0],c[1],0,n,s,u.data):t.texSubImage2D(t.TEXTURE_2D,i,e,r,c[0],c[1],n,s,u.data):b?t.texImage2D(t.TEXTURE_2D,i,n,c[0],c[1],0,n,s,u.data.subarray(u.offset,u.offset+m)):t.texSubImage2D(t.TEXTURE_2D,i,e,r,c[0],c[1],n,s,u.data.subarray(u.offset,u.offset+m));else{var w;w=s===t.FLOAT?d.mallocFloat32(m):d.mallocUint8(m);var x=f(w,c,[c[2],c[2]*c[0],1]);h===t.FLOAT&&s===t.UNSIGNED_BYTE?y(x,u):p.assign(x,u),b?t.texImage2D(t.TEXTURE_2D,i,n,c[0],c[1],0,n,s,w.subarray(0,m)):t.texSubImage2D(t.TEXTURE_2D,i,e,r,c[0],c[1],n,s,w.subarray(0,m)),s===t.FLOAT?d.freeFloat32(w):d.freeUint8(w)}}function a(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function u(t,e,r,i,o){var s=t.getParameter(t.MAX_TEXTURE_SIZE);if(0>e||e>s||0>r||r>s)throw new Error("gl-texture2d: Invalid texture shape");var u=a(t);return t.texImage2D(t.TEXTURE_2D,0,i,e,r,0,i,o,null),new n(t,u,e,r,i,o)}function l(t,e,r,i){var o=a(t);return t.texImage2D(t.TEXTURE_2D,0,r,r,i,e),new n(t,o,0|e.width,0|e.height,r,i)}function c(t,e){var r=e.dtype,i=e.shape.slice(),s=t.getParameter(t.MAX_TEXTURE_SIZE);if(i[0]<0||i[0]>s||i[1]<0||i[1]>s)throw new Error("gl-texture2d: Invalid texture size");var u=o(i,e.stride.slice()),l=0;"float32"===r?l=t.FLOAT:"float64"===r?(l=t.FLOAT,u=!1,r="float32"):"uint8"===r?l=t.UNSIGNED_BYTE:(l=t.UNSIGNED_BYTE,u=!1,r="uint8");var c=0;if(2===i.length)c=t.LUMINANCE,i=[i[0],i[1],1],e=f(e.data,i,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==i.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===i[2])c=t.ALPHA;else if(2===i[2])c=t.LUMINANCE_ALPHA;else if(3===i[2])c=t.RGB;else{if(4!==i[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");c=t.RGBA}}l!==t.FLOAT||_(t).texture_float||(l=t.UNSIGNED_BYTE,u=!1);var h,v,g=e.size;if(u)h=0===e.offset&&e.data.length===g?e.data:e.data.subarray(e.offset,e.offset+g);else{var m=[i[2],i[2]*i[0],1];v=d.malloc(g,r);var b=f(v,i,m,0);"float32"!==r&&"float64"!==r||l!==t.UNSIGNED_BYTE?p.assign(b,e):y(b,e),h=v.subarray(0,g)}var w=a(t);return t.texImage2D(t.TEXTURE_2D,0,c,i[0],i[1],0,c,l,h),u||d.free(v),new n(t,w,i[1],i[0],c,l)}function h(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(v||r(t),"number"==typeof arguments[1])return u(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return u(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1];if(e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof HTMLVideoElement||e instanceof ImageData)return l(t,e,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return c(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var f=t("ndarray"),p=t("ndarray-ops"),d=t("typedarray-pool"),_=t("webglew");e.exports=h;var v=null,g=null,m=null,y=function(t,e){p.muls(t,e,255)},b=n.prototype;Object.defineProperties(b,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&v.indexOf(t)>=0&&(_(e).OES_texture_float_linear||(t=e.NEAREST)),g.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&v.indexOf(t)>=0&&(_(e).OES_texture_float_linear||(t=e.NEAREST)),g.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=_(this.gl).EXT_texture_filter_anisotropic;r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),m.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),m.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;2>e;++e)if(m.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return i(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t=0|t,i(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t=0|t,i(this,this._shape[0],t),t}}}),b.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},b.dispose=function(){this.gl.deleteTexture(this.handle)},b.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},b.setPixels=function(t,e,r,i){var n=this.gl;if(this.bind(),Array.isArray(e)?(i=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),i=i||0,t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLVideoElement){var o=this._mipLevels.indexOf(i)<0;
o?(n.texImage2D(n.TEXTURE_2D,0,this.format,this.format,this.type,t),this._mipLevels.push(i)):n.texSubImage2D(n.TEXTURE_2D,i,e,r,this.format,this.type,t)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>i||r+t.shape[0]>this._shape[0]>>>i||0>e||0>r)throw new Error("gl-texture2d: Texture dimensions are out of bounds");s(n,e,r,i,this.format,this.type,this._mipLevels,t)}}},{ndarray:258,"ndarray-ops":247,"typedarray-pool":254,webglew:256}],258:[function(t,e){e.exports=t(88)},{buffer:333,"iota-array":259}],259:[function(t,e){e.exports=t(89)},{}],260:[function(t,e){function r(t){for(var e=[],r=0;r<t.length;r++){var i=t[r],n=i[0],o=i[1],s=i[2];null!==n&&null!==o&&e.push(n,o),null!==o&&null!==s&&e.push(o,s),null!==n&&null!==s&&e.push(s,n)}return e}e.exports=r},{}],261:[function(t,e){e.exports=t(106)},{}],262:[function(t,e){e.exports=t(107)},{}],263:[function(t,e){function r(t){t=0|+t;var e=[],r=[],o=.5+Math.sqrt(5)/2;e.push([-1,+o,0]),e.push([1,+o,0]),e.push([-1,-o,0]),e.push([1,-o,0]),e.push([0,-1,+o]),e.push([0,1,+o]),e.push([0,-1,-o]),e.push([0,1,-o]),e.push([+o,0,-1]),e.push([+o,0,1]),e.push([-o,0,-1]),e.push([-o,0,1]),r.push([0,11,5]),r.push([0,5,1]),r.push([0,1,7]),r.push([0,7,10]),r.push([0,10,11]),r.push([1,5,9]),r.push([5,11,4]),r.push([11,10,2]),r.push([10,7,6]),r.push([7,1,8]),r.push([3,9,4]),r.push([3,4,2]),r.push([3,2,6]),r.push([3,6,8]),r.push([3,8,9]),r.push([4,9,5]),r.push([2,4,11]),r.push([6,2,10]),r.push([8,6,7]),r.push([9,8,1]);for(var s={cells:r,positions:e};t-->0;)s=i(s);e=s.positions;for(var a=0;a<e.length;a++)n(e[a]);return s}function i(t){function e(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2]}for(var r=t.positions,i=t.cells,n=[],o=[],s=0,a=0;a<i.length;a++){var u=i[a],l=u[0],c=u[1],h=u[2],f=r[l],p=r[c],d=r[h],_=e(f,p,l,c),v=e(p,d,c,h),g=e(d,f,h,l),m=o.indexOf(_);-1===m&&(m=s++,o.push(_));var y=o.indexOf(v);-1===y&&(y=s++,o.push(v));var b=o.indexOf(g);-1===b&&(b=s++,o.push(g));var w=o.indexOf(f);-1===w&&(w=s++,o.push(f));var x=o.indexOf(p);-1===x&&(x=s++,o.push(p));var j=o.indexOf(d);-1===j&&(j=s++,o.push(d)),n.push([w,m,b]),n.push([x,y,m]),n.push([j,b,y]),n.push([m,y,b])}return{cells:n,positions:o}}var n=t("vectors/normalize-nd");e.exports=r},{"vectors/normalize-nd":279}],264:[function(t,e){e.exports=t(108)},{}],265:[function(t,e){function r(t,e){for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if("function"==typeof o)t[r]=o;else if("object"==typeof o){var s=i(n,o);Object.defineProperty(t,r,s)}}}var i=t("xtend"),n={enumerable:!0,configurable:!0};e.exports=function(t,e){r(t.prototype,e)},e.exports.mix=r},{xtend:266}],266:[function(t,e){function r(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}e.exports=r},{}],267:[function(t,e){function r(t,e){return e||(e=[0,0,0,0]),e[0]=t[0]*t[3],e[1]=t[1]*t[3],e[2]=t[2]*t[3],e[3]=t[3],e}e.exports=r},{}],268:[function(t,e){function r(t){if(!t)throw"no size specified to NoiseSampler";this.size=t,this.scale=1,this.offset=0,this.smooth=!0,this.seamless=!1,this.scales=[1,20,.5],this.strengths=[1,.1,.5],this.data=new Float32Array(this.size*this.size)}var i=t("mixes"),n=t("simplex-noise"),o=(t("lerp"),t("sampling")),s=t("clamp"),a=void 0,u=new n(a);i(r,{seamlessNoise:function(t,e,r,i,n,o,s){var a=r/(2*Math.PI),l=2*Math.PI*t/r,c=a*Math.cos(l),h=a*Math.sin(l),f=2*Math.PI*e/r,p=a*Math.cos(f),d=a*Math.sin(f);return u.noise4D(i+c,n+h,o+p,s+d)},generate:function(){var t=this.data,e=this.size,r=this.offset,i=this.seamless,n=this.scale,o=this.scales;o&&0!==o.length||(o=[1]);for(var s=0;s<t.length;s++)t[s]=0;for(var a=0;a<o.length;a++){n=o[a]*this.scale;var l=this.strengths[a];l=0===l||l?l:1;for(var s=0;s<t.length;s++){var c=s%e,h=~~(s/e);t[s]+=i?this.seamlessNoise(c/e*n+r,h/e*n+r,n,0,0,0,0)*l:u.noise3D(c/e*n,h/e*n,r)*l}}},sample:function(t,e){return this.seamless?(t=(t%this.size+this.size)%this.size,e=(e%this.size+this.size)%this.size):(t=s(t,0,this.size),e=s(e,0,this.size)),this.smooth?o.bilinear(this.data,this.size,this.size,t,e):o.nearest(this.data,this.size,this.size,t,e)}}),e.exports=r},{clamp:269,lerp:270,mixes:271,sampling:273,"simplex-noise":275}],269:[function(t,e){function r(t,e,r){return r>e?e>t?e:t>r?r:t:r>t?r:t>e?e:t}e.exports=r},{}],270:[function(t,e){function r(t,e,r){return t*(1-r)+e*r}e.exports=r},{}],271:[function(t,e){e.exports=t(265)},{xtend:272}],272:[function(t,e){e.exports=t(266)},{}],273:[function(t,e){var r=t("lerp"),i=t("smoothstep");e.exports.nearest=function(t,e,r,i,n){var o=~~i%e,s=~~n%r;return t[o+s*e]},e.exports.bilinear=function(t,e,n,o,s){var a=Math.floor(o),u=Math.floor(s),l=o-a,c=s-u,h=a%e,f=(h+1)%e,p=u%n,d=(p+1)%n,_=t[p*e+h],v=t[p*e+f],g=t[d*e+h],m=t[d*e+f],y=i(0,1,l),b=i(0,1,c),w=r(_,v,y),x=r(g,m,y),j=r(w,x,b);return j}},{lerp:270,smoothstep:274}],274:[function(t,e){e.exports=function(t,e,r){var i=Math.max(0,Math.min(1,(r-t)/(e-t)));return i*i*(3-2*i)}},{}],275:[function(t,e,r){!function(){function t(t){t||(t=Math.random),this.p=new Uint8Array(256),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var e=0;256>e;e++)this.p[e]=256*t();for(e=0;512>e;e++)this.perm[e]=this.p[255&e],this.permMod12[e]=this.perm[e]%12}var i=.5*(Math.sqrt(3)-1),n=(3-Math.sqrt(3))/6,o=1/3,s=1/6,a=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;t.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var r,o,s,a,u,l=this.permMod12,c=this.perm,h=this.grad3,f=(t+e)*i,p=Math.floor(t+f),d=Math.floor(e+f),_=(p+d)*n,v=p-_,g=d-_,m=t-v,y=e-g;m>y?(a=1,u=0):(a=0,u=1);var b=m-a+n,w=y-u+n,x=m-1+2*n,j=y-1+2*n,T=255&p,A=255&d,E=.5-m*m-y*y;if(0>E)r=0;else{var P=3*l[T+c[A]];E*=E,r=E*E*(h[P]*m+h[P+1]*y)}var R=.5-b*b-w*w;if(0>R)o=0;else{var k=3*l[T+a+c[A+u]];R*=R,o=R*R*(h[k]*b+h[k+1]*w)}var S=.5-x*x-j*j;if(0>S)s=0;else{var F=3*l[T+1+c[A+1]];S*=S,s=S*S*(h[F]*x+h[F+1]*j)}return 70*(r+o+s)},noise3D:function(t,e,r){var i,n,a,u,l,c,h,f,p,d,_=this.permMod12,v=this.perm,g=this.grad3,m=(t+e+r)*o,y=Math.floor(t+m),b=Math.floor(e+m),w=Math.floor(r+m),x=(y+b+w)*s,j=y-x,T=b-x,A=w-x,E=t-j,P=e-T,R=r-A;E>=P?P>=R?(l=1,c=0,h=0,f=1,p=1,d=0):E>=R?(l=1,c=0,h=0,f=1,p=0,d=1):(l=0,c=0,h=1,f=1,p=0,d=1):R>P?(l=0,c=0,h=1,f=0,p=1,d=1):R>E?(l=0,c=1,h=0,f=0,p=1,d=1):(l=0,c=1,h=0,f=1,p=1,d=0);var k=E-l+s,S=P-c+s,F=R-h+s,C=E-f+2*s,O=P-p+2*s,I=R-d+2*s,M=E-1+3*s,U=P-1+3*s,D=R-1+3*s,N=255&y,L=255&b,B=255&w,V=.6-E*E-P*P-R*R;if(0>V)i=0;else{var z=3*_[N+v[L+v[B]]];V*=V,i=V*V*(g[z]*E+g[z+1]*P+g[z+2]*R)}var H=.6-k*k-S*S-F*F;if(0>H)n=0;else{var q=3*_[N+l+v[L+c+v[B+h]]];H*=H,n=H*H*(g[q]*k+g[q+1]*S+g[q+2]*F)}var X=.6-C*C-O*O-I*I;if(0>X)a=0;else{var Y=3*_[N+f+v[L+p+v[B+d]]];X*=X,a=X*X*(g[Y]*C+g[Y+1]*O+g[Y+2]*I)}var G=.6-M*M-U*U-D*D;if(0>G)u=0;else{var W=3*_[N+1+v[L+1+v[B+1]]];G*=G,u=G*G*(g[W]*M+g[W+1]*U+g[W+2]*D)}return 32*(i+n+a+u)},noise4D:function(t,e,r,i){var n,o,s,l,c,h=(this.permMod12,this.perm),f=this.grad4,p=(t+e+r+i)*a,d=Math.floor(t+p),_=Math.floor(e+p),v=Math.floor(r+p),g=Math.floor(i+p),m=(d+_+v+g)*u,y=d-m,b=_-m,w=v-m,x=g-m,j=t-y,T=e-b,A=r-w,E=i-x,P=0,R=0,k=0,S=0;j>T?P++:R++,j>A?P++:k++,j>E?P++:S++,T>A?R++:k++,T>E?R++:S++,A>E?k++:S++;var F,C,O,I,M,U,D,N,L,B,V,z;F=P>=3?1:0,C=R>=3?1:0,O=k>=3?1:0,I=S>=3?1:0,M=P>=2?1:0,U=R>=2?1:0,D=k>=2?1:0,N=S>=2?1:0,L=P>=1?1:0,B=R>=1?1:0,V=k>=1?1:0,z=S>=1?1:0;var H=j-F+u,q=T-C+u,X=A-O+u,Y=E-I+u,G=j-M+2*u,W=T-U+2*u,$=A-D+2*u,Z=E-N+2*u,K=j-L+3*u,Q=T-B+3*u,J=A-V+3*u,te=E-z+3*u,ee=j-1+4*u,re=T-1+4*u,ie=A-1+4*u,ne=E-1+4*u,oe=255&d,se=255&_,ae=255&v,ue=255&g,le=.6-j*j-T*T-A*A-E*E;if(0>le)n=0;else{var ce=h[oe+h[se+h[ae+h[ue]]]]%32*4;le*=le,n=le*le*(f[ce]*j+f[ce+1]*T+f[ce+2]*A+f[ce+3]*E)}var he=.6-H*H-q*q-X*X-Y*Y;if(0>he)o=0;else{var fe=h[oe+F+h[se+C+h[ae+O+h[ue+I]]]]%32*4;he*=he,o=he*he*(f[fe]*H+f[fe+1]*q+f[fe+2]*X+f[fe+3]*Y)}var pe=.6-G*G-W*W-$*$-Z*Z;if(0>pe)s=0;else{var de=h[oe+M+h[se+U+h[ae+D+h[ue+N]]]]%32*4;pe*=pe,s=pe*pe*(f[de]*G+f[de+1]*W+f[de+2]*$+f[de+3]*Z)}var _e=.6-K*K-Q*Q-J*J-te*te;if(0>_e)l=0;else{var ve=h[oe+L+h[se+B+h[ae+V+h[ue+z]]]]%32*4;_e*=_e,l=_e*_e*(f[ve]*K+f[ve+1]*Q+f[ve+2]*J+f[ve+3]*te)}var ge=.6-ee*ee-re*re-ie*ie-ne*ne;if(0>ge)c=0;else{var me=h[oe+1+h[se+1+h[ae+1+h[ue+1]]]]%32*4;ge*=ge,c=ge*ge*(f[me]*ee+f[me+1]*re+f[me+2]*ie+f[me+3]*ne)}return 27*(n+o+s+l+c)}},"undefined"!=typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof window&&(window.SimplexNoise=t),"undefined"!=typeof r&&(r.SimplexNoise=t),"undefined"!=typeof e&&(e.exports=t)}()},{}],276:[function(t,e){e.exports=t("./lib/operator")("add","+")},{"./lib/operator":277}],277:[function(t,e){function r(t,e){return function(r,i){r=0|+r,i=i||{};var n="scalars"in i?i.scalars:!0,o="vectors"in i?i.vectors:!0,s=n&&o,a=[];if(!n&&!o)throw new Error("Your function must accept either scalars or vectors");if(a.push("return function "+t+r+"(vec) {"),a.push("var i = arguments.length"),a.push("while (--i) {"),s&&a.push("if (Array.isArray(arguments[i])) {"),o)for(var u=0;r>u;u+=1)a.push("vec["+u+"] "+e+"= arguments[i]["+u+"]");if(s&&a.push("} else {"),n)for(var u=0;r>u;u+=1)a.push("vec["+u+"] "+e+"= arguments[i]");return s&&a.push("}"),a.push("}"),a.push("return vec"),a.push("}"),Function(a.join("\n"))()}}e.exports=r},{}],278:[function(t,e){e.exports=t("./lib/operator")("mult","*")},{"./lib/operator":277}],279:[function(t,e){function r(t){for(var e=0,r=0;r<t.length;r++)e+=t[r]*t[r];if(e=Math.sqrt(e),0===e)return Array.apply(null,new Array(t.length)).map(Number.prototype.valueOf,0);for(var r=0;r<t.length;r++)t[r]/=e;return t}e.exports=r},{}],280:[function(t,e){function r(t){t=0|+t;var e=[];e.push("return function normalize"+t+"(vec, scalar) {");for(var r=[],i=0;t>i;i+=1)r.push("vec["+i+"]*vec["+i+"]");e.push("var mag = Math.sqrt("+r.join("+")+")"),e.push("if (mag === 0) {");for(var i=0;t>i;i+=1)e.push("vec["+i+"] = 0");e.push("} else {");for(var i=0;t>i;i+=1)e.push("vec["+i+"] /= mag");return e.push("}"),e.push("return vec"),e.push("}"),Function(e.join("\n"))()}e.exports=r},{}],281:[function(t,e){e.exports=t("./lib/operator")("sub","-")},{"./lib/operator":277}],282:[function(t,e){function r(){this.position=[0,0],this.velocity=[0,0],this.radius=n(.5,2),this.scale=1,this.noisePosition=[0,0],this.life=0,this.totalLife=1e3}var i=t("as-number"),n=t("./random");e.exports=r,r.prototype.randomize=function(t,e){this.position[0]=Math.random()*i(t),this.position[1]=Math.random()*i(e)},r.prototype.scramble=function(t,e){this.noisePosition[0]=Math.random()*i(t),this.noisePosition[1]=Math.random()*i(e)}},{"./random":284,"as-number":123}],283:[function(t,e){function r(t){if(!(this instanceof r))return new r(t);t=t||{};var e=n(t.count,300);this.particles=[];for(var i=0;e>i;i++)this.particles.push(new o);this.noise=new s(256),this.noise.scale=n(t.noiseScale,.5),this.noise.seamless=!0,this.noise.smoothing=!1,this.noise.generate(),this.noiseOffset=t.noiseOffset||[0,0],this.angle=n(t.angle,2),this.explode=n(t.explode,0),this.randomize(t.width,t.height),this.triangles=[],this.triangulate(),this.driftSpeed=n(t.driftSpeed,.25),this.speed=n(t.speed,1),this.lifeDelay=t.lifeDelay||{min:2e3,max:3500}}var i=t("mixes"),n=t("as-number"),o=t("./Particle"),s=t("simplex-sampler"),a=t("vectors/add")(2),u=t("vectors/normalize")(2),l=t("vectors/mult")(2),c=t("vectors/sub")(2),h=t("delaunay-triangulate"),f=t("./random"),p=[0,0],d=[0,0],_=[0,0];i(r,{triangulate:function(){var t=this.particles.map(function(t){return t.position});this.triangles=h(t)},randomize:function(t,e){this.particles.forEach(function(r){r.randomize(t,e),r.scramble(t,e,1e3)})},update:function(t,e,r){r=Math.min(r,30);var i=1,n=20,o=this.noise,s=this.noiseOffset[0],h=this.noiseOffset[1],v=this.particles,g=this.explode,m=this.lifeDelay;d[0]=t/2,d[1]=e/2;for(var y=0;y<v.length;y++){var b=v[y],w=b.position[0],x=b.position[1],j=w*i*(o.size/t),T=x*i*(o.size/e),A=o.sample(j+s,T),E=o.sample(j+A*n,T+h);b.scale=2*(E/2+.5)*(b.life/b.totalLife);var P=E*Math.PI*this.angle;p[0]=Math.cos(P)*this.speed,p[1]=Math.sin(P)*this.speed,a(b.position,p),_[0]=b.position[0],_[1]=b.position[1],c(_,d),u(_),l(_,g),a(b.position,_),b.life-=r,b.life<=0&&(b.totalLife=b.life=f(m.min,m.max),b.randomize(t,e))}}}),e.exports=r},{"./Particle":282,"./random":284,"as-number":123,"delaunay-triangulate":135,mixes:265,"simplex-sampler":268,"vectors/add":276,"vectors/mult":278,"vectors/normalize":280,"vectors/sub":281}],284:[function(t,e){function r(t,e){return t+Math.random()*(e-t)}e.exports=r},{}],285:[function(t,e){e.exports=function(t){var e=document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),e.appendChild(r)},e.exports.byUrl=function(t){var e=document.getElementsByTagName("head")[0],r=document.createElement("link");r.rel="stylesheet",r.href=t,e.appendChild(r)}},{}],286:[function(t,e){e.exports=t("cssify")},{cssify:285}],287:[function(t,e){e.exports=t(265)},{xtend:288}],288:[function(t,e){e.exports=t(266)},{}],289:[function(t,e){e.exports=function(t,e,r){if("function"!=typeof e)throw new TypeError("`f` has to be a function");var i=[];return Object.keys(t).forEach(function(n){i.push(e.call(r||this,t[n],n,t))}),i}},{}],290:[function(t,e){e.exports=function(t){function e(t,e){return{view:t,create:i.bind(null,"create",t,e),dispose:i.bind(null,"dispose",t,e),show:i.bind(null,"show",t,e),hide:i.bind(null,"hide",t,e)}}function r(e,r,i){return t.all(e.map(function(t){return i(t,r)}))}var i=function(e,r,i){var n;return n="function"==typeof r[e]?t.method(r[e].bind(r))(i):t.resolve(i)};return e.create=i.bind(null,"create"),e.dispose=i.bind(null,"dispose"),e.show=i.bind(null,"show"),e.hide=i.bind(null,"hide"),e.all=function(t,i){return Array.isArray(t)||(t=[t]),{views:t,create:r.bind(null,t,i,e.create),show:r.bind(null,t,i,e.show),hide:r.bind(null,t,i,e.hide),dispose:r.bind(null,t,i,e.dispose)}},e}},{}],291:[function(t,e){var r=t("bluebird");e.exports=t("./base")(r)},{"./base":290,bluebird:295}],292:[function(t,e){"use strict";e.exports=function(e,r,i){function n(t,e,i){var n=r(t,o,i,e===!0&&t._isBound()?t._boundTo:void 0),s=n.promise();return s.isRejected()?s:(n.setHowMany(1),n.setUnwrap(),n.init(),s)}{var o=t("./some_promise_array.js")(i);t("./assert.js")}e.any=function(t){return n(t,!1,e.any)},e.prototype.any=function(){return n(this,!0,this.any)}}},{"./assert.js":293,"./some_promise_array.js":326}],293:[function(t,e){"use strict";e.exports=function(){var t=function(){function t(t){this.constructor$(t),this.message=t,this.name="AssertionError"}return t.prototype=new Error,t.prototype.constructor=t,t.prototype.constructor$=Error,t}();return function e(r,i){if(r!==!0){var n=new t(i);throw Error.captureStackTrace&&Error.captureStackTrace(n,e),console&&console.error&&console.error(n.stack+""),n}}}()},{}],294:[function(t,e){"use strict";function r(){this._isTickUsed=!1,this._length=0,this._lateBuffer=new n,this._functionBuffer=new n(75e3);var t=this;this.consumeFunctionBuffer=function(){t._consumeFunctionBuffer()}}var i=(t("./assert.js"),t("./schedule.js")),n=t("./queue.js"),o=t("./util.js").errorObj,s=t("./util.js").tryCatch1;r.prototype.haveItemsQueued=function(){return this._length>0},r.prototype.invokeLater=function(t,e,r){this._lateBuffer.push(t,e,r),this._queueTick()},r.prototype.invoke=function(t,e,r){var i=this._functionBuffer;i.push(t,e,r),this._length=i.length(),this._queueTick()},r.prototype._consumeFunctionBuffer=function(){for(var t=this._functionBuffer;t.length()>0;){var e=t.shift(),r=t.shift(),i=t.shift();e.call(r,i)}this._reset(),this._consumeLateBuffer()},r.prototype._consumeLateBuffer=function(){for(var t=this._lateBuffer;t.length()>0;){var e=t.shift(),r=t.shift(),i=t.shift(),n=s(e,r,i);if(n===o)throw this._queueTick(),n.e}},r.prototype._queueTick=function(){this._isTickUsed||(i(this.consumeFunctionBuffer),this._isTickUsed=!0)},r.prototype._reset=function(){this._isTickUsed=!1,this._length=0},e.exports=new r},{"./assert.js":293,"./queue.js":319,"./schedule.js":322,"./util.js":330}],295:[function(t,e){"use strict";var r=t("./promise.js")();e.exports=r},{"./promise.js":311}],296:[function(t,e){"use strict";e.exports=function(t){function e(t){var e="string"==typeof this?this:""+this;return t[e]}t.prototype.call=function(t){for(var e=arguments.length,r=new Array(e-1),i=1;e>i;++i)r[i-1]=arguments[i];return this._then(function(e){return e[t].apply(e,r)},void 0,void 0,void 0,void 0,this.call)},t.prototype.get=function(t){return this._then(e,void 0,void 0,t,void 0,this.get)}}},{}],297:[function(t,e){"use strict";e.exports=function(e,r){var i=t("./errors.js"),n=t("./async.js"),o=(t("./assert.js"),i.CancellationError),s={};e.prototype._cancel=function(){if(!this.isCancellable())return this;var t;if(void 0!==(t=this._cancellationParent))return void t.cancel(s);var e=new o;this._attachExtraTrace(e),this._rejectUnchecked(e)},e.prototype.cancel=function(t){return this.isCancellable()?t===s?(this._cancel(),this):(n.invokeLater(this._cancel,this,void 0),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=new e(r);return t._setTrace(this.uncancellable,this),t._follow(this),t._unsetCancellable(),this._isBound()&&t._setBoundTo(this._boundTo),t},e.prototype.fork=function(t,e,r){var i=this._then(t,e,r,void 0,void 0,this.fork);return i._setCancellable(),i._cancellationParent=void 0,i}}},{"./assert.js":293,"./async.js":294,"./errors.js":301}],298:[function(t,e){"use strict";e.exports=function(){function e(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t.toString();var i=/\[object [a-zA-Z0-9$_]+\]/;if(i.test(e))try{var n=JSON.stringify(t);e=n}catch(o){}0===e.length&&(e="(empty array)")}return"(<"+r(e)+">, no stack trace)"}function r(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function i(t,e){this.captureStackTrace(t,e)}var n=(t("./assert.js"),t("./util.js").inherits),o=t("./es5.js").defineProperty,s=new RegExp("\\b(?:[\\w.]*Promise(?:Array|Spawn)?\\$_\\w+|tryCatch(?:1|2|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),a=null,u=null,l=!1;n(i,Error),i.prototype.captureStackTrace=function(t,e){c(this,t,e)},i.possiblyUnhandledRejection=function(t){if("object"==typeof console){var e;if("object"==typeof t||"function"==typeof t){var r=t.stack;e="Possibly unhandled "+u(r,t)}else e="Possibly unhandled "+String(t);"function"==typeof console.error||"object"==typeof console.error?console.error(e):("function"==typeof console.log||"object"==typeof console.error)&&console.log(e)}},l="CapturedTrace$captureStackTrace"!==i.prototype.captureStackTrace.name,i.combine=function(t,e){for(var r=t.length-1,i=e.length-1;i>=0;--i){var n=e[i];if(t[r]!==n)break;t.pop(),r--}t.push("From previous event:");for(var o=t.concat(e),u=[],i=0,l=o.length;l>i;++i)s.test(o[i])||i>0&&!a.test(o[i])&&"From previous event:"!==o[i]||u.push(o[i]);return u},i.isSupported=function(){return"function"==typeof c};var c=function h(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){a=/^\s*at\s*/,u=function(t,r){return"string"==typeof t?t:void 0!==r.name&&void 0!==r.message?r.name+". "+r.message:e(r)};var t=Error.captureStackTrace;return function(e,r){t(e,r)}}var r=new Error;if(!l&&"string"==typeof r.stack&&"function"==typeof"".startsWith&&r.stack.startsWith("stackDetection@")&&"stackDetection"===h.name){o(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),a=/@/;var i=/[@\n]/;return u=function(t,r){return"string"==typeof t?r.name+". "+r.message+"\n"+t:void 0!==r.name&&void 0!==r.message?r.name+". "+r.message:e(r)},function(t,e){var r,n=e.name,o=(new Error).stack,s=o.split(i),a=s.length;for(r=0;a>r&&s[r]!==n;r+=2);s=s.slice(r+2),a=s.length-2;var u="";for(r=0;a>r;r+=2)u+=s[r],u+="@",u+=s[r+1],u+="\n";t.stack=u}}return u=function(t,r){return"string"==typeof t?t:"object"!=typeof r&&"function"!=typeof r||void 0===r.name||void 0===r.message?e(r):r.name+". "+r.message},null}();return i}},{"./assert.js":293,"./es5.js":303,"./util.js":330}],299:[function(t,e){"use strict";e.exports=function(e){function r(t,e,r){this._instances=t,this._callback=e,this._promise=r}function i(t,e){var r={},i=o(t,r,e);if(i===s)return i;var n=a(r);return n.length?(s.e=new TypeError("Catch filter must inherit from Error or be a simple predicate function"),s):i}var n=t("./util.js"),o=n.tryCatch1,s=n.errorObj,a=t("./es5.js").keys;return r.prototype.doFilter=function(t){for(var r=this._callback,n=this._promise,a=n._isBound()?n._boundTo:void 0,u=0,l=this._instances.length;l>u;++u){var c=this._instances[u],h=c===Error||null!=c&&c.prototype instanceof Error;if(h&&t instanceof c){var f=o(r,a,t);return f===s?(e.e=f.e,e):f}if("function"==typeof c&&!h){var p=i(c,t);if(p===s){this._promise._attachExtraTrace(s.e),t=s.e;break}if(p){var f=o(r,a,t);return f===s?(e.e=f.e,e):f}}}return e.e=t,e},r}},{"./es5.js":303,"./util.js":330}],300:[function(t,e){"use strict";var r=t("./util.js"),i=(t("./assert.js"),r.isPrimitive),n=r.wrapsPrimitiveReceiver;e.exports=function(t){var e=function(){return this},r=function(){throw this},o=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype["return"]=t.prototype.thenReturn=function(t){return n&&i(t)?this._then(o(t,2),void 0,void 0,void 0,void 0,this.thenReturn):this._then(e,void 0,void 0,t,void 0,this.thenReturn)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return n&&i(t)?this._then(o(t,1),void 0,void 0,void 0,void 0,this.thenThrow):this._then(r,void 0,void 0,t,void 0,this.thenThrow)}}},{"./assert.js":293,"./util.js":330}],301:[function(t,e){"use strict";function r(t){return(1&t)>0}function i(t){return(2&t)>0}function n(t){return 1|t}function o(t){return 2|t}function s(t){return-3&t}function a(t){var e;return y(t)&&void 0!==(e=t.__promiseHandled__)&&(t.__promiseHandled__=s(e)),t}function u(t){try{b(t,"__rejectionError__",d)}catch(e){}}function l(t){return null==t?!1:t instanceof d||t.__rejectionError__===d}function c(t){try{return b(t,"__promiseHandled__",0),!0}catch(e){return!1}}function h(t){return t instanceof w}function f(t){if(h(t)){var e=t.__promiseHandled__;return void 0===e?c(t):!r(e)}return!1}function p(t,e){function r(r){this.message="string"==typeof r?r:e,this.name=t,w.captureStackTrace&&w.captureStackTrace(this,this.constructor)}return m(r,w),r}function d(t){this.name="RejectionError",this.message=t,this.cause=t,t instanceof w?(this.message=t.message,this.stack=t.stack):w.captureStackTrace&&w.captureStackTrace(this,this.constructor)}var _=t("./global.js"),v=t("./es5.js").freeze,g=t("./util.js"),m=g.inherits,y=g.isObject,b=g.notEnumerableProp,w=_.Error,x=_.TypeError;"function"!=typeof x&&(x=p("TypeError","type error"));var j=_.RangeError;"function"!=typeof j&&(j=p("RangeError","range error"));var T=p("CancellationError","cancellation error"),A=p("TimeoutError","timeout error");m(d,w);var E="__BluebirdErrorTypes__",P=_[E];P||(P=v({CancellationError:T,TimeoutError:A,RejectionError:d}),b(_,E,P)),e.exports={Error:w,TypeError:x,RangeError:j,CancellationError:P.CancellationError,RejectionError:P.RejectionError,TimeoutError:P.TimeoutError,originatesFromRejection:l,markAsOriginatingFromRejection:u,attachDefaultState:c,ensureNotHandled:a,withHandledUnmarked:s,withHandledMarked:o,withStackAttached:n,isStackAttached:r,isHandled:i,canAttach:f}},{"./es5.js":303,"./global.js":307,"./util.js":330}],302:[function(t,e){"use strict";e.exports=function(e){function r(t){var r=new i(t),n=e.rejected(r),o=n._peekContext();return null!=o&&o._attachExtraTrace(r),n}var i=t("./errors.js").TypeError;return r}},{"./errors.js":301}],303:[function(t,e){function r(t){var e=[];for(var r in t)u.call(t,r)&&e.push(r);return e}function i(t,e,r){return t[e]=r.value,t}function n(t){return t}function o(t){try{return Object(t).constructor.prototype}catch(e){return c}}function s(t){try{return"[object Array]"===l.call(t)}catch(e){return!1}}var a=function(){"use strict";return void 0===this}();if(a)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a};else{var u={}.hasOwnProperty,l={}.toString,c={}.constructor.prototype;e.exports={isArray:s,keys:r,defineProperty:i,freeze:n,getPrototypeOf:o,isES5:a}}},{}],304:[function(t,e){"use strict";e.exports=function(e){function r(t){for(var e=this._settledValue,r=e.length,i=new Array(r),n=0,o=0;r>o;++o){var s=t[o];(void 0!==s||o in t)&&s&&(i[n++]=e[o])}return i.length=n,i}var i=(t("./assert.js"),t("./util.js").isArray,{ref:null});e.filter=function(t,n){return e.map(t,n,i)._then(r,void 0,void 0,i.ref,void 0,e.filter)},e.prototype.filter=function(t){return this.map(t,i)._then(r,void 0,void 0,i.ref,void 0,this.filter)}}},{"./assert.js":293,"./util.js":330}],305:[function(t,e){e.exports=function(e,r){function i(){return this}function n(){throw c(this),this}function o(t){return function(){return t}}function s(t){return function(){throw c(t),t}}function a(t,e,r){var u=h&&f(e);return r?t._then(u?i:o(e),p,void 0,e,void 0,a):t._then(u?n:s(e),p,void 0,e,void 0,a)}function u(t){var i=this.promise,n=this.handler,o=i._isBound()?n.call(i._boundTo):n();if(void 0!==o){var s=e._cast(o,u,void 0);if(e.is(s))return a(s,t,i.isFulfilled())}return i.isRejected()?(c(t),r.e=t,r):t}var l=t("./util.js"),c=t("./errors.js").ensureNotHandled,h=l.wrapsPrimitiveReceiver,f=l.isPrimitive,p=l.thrower;e.prototype.lastly=e.prototype["finally"]=function(t){if("function"!=typeof t)return this.then();var e={promise:this,handler:t};return this._then(u,u,void 0,e,void 0,this.lastly)}}},{"./errors.js":301,"./util.js":330}],306:[function(t,e){"use strict";e.exports=function(e,r,i){var n=t("./promise_spawn.js")(e,i),o=t("./errors.js"),s=o.TypeError;e.coroutine=function(t){if("function"!=typeof t)throw new s("generatorFunction must be a function");var e=n;return function r(){var i=t.apply(this,arguments),n=new e(void 0,void 0,r);return n._generator=i,n._next(void 0),n.promise()}},e.spawn=function(t){if("function"!=typeof t)return r("generatorFunction must be a function");var i=new n(t,this,e.spawn),o=i.promise();return i._run(e.spawn),o}}},{"./errors.js":301,"./promise_spawn.js":315}],307:[function(t,e){(function(t,r){"use strict";e.exports=function(){return"undefined"!=typeof this?this:"undefined"!=typeof t&&"undefined"!=typeof r&&"string"==typeof t.execPath?r:"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator&&null!==navigator&&"string"==typeof navigator.appName?void 0!==window.wrappedJSObject?window.wrappedJSObject:window:void 0}()}).call(this,t("Gd+qZh"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"Gd+qZh":338}],308:[function(t,e){"use strict";e.exports=function(e,r,i,n){function o(t){var n=this,s=void 0;"function"!=typeof n&&(s=n.receiver,n=n.fn);var a=!1,u=new Array(t.length);if(void 0===s){for(var l=0,c=t.length;c>l;++l)if(void 0!==t[l]||l in t){var h=n(t[l],l,c);if(!a){var f=e._cast(h,o,void 0);if(f instanceof e){if(f.isFulfilled()){u[l]=f._settledValue;continue}a=!0,h=f}}u[l]=h}}else for(var l=0,c=t.length;c>l;++l)if(void 0!==t[l]||l in t){var h=n.call(s,t[l],l,c);if(!a){var f=e._cast(h,o,void 0);if(f instanceof e){if(f.isFulfilled()){u[l]=f._settledValue;continue}a=!0,h=f}}u[l]=h}return a?r(u,i,o,void 0).promise():u}function s(t,e,s,a,u){if("function"!=typeof e)return n("fn must be a function");s===!0&&t._isBound()&&(e={fn:e,receiver:t._boundTo});var l=r(t,i,a,s===!0&&t._isBound()?t._boundTo:void 0).promise();return void 0!==u&&(u.ref=l),l._then(o,void 0,void 0,e,void 0,a)}t("./assert.js");e.prototype.map=function(t,e){return s(this,t,!0,this.map,e)},e.map=function(t,r,i){return s(t,r,!1,e.map,i)}}},{"./assert.js":293}],309:[function(t,e){"use strict";e.exports=function(e){function r(t){throw t}function i(t,e){var i=this,n=a(i,e,null,t);n===l&&s.invokeLater(r,void 0,n.e)}function n(t,e){var i=this,n=u(i,e,t);n===l&&s.invokeLater(r,void 0,n.e)}var o=t("./util.js"),s=t("./async.js"),a=(t("./assert.js"),o.tryCatch2),u=o.tryCatch1,l=o.errorObj;e.prototype.nodeify=function(t){return"function"==typeof t&&this._then(i,n,void 0,t,this._isBound()?this._boundTo:null,this.nodeify),this}}},{"./assert.js":293,"./async.js":294,"./util.js":330}],310:[function(t,e){"use strict";e.exports=function(e,r){var i=(t("./assert.js"),t("./util.js")),n=t("./async.js"),o=i.tryCatch1,s=i.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0,this.progressed)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[t+2-5]},e.prototype._doProgressWith=function(t){var r=t.value,i=t.handler,n=t.promise,a=t.receiver;this._pushContext();var u=o(i,a,r);this._popContext(),u===s?null!=u.e&&"StopProgressPropagation"===u.e.name?u.e.__promiseHandled__=2:(n._attachExtraTrace(u.e),n._progress(u.e)):e.is(u)?u._then(n._progress,null,null,n,void 0,this._progress):n._progress(u)},e.prototype._progressUnchecked=function(t){if(this.isPending())for(var i=this._length(),o=0;i>o;o+=5){var s=this._progressHandlerAt(o),a=this._promiseAt(o);if(e.is(a))"function"==typeof s?n.invoke(this._doProgressWith,this,{handler:s,promise:a,receiver:this._receiverAt(o),value:t}):n.invoke(a._progress,a,t);else{var u=this._receiverAt(o);"function"==typeof s?s.call(u,t,a):e.is(u)&&u._isProxied()?u._progressUnchecked(t):r(u,a)&&u._promiseProgressed(t,a)}}}}},{"./assert.js":293,"./async.js":294,"./util.js":330}],311:[function(t,e){(function(r){"use strict";e.exports=function(){function e(t){return void 0===t?!1:t instanceof n}function i(t,e){return t instanceof d?e>=0:!1}function n(t){if("function"!=typeof t)throw new P("the promise constructor requires a resolver function");if(this.constructor!==n)throw new P("the promise constructor cannot be invoked directly");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,t!==h&&this._resolveFromResolver(t)}function o(t,e,r){return s(t,d,r,e===!0&&t._isBound()?t._boundTo:void 0).promise()}function s(t,r,i,o){var a=null;return m(t)?a=t:(a=n._cast(t,i,void 0),a!==t?a._setBoundTo(o):e(a)||(a=null)),null!==a?new r(a,"function"==typeof i?i:s,o):{promise:function(){return B("expecting an array, a promise or a thenable")}}}var a=t("./global.js"),u=(t("./assert.js"),t("./util.js")),l=t("./async.js"),c=t("./errors.js"),h=function(){},f={},p={e:null},d=t("./promise_array.js")(n,h),_=t("./captured_trace.js")(),v=t("./catch_filter.js")(p),g=t("./promise_resolver.js"),m=u.isArray,y=u.notEnumerableProp,b=u.isObject,w=u.ensurePropertyExpansion,x=u.errorObj,j=u.tryCatch1,T=u.tryCatch2,A=u.tryCatchApply,E=c.RangeError,P=c.TypeError,R=c.CancellationError,k=c.TimeoutError,S=c.RejectionError,F=c.originatesFromRejection,C=c.markAsOriginatingFromRejection,O=c.ensureNotHandled,I=c.withHandledMarked,M=c.withStackAttached,U=c.isStackAttached,D=c.isHandled,N=c.canAttach,L=u.thrower,B=t("./errors_api_rejection")(n),V=function(){return new P("circular promise resolution chain")};n.prototype.bind=function(t){var e=new n(h);return z&&e._setTrace(this.bind,this),e._follow(this),e._setBoundTo(t),this._cancellable()&&(e._setCancellable(),e._cancellationParent=this),e},n.prototype.toString=function(){return"[object Promise]"
},n.prototype.caught=n.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var r,i=new Array(e-1),n=0;for(r=0;e-1>r;++r){var o=arguments[r];if("function"!=typeof o){var s=new P("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(s),void l.invoke(this._reject,this,s)}i[n++]=o}i.length=n,t=arguments[r],this._resetTrace(this.caught);var a=new v(i,t,this);return this._then(void 0,a.doFilter,void 0,a,void 0,this.caught)}return this._then(void 0,t,void 0,void 0,void 0,this.caught)},n.prototype.then=function(t,e,r){return this._then(t,e,r,void 0,void 0,this.then)},n.prototype.done=function(t,e,r){var i=this._then(t,e,r,void 0,void 0,this.done);i._setIsFinal()},n.prototype.spread=function(t,e){return this._then(t,e,void 0,f,void 0,this.spread)},n.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},n.prototype.isRejected=function(){return(134217728&this._bitField)>0},n.prototype.isPending=function(){return!this.isResolved()},n.prototype.isResolved=function(){return(402653184&this._bitField)>0},n.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},n.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this._settledValue,t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this._settledValue,t.isRejected=!0),t},n.prototype.all=function(){return o(this,!0,this.all)},n.is=e,n.all=function(t){return o(t,!1,n.all)},n.join=function(){for(var t=arguments.length,e=new Array(t),r=0;t>r;++r)e[r]=arguments[r];return s(e,d,n.join,void 0).promise()},n.resolve=n.fulfilled=function(t,e){var r=new n(h);return z&&r._setTrace("function"==typeof e?e:n.resolve,void 0),r._tryFollow(t)?r:(r._cleanValues(),r._setFulfilled(),r._settledValue=t,r)},n.reject=n.rejected=function(t){var e=new n(h);return z&&e._setTrace(n.reject,void 0),C(t),e._cleanValues(),e._setRejected(),e._settledValue=t,e},n.prototype.error=function(t){return this.caught(F,t)},n.prototype._resolveFromSyncValue=function(t,e){if(t===x)this._cleanValues(),this._setRejected(),this._settledValue=t.e;else{var r=n._cast(t,e,void 0);r instanceof n?this._follow(r):(this._cleanValues(),this._setFulfilled(),this._settledValue=t)}},n.method=function(t){if("function"!=typeof t)throw new P("fn must be a function");return function e(){var r;switch(arguments.length){case 0:r=j(t,this,void 0);break;case 1:r=j(t,this,arguments[0]);break;case 2:r=T(t,this,arguments[0],arguments[1]);break;default:for(var i=arguments.length,o=new Array(i),s=0;i>s;++s)o[s]=arguments[s];r=A(t,o,this)}var a=new n(h);return z&&a._setTrace(e,void 0),a._resolveFromSyncValue(r,e),a}},n["try"]=n.attempt=function(t,e,r){if("function"!=typeof t)return B("fn must be a function");var i=m(e)?A(t,e,r):j(t,r,e),o=new n(h);return z&&o._setTrace(n.attempt,void 0),o._resolveFromSyncValue(i,n.attempt),o},n.defer=n.pending=function(t){var e=new n(h);return z&&e._setTrace("function"==typeof t?t:n.defer,void 0),new g(e)},n.bind=function(t){var e=new n(h);return z&&e._setTrace(n.bind,void 0),e._setFulfilled(),e._setBoundTo(t),e},n.cast=function(t,e){"function"!=typeof e&&(e=n.cast);var r=n._cast(t,e,void 0);return r instanceof n?r:n.resolve(r,e)},n.onPossiblyUnhandledRejection=function(t){_.possiblyUnhandledRejection="function"==typeof t?t:void 0};var z=!1||!("undefined"==typeof r||"string"!=typeof r.execPath||"object"!=typeof r.env||!r.env.BLUEBIRD_DEBUG&&"development"!==r.env.NODE_ENV);n.longStackTraces=function(){if(l.haveItemsQueued()&&z===!1)throw new Error("cannot enable long stack traces after promises have been created");z=_.isSupported()},n.hasLongStackTraces=function(){return z&&_.isSupported()},n.prototype._setProxyHandlers=function(t,e){var r=this._length();if(r>=4194298&&(r=0,this._setLength(0)),0===r)this._promise0=e,this._receiver0=t;else{var i=r-5;this[i+3]=e,this[i+4]=t,this[i+0]=this[i+1]=this[i+2]=void 0}this._setLength(r+5)},n.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},n.prototype._proxyPromise=function(t){t._setProxied(),this._setProxyHandlers(t,-1)},n.prototype._then=function(t,e,r,i,o,s){var a=void 0!==o,u=a?o:new n(h);if(z&&!a){var c=this._peekContext()===this._traceParent;u._traceParent=c?this._traceParent:this,u._setTrace("function"==typeof s?s:this._then,this)}!a&&this._isBound()&&u._setBoundTo(this._boundTo);var f=this._addCallbacks(t,e,r,u,i);return!a&&this._cancellable()&&(u._setCancellable(),u._cancellationParent=this),this.isResolved()&&l.invoke(this._queueSettleAt,this,f),u},n.prototype._length=function(){return 4194303&this._bitField},n.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},n.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},n.prototype._setLength=function(t){this._bitField=-4194304&this._bitField|4194303&t},n.prototype._cancellable=function(){return(67108864&this._bitField)>0},n.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},n.prototype._setRejected=function(){this._bitField=134217728|this._bitField},n.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},n.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},n.prototype._isFinal=function(){return(33554432&this._bitField)>0},n.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},n.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},n.prototype._receiverAt=function(t){var e;return e=0===t?this._receiver0:this[t+4-5],this._isBound()&&void 0===e?this._boundTo:e},n.prototype._promiseAt=function(t){return 0===t?this._promise0:this[t+3-5]},n.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[t+0-5]},n.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[t+1-5]},n.prototype._unsetAt=function(t){0===t?this._fulfillmentHandler0=this._rejectionHandler0=this._progressHandler0=this._promise0=this._receiver0=void 0:this[t-5+0]=this[t-5+1]=this[t-5+2]=this[t-5+3]=this[t-5+4]=void 0},n.prototype._resolveFromResolver=function(t){function e(t){i._tryFollow(t)||i._fulfill(t)}function r(t){i._attachExtraTrace(t),C(t),i._reject(t)}var i=this,n=z;n&&(this._setTrace(this._resolveFromResolver,void 0),this._pushContext());var o=T(t,void 0,e,r);n&&this._popContext(),void 0!==o&&o===x&&i._reject(o.e)},n.prototype._addCallbacks=function(t,e,r,i,n){var o=this._length();if(o>=4194298&&(o=0,this._setLength(0)),0===o)this._promise0=i,void 0!==n&&(this._receiver0=n),"function"==typeof t&&(this._fulfillmentHandler0=t),"function"==typeof e&&(this._rejectionHandler0=e),"function"==typeof r&&(this._progressHandler0=r);else{var s=o-5;this[s+3]=i,this[s+4]=n,this[s+0]="function"==typeof t?t:void 0,this[s+1]="function"==typeof e?e:void 0,this[s+2]="function"==typeof r?r:void 0}return this._setLength(o+5),o},n.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=8388608|this._bitField,this._boundTo=t):this._bitField=-8388609&this._bitField},n.prototype._isBound=function(){return 8388608===(8388608&this._bitField)},n.prototype._spreadSlowCase=function(t,e,r,i){var n=s(r,d,this._spreadSlowCase,i).promise()._then(function(){return t.apply(i,arguments)},void 0,void 0,f,void 0,this._spreadSlowCase);e._follow(n)},n.prototype._markHandled=function(t){if("object"==typeof t&&null!==t){var e=t.__promiseHandled__;void 0===e?y(t,"__promiseHandled__",2):t.__promiseHandled__=I(e)}},n.prototype._callSpread=function(t,r,i,o){var s=this._isBound()?this._boundTo:void 0;if(m(i))for(var a=this._settlePromiseFromHandler,u=0,l=i.length;l>u;++u)if(e(n._cast(i[u],a,void 0)))return void this._spreadSlowCase(t,r,i,s);return o&&r._pushContext(),A(t,i,s)},n.prototype._callHandler=function(t,e,r,i,n){var o;return e!==f||this.isRejected()?(n&&r._pushContext(),o=j(t,e,i)):o=this._callSpread(t,r,i,n),n&&r._popContext(),o},n.prototype._settlePromiseFromHandler=function(t,r,i,o){if(!e(o))return void t.call(r,i,o);this.isRejected()&&this._markHandled(i);var s=z,a=this._callHandler(t,r,o,i,s);if(!o._isFollowing())if(a===x||a===o||a===p){var u=a===o?V():O(a.e);a!==p&&o._attachExtraTrace(u),o._rejectUnchecked(u)}else{var l=n._cast(a,s?this._settlePromiseFromHandler:void 0,o);e(l)?(o._follow(l),l._cancellable()&&(o._cancellationParent=l,o._setCancellable())):o._fulfillUnchecked(a)}},n.prototype._follow=function(t){this._setFollowing(),t.isPending()?(t._cancellable()&&(this._cancellationParent=t,this._setCancellable()),t._proxyPromise(this)):t.isFulfilled()?this._fulfillUnchecked(t._settledValue):this._rejectUnchecked(t._settledValue),z&&null==t._traceParent&&(t._traceParent=this)},n.prototype._tryFollow=function(t){if(this._isFollowingOrFulfilledOrRejected()||t===this)return!1;var r=n._cast(t,this._tryFollow,void 0);return e(r)?(this._follow(r),!0):!1},n.prototype._resetTrace=function(t){if(z){var e=this._peekContext(),r=void 0===e;this._trace=new _("function"==typeof t?t:this._resetTrace,r)}},n.prototype._setTrace=function(t,e){if(z){var r=this._peekContext();this._traceParent=r;var i=void 0===r;this._trace=void 0!==e&&e._traceParent===r?e._trace:new _("function"==typeof t?t:this._setTrace,i)}return this},n.prototype._attachExtraTrace=function(t){if(z&&N(t)){var e=this,r=t.stack;r="string"==typeof r?r.split("\n"):[];for(var i=1;null!=e&&null!=e._trace;)r=_.combine(r,e._trace.stack.split("\n")),e=e._traceParent;var n=Error.stackTraceLimit+i,o=r.length;o>n&&(r.length=n),t.stack=r.length<=i?"(No stack trace)":r.join("\n"),t.__promiseHandled__=M(t.__promiseHandled__)}},n.prototype._notifyUnhandledRejection=function(t){D(t.__promiseHandled__)||(t.__promiseHandled__=I(t.__promiseHandled__),_.possiblyUnhandledRejection(t,this))},n.prototype._unhandledRejection=function(t){D(t.__promiseHandled__)||l.invokeLater(this._notifyUnhandledRejection,this,t)},n.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},n.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},n.prototype._reject=function(t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t)},n.prototype._settlePromiseAt=function(t){var e=this.isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),r=this._settledValue,o=this._receiverAt(t),s=this._promiseAt(t);if("function"==typeof e)this._settlePromiseFromHandler(e,o,r,s);else{var a=!1,u=this.isFulfilled();void 0!==o&&(o instanceof n&&o._isProxied()?(o._unsetProxied(),u?o._fulfillUnchecked(r):o._rejectUnchecked(r),a=!0):i(o,s)&&(u?o._promiseFulfilled(r,s):o._promiseRejected(r,s),a=!0)),a||(u?s._fulfill(r):s._reject(r))}t>=256&&this._queueGC()},n.prototype._isProxied=function(){return 4194304===(4194304&this._bitField)},n.prototype._setProxied=function(){this._bitField=4194304|this._bitField},n.prototype._unsetProxied=function(){this._bitField=-4194305&this._bitField},n.prototype._isGcQueued=function(){return-1073741824===(-1073741824&this._bitField)},n.prototype._setGcQueued=function(){this._bitField=-1073741824|this._bitField},n.prototype._unsetGcQueued=function(){this._bitField=1073741823&this._bitField},n.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),l.invokeLater(this._gc,this,void 0))},n.prototype._gc=function(){var t=this._length();this._unsetAt(0);for(var e=0;t>e;e++)delete this[e];this._setLength(0),this._unsetGcQueued()},n.prototype._queueSettleAt=function(t){l.invoke(this._settlePromiseAt,this,t)},n.prototype._fulfillUnchecked=function(t){if(this.isPending()){if(t===this){var e=V();return this._attachExtraTrace(e),this._rejectUnchecked(e)}this._cleanValues(),this._setFulfilled(),this._settledValue=t;var r=this._length();r>0&&l.invoke(this._fulfillPromises,this,r)}},n.prototype._fulfillPromises=function(t){t=this._length();for(var e=0;t>e;e+=5)this._settlePromiseAt(e)},n.prototype._rejectUnchecked=function(t){if(this.isPending()){if(t===this){var e=V();return this._attachExtraTrace(e),this._rejectUnchecked(e)}if(this._cleanValues(),this._setRejected(),this._settledValue=t,this._isFinal())return void l.invokeLater(L,void 0,t);var r=this._length();r>0?l.invoke(this._rejectPromises,this,r):this._ensurePossibleRejectionHandled(t)}},n.prototype._rejectPromises=function(t){t=this._length();for(var r=!1,n=0;t>n;n+=5){var o=this._rejectionHandlerAt(n);if(!r)if("function"==typeof o)r=!0;else{var s=this._promiseAt(n);if(e(s)&&s._length()>0)r=!0;else{var a=this._receiverAt(n);(e(a)&&a._length()>0||i(a,s))&&(r=!0)}}this._settlePromiseAt(n)}r||this._ensurePossibleRejectionHandled(this._settledValue)},n.prototype._ensurePossibleRejectionHandled=function(t){if(void 0!==_.possiblyUnhandledRejection&&b(t)){var e=t.__promiseHandled__,r=t;if(void 0===e)r=w(t,"__promiseHandled__",0),e=0;else if(D(e))return;U(e)||this._attachExtraTrace(r),l.invoke(this._unhandledRejection,this,r)}};var H=[];n.prototype._peekContext=function(){var t=H.length-1;return t>=0?H[t]:void 0},n.prototype._pushContext=function(){z&&H.push(this)},n.prototype._popContext=function(){z&&H.pop()};var q=a.Promise;return n.noConflict=function(){return a.Promise===n&&(a.Promise=q),n},_.isSupported()||(n.longStackTraces=function(){},z=!1),n._makeSelfResolutionError=V,t("./finally.js")(n,p),t("./direct_resolve.js")(n),t("./thenables.js")(n),n.RangeError=E,n.CancellationError=R,n.TimeoutError=k,n.TypeError=P,n.RejectionError=S,t("./timers.js")(n,h),t("./synchronous_inspection.js")(n),t("./any.js")(n,s,d),t("./race.js")(n,h),t("./call_get.js")(n),t("./filter.js")(n,s,d,B),t("./generators.js")(n,B,h),t("./map.js")(n,s,d,B),t("./nodeify.js")(n),t("./promisify.js")(n,h),t("./props.js")(n,d),t("./reduce.js")(n,s,d,B),t("./settle.js")(n,s,d),t("./some.js")(n,s,d,B),t("./progress.js")(n,i),t("./cancel.js")(n,h),n.prototype=n.prototype,n}}).call(this,t("Gd+qZh"))},{"./any.js":292,"./assert.js":293,"./async.js":294,"./call_get.js":296,"./cancel.js":297,"./captured_trace.js":298,"./catch_filter.js":299,"./direct_resolve.js":300,"./errors.js":301,"./errors_api_rejection":302,"./filter.js":304,"./finally.js":305,"./generators.js":306,"./global.js":307,"./map.js":308,"./nodeify.js":309,"./progress.js":310,"./promise_array.js":312,"./promise_resolver.js":314,"./promisify.js":316,"./props.js":318,"./race.js":320,"./reduce.js":321,"./settle.js":323,"./some.js":325,"./synchronous_inspection.js":327,"./thenables.js":328,"./timers.js":329,"./util.js":330,"Gd+qZh":338}],312:[function(t,e){"use strict";e.exports=function(e,r){function i(t){switch(t){case-1:return void 0;case-2:return[];case-3:return{}}}function n(t,i,n){var o=this._promise=new e(r),s=void 0;e.is(t)&&(s=t,t._cancellable()&&(o._setCancellable(),o._cancellationParent=t),t._isBound()&&o._setBoundTo(n)),o._setTrace(i,s),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var o=(t("./assert.js"),t("./errors.js").ensureNotHandled),s=t("./util.js"),a=t("./async.js"),u={}.hasOwnProperty,l=s.isArray;return n.PropertiesPromiseArray=function(){},n.prototype.length=function(){return this._length},n.prototype.promise=function(){return this._promise},n.prototype._init=function(t,r){var o=this._values;if(e.is(o)){if(!o.isFulfilled())return o.isPending()?void o._then(this._init,this._reject,void 0,this,r,this.constructor):void this._reject(o._settledValue);if(o=o._settledValue,!l(o)){var s=new e.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(s)}this._values=o}if(0===o.length)return void this._resolve(i(r));var c,h=o.length,f=h;c=this instanceof n.PropertiesPromiseArray?this._values:new Array(h);for(var p=!1,d=0;h>d;++d){var _=o[d];if(void 0!==_||u.call(o,d)){var v=e._cast(_,void 0,void 0);v instanceof e&&v.isPending()?v._proxyPromiseArray(this,d):p=!0,c[d]=v}else f--}if(0===f)return void this._resolve(-2===r?c:i(r));if(this._values=c,this._length=f,p){var g=f===h?this._scanDirectValues:this._scanDirectValuesHoled;a.invoke(g,this,h)}},n.prototype._settlePromiseAt=function(t){var r=this._values[t];e.is(r)?r.isFulfilled()?this._promiseFulfilled(r._settledValue,t):r.isRejected()&&this._promiseRejected(r._settledValue,t):this._promiseFulfilled(r,t)},n.prototype._scanDirectValuesHoled=function(t){for(var e=0;t>e&&!this._isResolved();++e)u.call(this._values,e)&&this._settlePromiseAt(e)},n.prototype._scanDirectValues=function(t){for(var e=0;t>e&&!this._isResolved();++e)this._settlePromiseAt(e)},n.prototype._isResolved=function(){return null===this._values},n.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},n.prototype.__hardReject__=n.prototype._reject=function(t){o(t),this._values=null,this._promise._attachExtraTrace(t),this._promise._reject(t)},n.prototype._promiseProgressed=function(t,e){this._isResolved()||this._promise._progress({index:e,value:t})},n.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){this._values[e]=t;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)}},n.prototype._promiseRejected=function(t){this._isResolved()||(this._totalResolved++,this._reject(t))},n}},{"./assert.js":293,"./async.js":294,"./errors.js":301,"./util.js":330}],313:[function(t,e){"use strict";function r(t){void 0!==t?(this._bitField=t._bitField,this._settledValue=t.isResolved()?t._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}var i=t("./errors.js").TypeError;r.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},r.prototype.isRejected=function(){return(134217728&this._bitField)>0},r.prototype.isPending=function(){return 0===(402653184&this._bitField)},r.prototype.value=function(){if(!this.isFulfilled())throw new i("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue},r.prototype.error=function(){if(!this.isRejected())throw new i("cannot get rejection reason of a non-rejected promise");return this._settledValue},e.exports=r},{"./errors.js":301}],314:[function(t,e){"use strict";function r(t){return t instanceof Error&&p.getPrototypeOf(t)===Error.prototype}function i(t){var e;return e=r(t)?new c(t):t,u.markAsOriginatingFromRejection(e),e}function n(t){function e(e,r){if(e){var n=i(a(e));t._attachExtraTrace(n),t._reject(n)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),u=1;o>u;++u)s[u-1]=arguments[u];t._fulfill(s)}else t._fulfill(r)}return e}var o,s=t("./util.js"),a=s.maybeWrapAsError,u=t("./errors.js"),l=u.TimeoutError,c=u.RejectionError,h=t("./async.js"),f=s.haveGetters,p=t("./es5.js");if(o=f?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=n(t),this.callback=this.asCallback},f){var d={get:function(){return n(this.promise)}};p.defineProperty(o.prototype,"asCallback",d),p.defineProperty(o.prototype,"callback",d)}o._nodebackForPromise=n,o.prototype.toString=function(){return"[object PromiseResolver]"},o.prototype.resolve=o.prototype.fulfill=function(t){var e=this.promise;e._tryFollow(t)||h.invoke(e._fulfill,e,t)},o.prototype.reject=function(t){var e=this.promise;u.markAsOriginatingFromRejection(t),e._attachExtraTrace(t),h.invoke(e._reject,e,t)},o.prototype.progress=function(t){h.invoke(this.promise._progress,this.promise,t)},o.prototype.cancel=function(){h.invoke(this.promise.cancel,this.promise,void 0)},o.prototype.timeout=function(){this.reject(new l("timeout"))},o.prototype.isResolved=function(){return this.promise.isResolved()},o.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=o},{"./async.js":294,"./errors.js":301,"./es5.js":303,"./util.js":330}],315:[function(t,e){"use strict";e.exports=function(e,r){function i(t,i,n){var o=this._promise=new e(r);o._setTrace(n,void 0),this._generatorFunction=t,this._receiver=i,this._generator=void 0}var n=t("./errors.js"),o=n.TypeError,s=n.ensureNotHandled,a=t("./util.js"),u=a.isArray,l=a.errorObj,c=a.tryCatch1;return i.prototype.promise=function(){return this._promise},i.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},i.prototype._continue=function h(t){if(t===l)return this._generator=void 0,this._promise._attachExtraTrace(t.e),void this._promise._reject(t.e);var r=t.value;if(t.done===!0)this._generator=void 0,this._promise._fulfill(r);else{var i=e._cast(r,h,void 0);if(!(i instanceof e)){if(!u(i))return void this._throw(new o("A value was yielded that could not be treated as a promise"));i=e.all(i)}i._then(this._next,this._throw,void 0,this,null,void 0)}},i.prototype._throw=function(t){s(t),this._promise._attachExtraTrace(t),this._continue(c(this._generator["throw"],this._generator,t))},i.prototype._next=function(t){this._continue(c(this._generator.next,this._generator,t))},i}},{"./errors.js":301,"./util.js":330}],316:[function(t,e){"use strict";e.exports=function(e,r){function i(t){return t.__isPromisified__===!0}function n(t,i,n){function o(e){for(var r=new Array(e),n=0,o=r.length;o>n;++n)r[n]="a"+(n+1);var s=e>0?",":"";return"string"==typeof t&&i===u?"this['"+t+"']("+r.join(",")+s+" fn);break;":(void 0===i?"callback("+r.join(",")+s+" fn);":"callback.call("+(i===u?"this":"receiver")+", "+r.join(",")+s+" fn);")+"break;"}function s(){return"var args = new Array(len + 1);var i = 0;for (var i = 0; i < len; ++i) {    args[i] = arguments[i];}args[i] = fn;"}var a="string"==typeof n?n+"Async":"promisified";return new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","var ret = function "+a+'(a1, a2, a3, a4, a5) {"use strict";var len = arguments.length;var promise = new Promise(INTERNAL);promise._setTrace('+a+", void 0);var fn = nodebackForPromise(promise);try{switch(len) {case 1:"+o(1)+"case 2:"+o(2)+"case 3:"+o(3)+"case 0:"+o(0)+"case 4:"+o(4)+"case 5:"+o(5)+"default: "+s()+("string"==typeof t?"this['"+t+"'].apply(":"callback.apply(")+(i===u?"this":"receiver")+", args); break;}}catch(e){ var wrapped = maybeWrapAsError(e);promise._attachExtraTrace(wrapped);promise._reject(wrapped);}return promise;}; ret.__isPromisified__ = true; return ret;")(e,t,i,f,p,h,r)}function o(t,i){function n(){var o=i;i===u&&(o=this),"string"==typeof t&&(t=o[t]);var s=new e(r);s._setTrace(n,void 0);var a=h(s);try{t.apply(o,f(arguments,a))}catch(l){var c=p(l);s._attachExtraTrace(c),s._reject(c)}return s}return n.__isPromisified__=!0,n}function s(){}function a(t,e,r){if(r){for(var i=y(t),n=0,o=i.length;o>n;n+=2){var a=i[n],l=i[n+1],c=a+"__beforePromisified__",h=a+"Async";_(t,c,l),t[h]=b(c,u,a)}return i.length>16&&(s.prototype=t),t}return b(t,e,void 0)}var u={},l=t("./util.js"),c=t("./es5.js"),h=t("./promise_resolver.js")._nodebackForPromise,f=l.withAppended,p=l.maybeWrapAsError,d=l.canEvaluate,_=l.notEnumerableProp,v=l.deprecated,g=(t("./assert.js"),new RegExp("__beforePromisified__$")),m={}.hasOwnProperty,y=function(){if(c.isES5){var t=Object.create,e=Object.getOwnPropertyDescriptor;return function(r){for(var n=r,o=[],s=t(null);null!==r;){for(var a=c.keys(r),u=0,l=a.length;l>u;++u){var h=a[u];if(!(s[h]||g.test(h)||m.call(n,h+"__beforePromisified__"))){s[h]=!0;var f=e(r,h);null==f||"function"!=typeof f.value||i(f.value)||o.push(h,f.value)}}r=c.getPrototypeOf(r)}return o}}return function(t){var e=[];for(var r in t)if(!g.test(r)&&!m.call(t,r+"__beforePromisified__")){var n=t[r];"function"!=typeof n||i(n)||e.push(r,n)}return e}}(),b=d?n:o;e.promisify=function(t,e){if("object"==typeof t&&null!==t)return v("Promise.promisify for promisifying entire objects is deprecated. Use Promise.promisifyAll instead."),a(t,e,!0);if("function"!=typeof t)throw new TypeError("fn must be a function");return i(t)?t:a(t,arguments.length<2?u:e,!1)},e.promisifyAll=function(t){if("function"!=typeof t&&"object"!=typeof t)throw new TypeError("the target of promisifyAll must be an object or a function");return a(t,void 0,!0)}}},{"./assert.js":293,"./es5.js":303,"./promise_resolver.js":314,"./util.js":330}],317:[function(t,e){"use strict";e.exports=function(e,r){function i(t,e,r){for(var i=s.keys(t),n=new Array(i.length),o=0,a=n.length;a>o;++o)n[o]=t[i[o]];if(this.constructor$(n,e,r),!this._isResolved())for(var o=0,a=i.length;a>o;++o)n.push(i[o])}var n=(t("./assert.js"),t("./util.js")),o=n.inherits,s=t("./es5.js");return o(i,r),i.prototype._init=function(){this._init$(void 0,-3)},i.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){this._values[e]=t;var r=++this._totalResolved;if(r>=this._length){for(var i={},n=this.length(),o=0,s=this.length();s>o;++o)i[this._values[o+n]]=this._values[o];this._resolve(i)}}},i.prototype._promiseProgressed=function(t,e){this._isResolved()||this._promise._progress({key:this._values[e+this.length()],value:t})},r.PropertiesPromiseArray=i,i}},{"./assert.js":293,"./es5.js":303,"./util.js":330}],318:[function(t,e){"use strict";e.exports=function(e,r){function i(t,r,i){var o,u=e._cast(t,i,void 0);return a(u)?(e.is(u)?o=u._then(e.props,void 0,void 0,void 0,void 0,i):(o=new n(u,i,r===!0&&u._isBound()?u._boundTo:void 0).promise(),r=!1),r===!0&&u._isBound()&&o._setBoundTo(u._boundTo),o):s("cannot await properties of a non-object")}var n=t("./properties_promise_array.js")(e,r),o=t("./util.js"),s=t("./errors_api_rejection")(e),a=o.isObject;e.prototype.props=function(){return i(this,!0,this.props)},e.props=function(t){return i(t,!1,e.props)}}},{"./errors_api_rejection":302,"./properties_promise_array.js":317,"./util.js":330}],319:[function(t,e){"use strict";function r(t,e,r,i,n){for(var o=0;n>o;++o)r[o+i]=t[o+e]}function i(t){return t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+1}function n(t){return"number"!=typeof t?16:i(Math.min(Math.max(16,t),1073741824))}function o(t){this._capacity=n(t),this._length=0,this._front=0,this._makeCapacity()}t("./assert.js");o.prototype._willBeOverCapacity=function(t){return this._capacity<t},o.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var r=this._front+e&this._capacity-1;this[r]=t,this._length=e+1},o.prototype.push=function(t,e,r){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(r);var n=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[n+0&o]=t,this[n+1&o]=e,this[n+2&o]=r,this._length=i},o.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},o.prototype.length=function(){return this._length},o.prototype._makeCapacity=function(){for(var t=this._capacity,e=0;t>e;++e)this[e]=void 0},o.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<3)},o.prototype._resizeTo=function(t){var e=this._front,i=this._capacity,n=new Array(i),o=this.length();if(r(this,0,n,0,i),this._capacity=t,this._makeCapacity(),this._front=0,i>=e+o)r(n,e,this,0,o);else{var s=o-(e+o&i-1);r(n,e,this,0,s),r(n,0,this,s,o-s)}},e.exports=o},{"./assert.js":293}],320:[function(t,e){"use strict";e.exports=function(e,r){function i(t,i,u){var l=e._cast(t,i,void 0);if(e.is(l))return s(l);if(!o(t))return n("expecting an array, a promise or a thenable");var c=new e(r);c._setTrace(i,u),void 0!==u&&(u._isBound()&&c._setBoundTo(u._boundTo),u._cancellable()&&(c._setCancellable(),c._cancellationParent=u));for(var h=c._fulfill,f=c._reject,p=0,d=t.length;d>p;++p){var _=t[p];(void 0!==_||a.call(t,p))&&e.cast(_)._then(h,f,void 0,c,null,i)}return c}var n=t("./errors_api_rejection.js")(e),o=t("./util.js").isArray,s=function(t){return t.then(function e(r){return i(r,e,t)})},a={}.hasOwnProperty;e.race=function(t){return i(t,e.race,void 0)},e.prototype.race=function(){return i(this,this.race,void 0)}}},{"./errors_api_rejection.js":302,"./util.js":330}],321:[function(t,e){"use strict";e.exports=function(e,r,i,n){function o(t,e){var r=this,i=void 0;"function"!=typeof r&&(i=r.receiver,r=r.fn);var n=t.length,o=void 0,s=0;if(void 0!==e)o=e,s=0;else if(s=1,n>0)for(var a=0;n>a;++a)if(void 0!==t[a]||a in t){o=t[a],s=a+1;break}if(void 0===i)for(var a=s;n>a;++a)(void 0!==t[a]||a in t)&&(o=r(o,t[a],a,n));else for(var a=s;n>a;++a)(void 0!==t[a]||a in t)&&(o=r.call(i,o,t[a],a,n));return o}function s(t){var e=this.fn,r=this.initialValue;return o.call(e,t,r)}function a(t,e,r,i,n){return r._then(function o(r){return u(t,e,r,i,o)},void 0,void 0,void 0,void 0,n)}function u(t,u,l,c,h){if("function"!=typeof u)return n("fn must be a function");if(c===!0&&t._isBound()&&(u={fn:u,receiver:t._boundTo}),void 0!==l){if(e.is(l)){if(!l.isFulfilled())return a(t,u,l,c,h);l=l._settledValue}return r(t,i,h,c===!0&&t._isBound()?t._boundTo:void 0).promise()._then(s,void 0,void 0,{fn:u,initialValue:l},void 0,e.reduce)}return r(t,i,h,c===!0&&t._isBound()?t._boundTo:void 0).promise()._then(o,void 0,void 0,u,void 0,h)}t("./assert.js");e.reduce=function(t,r,i){return u(t,r,i,!1,e.reduce)},e.prototype.reduce=function(t,e){return u(this,t,e,!0,this.reduce)}}},{"./assert.js":293}],322:[function(t,e){(function(r){"use strict";{var i,n=t("./global.js");t("./assert.js")}if("undefined"!=typeof r&&null!==r&&"function"==typeof r.cwd&&"function"==typeof r.nextTick)i=r.nextTick;else if("function"!=typeof MutationObserver&&"function"!=typeof WebkitMutationObserver&&"function"!=typeof WebKitMutationObserver||"undefined"==typeof document||"function"!=typeof document.createElement)if("function"==typeof n.postMessage&&"function"!=typeof n.importScripts&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener){var o="bluebird_message_key_"+Math.random();i=function(){function t(t){if(t.source===n&&t.data===o){var r=e;e=void 0,r()}}var e=void 0;return n.addEventListener("message",t,!1),function(t){e=t,n.postMessage(o,"*")}}()}else i="function"==typeof MessageChannel?function(){var t=void 0,e=new MessageChannel;return e.port1.onmessage=function(){var e=t;t=void 0,e()},function(r){t=r,e.port2.postMessage(null)}}():n.setTimeout?function(t){setTimeout(t,4)}:function(t){t()};else i=function(){var t=n.MutationObserver||n.WebkitMutationObserver||n.WebKitMutationObserver,e=document.createElement("div"),r=void 0,i=new t(function(){var t=r;r=void 0,t()});return i.observe(e,{attributes:!0}),function(t){r=t,e.setAttribute("class","foo")}}();e.exports=i}).call(this,t("Gd+qZh"))},{"./assert.js":293,"./global.js":307,"Gd+qZh":338}],323:[function(t,e){"use strict";e.exports=function(e,r,i){function n(t,e,i){return r(t,o,i,e===!0&&t._isBound()?t._boundTo:void 0).promise()}var o=t("./settled_promise_array.js")(e,i);e.settle=function(t){return n(t,!1,e.settle)},e.prototype.settle=function(){return n(this,!0,this.settle)}}},{"./settled_promise_array.js":324}],324:[function(t,e){"use strict";e.exports=function(e,r){function i(t,e,r){this.constructor$(t,e,r)}var n=(t("./assert.js"),t("./promise_inspection.js")),o=t("./util.js"),s=o.inherits;return s(i,r),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var r=++this._totalResolved;r>=this._length&&this._resolve(this._values)},i.prototype._promiseFulfilled=function(t,e){if(!this._isResolved()){var r=new n;r._bitField=268435456,r._settledValue=t,this._promiseResolved(e,r)}},i.prototype._promiseRejected=function(t,e){if(!this._isResolved()){var r=new n;r._bitField=134217728,r._settledValue=t,this._promiseResolved(e,r)}},i}},{"./assert.js":293,"./promise_inspection.js":313,"./util.js":330}],325:[function(t,e){"use strict";e.exports=function(e,r,i,n){function o(t,e,i,o){if((0|e)!==e||0>e)return n("expecting a positive integer");var a=r(t,s,o,i===!0&&t._isBound()?t._boundTo:void 0),u=a.promise();return u.isRejected()?u:(a.setHowMany(e),a.init(),u)}{var s=t("./some_promise_array.js")(i);t("./assert.js")}e.some=function(t,r){return o(t,r,!1,e.some)},e.prototype.some=function(t){return o(this,t,!0,this.some)}}},{"./assert.js":293,"./some_promise_array.js":326}],326:[function(t,e){"use strict";e.exports=function(e){function r(t,e,r){this.constructor$(t,e,r),this._howMany=0,this._unwrap=!1,this._initialized=!1}var i=t("./util.js"),n=t("./errors.js").RangeError,o=i.inherits,s=i.isArray;
return o(r,e),r.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-2);var t=s(this._values);if(this._holes=t?this._values.length-this.length():0,!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()){var e="(Promise.some) input array contains less than "+this._howMany+" promises";this._reject(new n(e))}}},r.prototype.init=function(){this._initialized=!0,this._init()},r.prototype.setUnwrap=function(){this._unwrap=!0},r.prototype.howMany=function(){return this._howMany},r.prototype.setHowMany=function(t){this._isResolved()||(this._howMany=t)},r.prototype._promiseFulfilled=function(t){this._isResolved()||(this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values)))},r.prototype._promiseRejected=function(t){this._isResolved()||(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()&&this._reject(this._values.length===this.length()?[]:this._values.slice(this.length()+this._holes)))},r.prototype._fulfilled=function(){return this._totalResolved},r.prototype._rejected=function(){return this._values.length-this.length()-this._holes},r.prototype._addRejected=function(t){this._values.push(t)},r.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},r.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},r}},{"./errors.js":301,"./util.js":330}],327:[function(t,e){"use strict";e.exports=function(e){var r=t("./promise_inspection.js");e.prototype.inspect=function(){return new r(this)}}},{"./promise_inspection.js":313}],328:[function(t,e){"use strict";e.exports=function(e){function r(t){try{return t.then}catch(e){return a.e=e,a}}function i(t,o,s){if(u(t)){if(t instanceof e)return t;var l=r(t);if(l===a)return o="function"==typeof o?o:i,void 0!==s&&s._attachExtraTrace(l.e),e.reject(l.e,o);if("function"==typeof l)return o="function"==typeof o?o:i,n(t,l,o,s)}return t}function n(t,r,i,n){function s(r){if(!h){if(h=!0,t===r){var i=e._makeSelfResolutionError();return void 0!==n&&n._attachExtraTrace(i),void c.reject(i)}c.resolve(r)}}function u(t){h||(h=!0,o.markAsOriginatingFromRejection(t),void 0!==n&&n._attachExtraTrace(t),c.reject(t))}var c=e.defer(i),h=!1,f=l(r,t,s,u);return f!==a||h||(h=!0,void 0!==n&&n._attachExtraTrace(f.e),c.promise._reject(f.e)),c.promise}var o=(t("./assert.js"),t("./errors.js")),s=t("./util.js"),a=s.errorObj,u=s.isObject,l=s.tryCatch2;e._cast=i}},{"./assert.js":293,"./errors.js":301,"./util.js":330}],329:[function(t,e){"use strict";var r=t("./global.js"),i=function(t,e){for(var i=arguments.length,n=new Array(i-2),o=2;i>o;++o)n[o-2]=arguments[o];r.setTimeout(function(){t.apply(void 0,n)},e)},n={};r.setTimeout(function(t){t===n&&(i=r.setTimeout)},1,n),e.exports=function(e,r){var n=(t("./util.js"),t("./assert.js"),t("./errors.js")),o=t("./errors_api_rejection")(e),s=e.TimeoutError,a=function(t,e,r){if(t.isPending()){"string"!=typeof e&&(e="operation timed out after "+r+" ms");var i=new s(e);n.markAsOriginatingFromRejection(i),t._attachExtraTrace(i),t._rejectUnchecked(i)}},u=function(t,e){e._fulfill(t)};e.delay=function(t,n,s){if(void 0===n&&(n=t,t=void 0),(0|n)!==n||0>n)return o("expecting a positive integer");"function"!=typeof s&&(s=e.delay);var a=e._cast(t,s,void 0),l=new e(r);return e.is(a)?(a._isBound()&&l._setBoundTo(a._boundTo),a._cancellable()&&(l._setCancellable(),l._cancellationParent=a),l._setTrace(s,a),l._follow(a),l.then(function(t){return e.delay(t,n)})):(l._setTrace(s,void 0),i(u,n,t,l),l)},e.prototype.delay=function(t){return e.delay(this,t,this.delay)},e.prototype.timeout=function(t,n){if((0|t)!==t||0>t)return o("expecting a positive integer");var s=new e(r);return s._setTrace(this.timeout,this),this._isBound()&&s._setBoundTo(this._boundTo),this._cancellable()&&(s._setCancellable(),s._cancellationParent=this),s._follow(this),i(a,t,s,n,t),s}}},{"./assert.js":293,"./errors.js":301,"./errors_api_rejection":302,"./global.js":307,"./util.js":330}],330:[function(t,e){"use strict";function r(t){"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn("Bluebird: "+t)}function i(t,e,r){try{return t.call(e,r)}catch(i){return m.e=i,m}}function n(t,e,r,i){try{return t.call(e,r,i)}catch(n){return m.e=n,m}}function o(t,e,r){try{return t.apply(r,e)}catch(i){return m.e=i,m}}function s(t){return"string"==typeof t?t:""+t}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function u(t){return!a(t)}function l(t){return a(t)?new Error(s(t)):t}function c(t,e){var r,i=t.length,n=new Array(i+1);for(r=0;i>r;++r)n[r]=t[r];return n[r]=e,n}function h(t,e,r){var i={value:r,configurable:!0,enumerable:!1,writable:!0};return d.defineProperty(t,e,i),t}function f(t){throw t}var p=t("./global.js"),d=(t("./assert.js"),t("./es5.js")),_=function(){try{var t={};return d.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(e){return!1}}(),v=function(t,e,r){try{return h(t,e,r),t}catch(i){for(var n={},o=d.keys(t),s=0,a=o.length;a>s;++s)try{var u=o[s];n[u]=t[u]}catch(l){n[u]=l}return h(n,e,r),n}},g=function(){return"undefined"!=typeof window&&null!==window&&"undefined"!=typeof window.document&&"undefined"!=typeof navigator&&null!==navigator&&"string"==typeof navigator.appName&&window===p?!1:!0}(),m={e:{}},y=function(t,e){function r(){this.constructor=t,this.constructor$=e;for(var r in e.prototype)i.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}var i={}.hasOwnProperty;return r.prototype=e.prototype,t.prototype=new r,t.prototype},b=function(){return"string"!==this}.call("string"),w={thrower:f,isArray:d.isArray,haveGetters:_,notEnumerableProp:h,isPrimitive:a,isObject:u,ensurePropertyExpansion:v,canEvaluate:g,deprecated:r,errorObj:m,tryCatch1:i,tryCatch2:n,tryCatchApply:o,inherits:y,withAppended:c,asString:s,maybeWrapAsError:l,wrapsPrimitiveReceiver:b};e.exports=w},{"./assert.js":293,"./es5.js":303,"./global.js":307}],331:[function(t,e){e.exports=function(t){t=t||{};var e=t.canvas||document.createElement("canvas");"number"==typeof t.width&&(e.width=t.width),"number"==typeof t.height&&(e.height=t.height);var r=t.attributes||t.attribs||{};try{gl=e.getContext("webgl",r)||e.getContext("experimental-webgl",r)}catch(i){gl=null}return gl}},{}],332:[function(t,e){e.exports=t(266)},{}],333:[function(t,e,r){function i(t,e,r){if(!(this instanceof i))return new i(t,e,r);var n,o=typeof t;if("number"===o)n=t>0?t>>>0:0;else if("string"===o)"base64"===e&&(t=R(t)),n=i.byteLength(t,e);else{if("object"!==o||null===t)throw new Error("First argument needs to be a number, array or string.");"Buffer"===t.type&&S(t.data)&&(t=t.data),n=+t.length>0?Math.floor(+t.length):0}var s;X?s=i._augment(new Uint8Array(n)):(s=this,s.length=n,s._isBuffer=!0);var a;if(X&&"number"==typeof t.byteLength)s._set(t);else if(F(t))if(i.isBuffer(t))for(a=0;n>a;a++)s[a]=t.readUInt8(a);else for(a=0;n>a;a++)s[a]=(t[a]%256+256)%256;else if("string"===o)s.write(t,0,e);else if("number"===o&&!X&&!r)for(a=0;n>a;a++)s[a]=0;return s}function n(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var o=e.length;z(o%2===0,"Invalid hex string"),i>o/2&&(i=o/2);for(var s=0;i>s;s++){var a=parseInt(e.substr(2*s,2),16);z(!isNaN(a),"Invalid hex string"),t[r+s]=a}return s}function o(t,e,r,i){var n=D(O(e),t,r,i);return n}function s(t,e,r,i){var n=D(I(e),t,r,i);return n}function a(t,e,r,i){return s(t,e,r,i)}function u(t,e,r,i){var n=D(U(e),t,r,i);return n}function l(t,e,r,i){var n=D(M(e),t,r,i);return n}function c(t,e,r){return H.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function h(t,e,r){var i="",n="";r=Math.min(t.length,r);for(var o=e;r>o;o++)t[o]<=127?(i+=N(n)+String.fromCharCode(t[o]),n=""):n+="%"+t[o].toString(16);return i+N(n)}function f(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;r>n;n++)i+=String.fromCharCode(t[n]);return i}function p(t,e,r){return f(t,e,r)}function d(t,e,r){var i=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>i)&&(r=i);for(var n="",o=e;r>o;o++)n+=C(t[o]);return n}function _(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function v(t,e,r,i){i||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==e&&null!==e,"missing offset"),z(e+1<t.length,"Trying to read beyond buffer length"));var n=t.length;if(!(e>=n)){var o;return r?(o=t[e],n>e+1&&(o|=t[e+1]<<8)):(o=t[e]<<8,n>e+1&&(o|=t[e+1])),o}}function g(t,e,r,i){i||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==e&&null!==e,"missing offset"),z(e+3<t.length,"Trying to read beyond buffer length"));var n=t.length;if(!(e>=n)){var o;return r?(n>e+2&&(o=t[e+2]<<16),n>e+1&&(o|=t[e+1]<<8),o|=t[e],n>e+3&&(o+=t[e+3]<<24>>>0)):(n>e+1&&(o=t[e+1]<<16),n>e+2&&(o|=t[e+2]<<8),n>e+3&&(o|=t[e+3]),o+=t[e]<<24>>>0),o}}function m(t,e,r,i){i||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==e&&null!==e,"missing offset"),z(e+1<t.length,"Trying to read beyond buffer length"));var n=t.length;if(!(e>=n)){var o=v(t,e,r,!0),s=32768&o;return s?-1*(65535-o+1):o}}function y(t,e,r,i){i||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==e&&null!==e,"missing offset"),z(e+3<t.length,"Trying to read beyond buffer length"));var n=t.length;if(!(e>=n)){var o=g(t,e,r,!0),s=2147483648&o;return s?-1*(4294967295-o+1):o}}function b(t,e,r,i){return i||(z("boolean"==typeof r,"missing or invalid endian"),z(e+3<t.length,"Trying to read beyond buffer length")),q.read(t,e,r,23,4)}function w(t,e,r,i){return i||(z("boolean"==typeof r,"missing or invalid endian"),z(e+7<t.length,"Trying to read beyond buffer length")),q.read(t,e,r,52,8)}function x(t,e,r,i,n){n||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof i,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+1<t.length,"trying to write beyond buffer length"),L(e,65535));var o=t.length;if(!(r>=o)){for(var s=0,a=Math.min(o-r,2);a>s;s++)t[r+s]=(e&255<<8*(i?s:1-s))>>>8*(i?s:1-s);return r+2}}function j(t,e,r,i,n){n||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof i,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+3<t.length,"trying to write beyond buffer length"),L(e,4294967295));var o=t.length;if(!(r>=o)){for(var s=0,a=Math.min(o-r,4);a>s;s++)t[r+s]=e>>>8*(i?s:3-s)&255;return r+4}}function T(t,e,r,i,n){n||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof i,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+1<t.length,"Trying to write beyond buffer length"),B(e,32767,-32768));var o=t.length;if(!(r>=o))return e>=0?x(t,e,r,i,n):x(t,65535+e+1,r,i,n),r+2}function A(t,e,r,i,n){n||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof i,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+3<t.length,"Trying to write beyond buffer length"),B(e,2147483647,-2147483648));var o=t.length;if(!(r>=o))return e>=0?j(t,e,r,i,n):j(t,4294967295+e+1,r,i,n),r+4}function E(t,e,r,i,n){n||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof i,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+3<t.length,"Trying to write beyond buffer length"),V(e,3.4028234663852886e38,-3.4028234663852886e38));var o=t.length;if(!(r>=o))return q.write(t,e,r,i,23,4),r+4}function P(t,e,r,i,n){n||(z(void 0!==e&&null!==e,"missing value"),z("boolean"==typeof i,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(r+7<t.length,"Trying to write beyond buffer length"),V(e,1.7976931348623157e308,-1.7976931348623157e308));var o=t.length;if(!(r>=o))return q.write(t,e,r,i,52,8),r+8}function R(t){for(t=k(t).replace(G,"");t.length%4!==0;)t+="=";return t}function k(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function S(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function F(t){return S(t)||i.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function C(t){return 16>t?"0"+t.toString(16):t.toString(16)}function O(t){for(var e=[],r=0;r<t.length;r++){var i=t.charCodeAt(r);if(127>=i)e.push(i);else{var n=r;i>=55296&&57343>=i&&r++;for(var o=encodeURIComponent(t.slice(n,r+1)).substr(1).split("%"),s=0;s<o.length;s++)e.push(parseInt(o[s],16))}}return e}function I(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function M(t){for(var e,r,i,n=[],o=0;o<t.length;o++)e=t.charCodeAt(o),r=e>>8,i=e%256,n.push(i),n.push(r);return n}function U(t){return H.toByteArray(t)}function D(t,e,r,i){for(var n=0;i>n&&!(n+r>=e.length||n>=t.length);n++)e[n+r]=t[n];return n}function N(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function L(t,e){z("number"==typeof t,"cannot write a non-number as a number"),z(t>=0,"specified a negative value for writing an unsigned value"),z(e>=t,"value is larger than maximum value for type"),z(Math.floor(t)===t,"value has a fractional component")}function B(t,e,r){z("number"==typeof t,"cannot write a non-number as a number"),z(e>=t,"value larger than maximum allowed value"),z(t>=r,"value smaller than minimum allowed value"),z(Math.floor(t)===t,"value has a fractional component")}function V(t,e,r){z("number"==typeof t,"cannot write a non-number as a number"),z(e>=t,"value larger than maximum allowed value"),z(t>=r,"value smaller than minimum allowed value")}function z(t,e){if(!t)throw new Error(e||"Failed assertion")}var H=t("base64-js"),q=t("ieee754");r.Buffer=i,r.SlowBuffer=i,r.INSPECT_MAX_BYTES=50,i.poolSize=8192;var X=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(r){return!1}}();i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.byteLength=function(t,e){var r;switch(t=t.toString(),e||"utf8"){case"hex":r=t.length/2;break;case"utf8":case"utf-8":r=O(t).length;break;case"ascii":case"binary":case"raw":r=t.length;break;case"base64":r=U(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*t.length;break;default:throw new Error("Unknown encoding")}return r},i.concat=function(t,e){if(z(S(t),"Usage: Buffer.concat(list[, length])"),0===t.length)return new i(0);if(1===t.length)return t[0];var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new i(e),o=0;for(r=0;r<t.length;r++){var s=t[r];s.copy(n,o),o+=s.length}return n},i.compare=function(t,e){z(i.isBuffer(t)&&i.isBuffer(e),"Arguments must be Buffers");for(var r=t.length,n=e.length,o=0,s=Math.min(r,n);s>o&&t[o]===e[o];o++);return o!==s&&(r=t[o],n=e[o]),n>r?-1:r>n?1:0},i.prototype.write=function(t,e,r,i){if(isFinite(e))isFinite(r)||(i=r,r=void 0);else{var c=i;i=e,e=r,r=c}e=Number(e)||0;var h=this.length-e;r?(r=Number(r),r>h&&(r=h)):r=h,i=String(i||"utf8").toLowerCase();var f;switch(i){case"hex":f=n(this,t,e,r);break;case"utf8":case"utf-8":f=o(this,t,e,r);break;case"ascii":f=s(this,t,e,r);break;case"binary":f=a(this,t,e,r);break;case"base64":f=u(this,t,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=l(this,t,e,r);break;default:throw new Error("Unknown encoding")}return f},i.prototype.toString=function(t,e,r){var i=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,r=void 0===r?i.length:Number(r),r===e)return"";var n;switch(t){case"hex":n=d(i,e,r);break;case"utf8":case"utf-8":n=h(i,e,r);break;case"ascii":n=f(i,e,r);break;case"binary":n=p(i,e,r);break;case"base64":n=c(i,e,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=_(i,e,r);break;default:throw new Error("Unknown encoding")}return n},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.equals=function(t){return z(i.isBuffer(t),"Argument must be a Buffer"),0===i.compare(this,t)},i.prototype.compare=function(t){return z(i.isBuffer(t),"Argument must be a Buffer"),i.compare(this,t)},i.prototype.copy=function(t,e,r,i){var n=this;if(r||(r=0),i||0===i||(i=this.length),e||(e=0),i!==r&&0!==t.length&&0!==n.length){z(i>=r,"sourceEnd < sourceStart"),z(e>=0&&e<t.length,"targetStart out of bounds"),z(r>=0&&r<n.length,"sourceStart out of bounds"),z(i>=0&&i<=n.length,"sourceEnd out of bounds"),i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var o=i-r;if(100>o||!X)for(var s=0;o>s;s++)t[s+e]=this[s+r];else t._set(this.subarray(r,r+o),e)}},i.prototype.slice=function(t,e){var r=this.length;if(t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t),X)return i._augment(this.subarray(t,e));for(var n=e-t,o=new i(n,void 0,!0),s=0;n>s;s++)o[s]=this[s+t];return o},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.readUInt8=function(t,e){return e||(z(void 0!==t&&null!==t,"missing offset"),z(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},i.prototype.readUInt16LE=function(t,e){return v(this,t,!0,e)},i.prototype.readUInt16BE=function(t,e){return v(this,t,!1,e)},i.prototype.readUInt32LE=function(t,e){return g(this,t,!0,e)},i.prototype.readUInt32BE=function(t,e){return g(this,t,!1,e)},i.prototype.readInt8=function(t,e){if(e||(z(void 0!==t&&null!==t,"missing offset"),z(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var r=128&this[t];return r?-1*(255-this[t]+1):this[t]}},i.prototype.readInt16LE=function(t,e){return m(this,t,!0,e)},i.prototype.readInt16BE=function(t,e){return m(this,t,!1,e)},i.prototype.readInt32LE=function(t,e){return y(this,t,!0,e)},i.prototype.readInt32BE=function(t,e){return y(this,t,!1,e)},i.prototype.readFloatLE=function(t,e){return b(this,t,!0,e)},i.prototype.readFloatBE=function(t,e){return b(this,t,!1,e)},i.prototype.readDoubleLE=function(t,e){return w(this,t,!0,e)},i.prototype.readDoubleBE=function(t,e){return w(this,t,!1,e)},i.prototype.writeUInt8=function(t,e,r){return r||(z(void 0!==t&&null!==t,"missing value"),z(void 0!==e&&null!==e,"missing offset"),z(e<this.length,"trying to write beyond buffer length"),L(t,255)),e>=this.length?void 0:(this[e]=t,e+1)},i.prototype.writeUInt16LE=function(t,e,r){return x(this,t,e,!0,r)},i.prototype.writeUInt16BE=function(t,e,r){return x(this,t,e,!1,r)},i.prototype.writeUInt32LE=function(t,e,r){return j(this,t,e,!0,r)},i.prototype.writeUInt32BE=function(t,e,r){return j(this,t,e,!1,r)},i.prototype.writeInt8=function(t,e,r){return r||(z(void 0!==t&&null!==t,"missing value"),z(void 0!==e&&null!==e,"missing offset"),z(e<this.length,"Trying to write beyond buffer length"),B(t,127,-128)),e>=this.length?void 0:(t>=0?this.writeUInt8(t,e,r):this.writeUInt8(255+t+1,e,r),e+1)},i.prototype.writeInt16LE=function(t,e,r){return T(this,t,e,!0,r)},i.prototype.writeInt16BE=function(t,e,r){return T(this,t,e,!1,r)},i.prototype.writeInt32LE=function(t,e,r){return A(this,t,e,!0,r)},i.prototype.writeInt32BE=function(t,e,r){return A(this,t,e,!1,r)},i.prototype.writeFloatLE=function(t,e,r){return E(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){return E(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){return P(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){return P(this,t,e,!1,r)},i.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),z(r>=e,"end < start"),r!==e&&0!==this.length){z(e>=0&&e<this.length,"start out of bounds"),z(r>=0&&r<=this.length,"end out of bounds");var i;if("number"==typeof t)for(i=e;r>i;i++)this[i]=t;else{var n=O(t.toString()),o=n.length;for(i=e;r>i;i++)this[i]=n[i%o]}return this}},i.prototype.inspect=function(){for(var t=[],e=this.length,i=0;e>i;i++)if(t[i]=C(this[i]),i===r.INSPECT_MAX_BYTES){t[i+1]="...";break}return"<Buffer "+t.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(X)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var Y=i.prototype;i._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=Y.get,t.set=Y.set,t.write=Y.write,t.toString=Y.toString,t.toLocaleString=Y.toString,t.toJSON=Y.toJSON,t.equals=Y.equals,t.compare=Y.compare,t.copy=Y.copy,t.slice=Y.slice,t.readUInt8=Y.readUInt8,t.readUInt16LE=Y.readUInt16LE,t.readUInt16BE=Y.readUInt16BE,t.readUInt32LE=Y.readUInt32LE,t.readUInt32BE=Y.readUInt32BE,t.readInt8=Y.readInt8,t.readInt16LE=Y.readInt16LE,t.readInt16BE=Y.readInt16BE,t.readInt32LE=Y.readInt32LE,t.readInt32BE=Y.readInt32BE,t.readFloatLE=Y.readFloatLE,t.readFloatBE=Y.readFloatBE,t.readDoubleLE=Y.readDoubleLE,t.readDoubleBE=Y.readDoubleBE,t.writeUInt8=Y.writeUInt8,t.writeUInt16LE=Y.writeUInt16LE,t.writeUInt16BE=Y.writeUInt16BE,t.writeUInt32LE=Y.writeUInt32LE,t.writeUInt32BE=Y.writeUInt32BE,t.writeInt8=Y.writeInt8,t.writeInt16LE=Y.writeInt16LE,t.writeInt16BE=Y.writeInt16BE,t.writeInt32LE=Y.writeInt32LE,t.writeInt32BE=Y.writeInt32BE,t.writeFloatLE=Y.writeFloatLE,t.writeFloatBE=Y.writeFloatBE,t.writeDoubleLE=Y.writeDoubleLE,t.writeDoubleBE=Y.writeDoubleBE,t.fill=Y.fill,t.inspect=Y.inspect,t.toArrayBuffer=Y.toArrayBuffer,t};var G=/[^+\/0-9A-z]/g},{"base64-js":334,ieee754:335}],334:[function(t,e,r){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s?62:e===a?63:u>e?-1:u+10>e?e-u+26+26:c+26>e?e-c:l+26>e?e-l+26:void 0}function r(t){function r(t){l[h++]=t}var i,n,s,a,u,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;u="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,l=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var h=0;for(i=0,n=0;s>i;i+=4,n+=3)a=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3)),r((16711680&a)>>16),r((65280&a)>>8),r(255&a);return 2===u?(a=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4,r(255&a)):1===u&&(a=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2,r(a>>8&255),r(255&a)),l}function n(t){function e(t){return i.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var n,o,s,a=t.length%3,u="";for(n=0,s=t.length-a;s>n;n+=3)o=(t[n]<<16)+(t[n+1]<<8)+t[n+2],u+=r(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0);t.toByteArray=r,t.fromByteArray=n}("undefined"==typeof r?this.base64js={}:r)},{}],335:[function(t,e,r){r.read=function(t,e,r,i,n){var o,s,a=8*n-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=r?n-1:0,f=r?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?0/0:1/0*(p?-1:1);s+=Math.pow(2,i),o-=l}return(p?-1:1)*s*Math.pow(2,o-i)},r.write=function(t,e,r,i,n,o){var s,a,u,l=8*o-n-1,c=(1<<l)-1,h=c>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,_=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,n),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;t[r+p]=255&a,p+=d,a/=256,n-=8);for(s=s<<n|a,l+=n;l>0;t[r+p]=255&s,p+=d,s/=256,l-=8);t[r+p-d]|=128*_}},{}],336:[function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function n(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!n(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,n,a,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length))throw e=arguments[1],e instanceof Error?e:TypeError('Uncaught, unspecified "error" event.');if(r=this._events[t],s(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,a=new Array(n-1),u=1;n>u;u++)a[u-1]=arguments[u];r.apply(this,a)}else if(o(r)){for(n=arguments.length,a=new Array(n-1),u=1;n>u;u++)a[u-1]=arguments[u];for(l=r.slice(),n=l.length,u=0;n>u;u++)l[u].apply(this,a)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var n=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,n,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,n=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(a=s;a-->0;)if(r[a]===e||r[a].listener&&r[a].listener===e){n=a;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],i(r))this.removeListener(t,r);else for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var r;return r=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],337:[function(t,e){e.exports=t(108)},{}],338:[function(t,e){function r(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var i=r.shift();i()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},{}],339:[function(t,e){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],340:[function(t,e,r){(function(e,i){function n(t,e){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),_(e)?i.showHidden=e:e&&r._extend(i,e),w(i.showHidden)&&(i.showHidden=!1),w(i.depth)&&(i.depth=2),w(i.colors)&&(i.colors=!1),w(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),u(i,t,i.depth)}function o(t,e){var r=n.styles[e];return r?"["+n.colors[r][0]+"m"+t+"["+n.colors[r][1]+"m":t}function s(t){return t}function a(t){var e={};return t.forEach(function(t){e[t]=!0}),e}function u(t,e,i){if(t.customInspect&&e&&E(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(i,t);return y(n)||(n=u(t,n,i)),n}var o=l(t,e);if(o)return o;var s=Object.keys(e),_=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),A(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(e);if(0===s.length){if(E(e)){var v=e.name?": "+e.name:"";return t.stylize("[Function"+v+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(T(e))return t.stylize(Date.prototype.toString.call(e),"date");if(A(e))return c(e)}var g="",m=!1,b=["{","}"];if(d(e)&&(m=!0,b=["[","]"]),E(e)){var w=e.name?": "+e.name:"";g=" [Function"+w+"]"}if(x(e)&&(g=" "+RegExp.prototype.toString.call(e)),T(e)&&(g=" "+Date.prototype.toUTCString.call(e)),A(e)&&(g=" "+c(e)),0===s.length&&(!m||0==e.length))return b[0]+g+b[1];if(0>i)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var j;return j=m?h(t,e,i,_,s):s.map(function(r){return f(t,e,i,_,r,m)}),t.seen.pop(),p(j,g,b)}function l(t,e){if(w(e))return t.stylize("undefined","undefined");if(y(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return m(e)?t.stylize(""+e,"number"):_(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,r,i,n){for(var o=[],s=0,a=e.length;a>s;++s)o.push(F(e,String(s))?f(t,e,r,i,String(s),!0):"");return n.forEach(function(n){n.match(/^\d+$/)||o.push(f(t,e,r,i,n,!0))}),o}function f(t,e,r,i,n,o){var s,a,l;if(l=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),F(i,n)||(s="["+n+"]"),a||(t.seen.indexOf(l.value)<0?(a=v(r)?u(t,l.value,null):u(t,l.value,r-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(s)){if(o&&n.match(/^\d+$/))return a;s=JSON.stringify(""+n),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,r){var i=0,n=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function d(t){return Array.isArray(t)}function _(t){return"boolean"==typeof t}function v(t){return null===t}function g(t){return null==t}function m(t){return"number"==typeof t}function y(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return j(t)&&"[object RegExp]"===R(t)
}function j(t){return"object"==typeof t&&null!==t}function T(t){return j(t)&&"[object Date]"===R(t)}function A(t){return j(t)&&("[object Error]"===R(t)||t instanceof Error)}function E(t){return"function"==typeof t}function P(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function R(t){return Object.prototype.toString.call(t)}function k(t){return 10>t?"0"+t.toString(10):t.toString(10)}function S(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),M[t.getMonth()],e].join(" ")}function F(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var C=/%[sdj%]/g;r.format=function(t){if(!y(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(n(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,o=i.length,s=String(t).replace(C,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(e){return"[Circular]"}default:return t}}),a=i[r];o>r;a=i[++r])s+=v(a)||!j(a)?" "+a:" "+n(a);return s},r.deprecate=function(t,n){function o(){if(!s){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),s=!0}return t.apply(this,arguments)}if(w(i.process))return function(){return r.deprecate(t,n).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return o};var O,I={};r.debuglog=function(t){if(w(O)&&(O=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(O)){var i=e.pid;I[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,i,e)}}else I[t]=function(){};return I[t]},r.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=_,r.isNull=v,r.isNullOrUndefined=g,r.isNumber=m,r.isString=y,r.isSymbol=b,r.isUndefined=w,r.isRegExp=x,r.isObject=j,r.isDate=T,r.isError=A,r.isFunction=E,r.isPrimitive=P,r.isBuffer=t("./support/isBuffer");var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",S(),r.format.apply(r,arguments))},r.inherits=t("inherits"),r._extend=function(t,e){if(!e||!j(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}}).call(this,t("Gd+qZh"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":339,"Gd+qZh":338,inherits:337}]},{},[2]);